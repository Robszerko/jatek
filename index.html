<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SzóNyomozó</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-gradient-start: #3d405b; --bg-gradient-end: #2c2f48; --container-bg: rgba(244, 241, 222, 0.95);
            --text-color: #3d405b; --title-color: #e07a5f; --border-color-idle: #bcaaa4;
            --border-color-active: #8d6e63; --correct-color: #81b29a; --present-color: #f2cc8f;
            --absent-color: #9e9e9e; --key-bg: #dcd3b8; --key-text: #3d405b;
            --key-shadow: 0 3px 0 #bcaaa4; --font-title: 'Fredoka One', cursive; --font-main: 'Roboto Mono', monospace;
            --difficulty-easy: #388e3c; --difficulty-hard: #f57c00; --difficulty-extra: #d32f2f;
            --fail-color: #e53935; --insurance-color: #4CAF50; --surprise-color: #9c27b0;
        }

        .theme-forest { --bg-gradient-start: #2d6a4f; --bg-gradient-end: #1b4332; --container-bg: rgba(247, 246, 242, 0.95); --text-color: #081c15; --title-color: #74c69d; --border-color-idle: #b7e4c7; --border-color-active: #95d5b2; --correct-color: #52b788; --present-color: #ffd60a; --absent-color: #9e9e9e; --key-bg: #d8f3dc; --key-text: #1b4332; --key-shadow: 0 3px 0 #b7e4c7; }
        .theme-ocean { --bg-gradient-start: #0077b6; --bg-gradient-end: #023e8a; --container-bg: rgba(237, 246, 249, 0.95); --text-color: #03045e; --title-color: #00b4d8; --border-color-idle: #ade8f4; --border-color-active: #90e0ef; --correct-color: #48cae4; --present-color: #ffc300; --absent-color: #adb5bd; --key-bg: #caf0f8; --key-text: #023e8a; --key-shadow: 0 3px 0 #ade8f4; }
        .theme-sunset { --bg-gradient-start: #f77f00; --bg-gradient-end: #d62828; --container-bg: rgba(255, 250, 240, 0.95); --text-color: #800f2f; --title-color: #fcbf49; --border-color-idle: #eae2b7; --border-color-active: #f77f00; --correct-color: #70e000; --present-color: #fcbf49; --absent-color: #bc6c25; --key-bg: #fff1e6; --key-text: #d62828; --key-shadow: 0 3px 0 #eae2b7; }
        .theme-night { --bg-gradient-start: #232526; --bg-gradient-end: #000000; --container-bg: rgba(42, 42, 42, 0.95); --text-color: #e0e0e0; --title-color: #7f5af0; --border-color-idle: #6c757d; --border-color-active: #9a9a9a; --correct-color: #2cb67d; --present-color: #ffc107; --absent-color: #495057; --key-bg: #343a40; --key-text: #f8f9fa; --key-shadow: 0 3px 0 #495057; }
        .theme-rose { --bg-gradient-start: #c9184a; --bg-gradient-end: #8c0f32; --container-bg: rgba(255, 240, 243, 0.95); --text-color: #590d22; --title-color: #ff758f; --border-color-idle: #ffb3c1; --border-color-active: #ff8fa3; --correct-color: #a9def9; --present-color: #fcf6bd; --absent-color: #c9ada7; --key-bg: #ffe5ec; --key-text: #8c0f32; --key-shadow: 0 3px 0 #ffb3c1; }
        .theme-vintage { --bg-gradient-start: #a27b5c; --bg-gradient-end: #3f2f25; --container-bg: rgba(243, 235, 226, 0.95); --text-color: #3f2f25; --title-color: #7b553c; --border-color-idle: #dcd0c0; --border-color-active: #c0b2a4; --correct-color: #8c7a6b; --present-color: #e6b8a2; --absent-color: #9c8978; --key-bg: #efebe5; --key-text: #3f2f25; --key-shadow: 0 3px 0 #dcd0c0; }
        .theme-meadow { --bg-gradient-start: #7cb518; --bg-gradient-end: #5c8001; --container-bg: rgba(248, 255, 242, 0.95); --text-color: #436129; --title-color: #aacc00; --border-color-idle: #d4e09b; --border-color-active: #b5c77e; --correct-color: #9ef01a; --present-color: #f7d622; --absent-color: #90a955; --key-bg: #f2f7e5; --key-text: #436129; --key-shadow: 0 3px 0 #d4e09b; }
        .theme-royal { --bg-gradient-start: #5a189a; --bg-gradient-end: #3c096c; --container-bg: rgba(243, 237, 247, 0.95); --text-color: #3c096c; --title-color: #9d4edd; --border-color-idle: #d8b4fe; --border-color-active: #c792fe; --correct-color: #7b2cbf; --present-color: #fca311; --absent-color: #b1a7a6; --key-bg: #e9d8fd; --key-text: #3c096c; --key-shadow: 0 3px 0 #d8b4fe; }
        .theme-hacker { --bg-gradient-start: #0c0c0c; --bg-gradient-end: #000000; --container-bg: rgba(10, 25, 10, 0.9); --text-color: #00ff00; --title-color: #00ff00; --border-color-idle: #008000; --border-color-active: #32cd32; --correct-color: #32cd32; --present-color: #adff2f; --absent-color: #556b2f; --key-bg: #111; --key-text: #00ff00; --key-shadow: 0 3px 0 #008000; font-family: 'Roboto Mono', monospace; }

        body {
            background-color: var(--bg-gradient-end);
            background-image: radial-gradient(circle at top left, rgba(255, 255, 255, 0.1) 0%, transparent 40%), url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            color: var(--text-color);
            font-family: var(--font-main);
            display: flex; justify-content: center; align-items: flex-start; padding: 15px; box-sizing: border-box;
            -webkit-user-select: none; user-select: none; touch-action: manipulation;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        #game-container {
            background-color: var(--container-bg);
            border-radius: 20px; border: 2px solid rgba(255,255,255,0.2); box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 600px;
            padding: clamp(15px, 4vw, 30px); box-sizing: border-box; margin-top: 1vh; position: relative;
            transition: background-color 0.3s ease;
        }
        #new-hour-notification {
            display: none; justify-content: space-around; align-items: center;
            position: sticky; top: -15px; left: -15px; right: -15px;
            width: calc(100% + 30px);
            background-color: var(--present-color); color: var(--text-color);
            padding: 10px; font-weight: bold; z-index: 50;
            border-bottom: 2px solid rgba(0,0,0,0.2);
            border-radius: 20px 20px 0 0; margin: -15px -15px 15px -15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        #new-hour-notification button {
            background-color: var(--text-color); color: var(--container-bg);
            border: none; border-radius: 5px; padding: 5px 10px;
            font-weight: bold; cursor: pointer;
        }

        header { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0; margin-bottom: 20px; position: relative; width: 100%; }
        #header-main { display: flex; align-items: center; justify-content: center; position: relative; }
        #logo-container { display: flex; align-items: center; position: relative; }
        #logo-svg { width: clamp(80px, 20vw, 100px); height: auto; z-index: 1; }
        #logo-svg .logo-circle { stroke: url(#grad1); fill: var(--container-bg); transition: fill 0.3s ease; }
        #logo-svg .logo-handle { stroke: url(#grad1); }
        #logo-svg .logo-text { fill: var(--text-color); transition: fill 0.3s ease; }
        #logo-svg stop { transition: stop-color 0.3s ease; }
        
        header h1 {
            font-family: var(--font-title); color: var(--title-color); font-size: clamp(2rem, 9vw, 3rem); margin: 0;
            letter-spacing: 0.05em; margin-left: -2px; z-index: 0; transition: color 0.3s ease;
        }
        #title-container { position: relative; display: flex; align-items: center; }
        #copyright-notice { font-size: 0.7rem; color: var(--text-color); opacity: 0.7; margin-top: 2px; transition: color 0.3s ease, opacity 0.3s ease; }

        #theme-toggle-button { width: 28px; height: 28px; cursor: pointer; z-index: 10; transition: transform 0.2s ease; margin-left: 10px; }
        #theme-toggle-button:hover { transform: scale(1.2) rotate(15deg); }
        #theme-toggle-button svg { fill: var(--title-color); transition: fill 0.3s ease; width: 100%; height: 100%; }
        #theme-picker {
            position: absolute; top: 100%; right: 0; margin-top: 10px; background-color: var(--container-bg);
            border: 2px solid var(--border-color-idle); border-radius: 10px; padding: 10px; display: flex;
            flex-wrap: wrap; gap: 8px; width: 150px; z-index: 20; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .theme-swatch { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid var(--border-color-idle); transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .theme-swatch:hover { transform: scale(1.1); box-shadow: 0 0 5px var(--title-color); }
        .theme-swatch.active { border: 3px solid var(--title-color); box-shadow: 0 0 8px var(--title-color); }
        
        #daily-score-display { font-family: var(--font-main); font-size: 1.1rem; font-weight: 700; color: var(--title-color); background: rgba(0,0,0,0.05); padding: 5px 15px; border-radius: 20px; border: 2px solid var(--border-color-idle); margin-top: 10px; transition: color 0.3s ease, border-color 0.3s ease; }
        #insurance-display {
            display: flex; align-items: center; gap: 8px; font-family: var(--font-main);
            font-size: 1.1rem; font-weight: 700; color: var(--insurance-color);
            background: rgba(76, 175, 80, 0.1); padding: 5px 15px;
            border-radius: 20px; border: 2px solid var(--insurance-color); margin-top: 5px;
        }
        #insurance-display svg { width: 20px; height: 20px; fill: currentColor; }

        #keyboard-toggle-container { margin-top: 10px; font-size: 0.8rem; font-weight: bold; display: flex; align-items: center; gap: 5px; color: var(--text-color); }
        #keyboard-toggle-checkbox { cursor: pointer; }

        #word-tracker { display: flex; justify-content: center; gap: 10px; margin-bottom: 10px; flex-wrap: wrap; }
        .tracker-item { flex: 1; min-width: 60px; padding: 10px 5px; text-align: center; border-radius: 8px; border: 2px solid var(--border-color-idle); font-weight: 500; cursor: pointer; transition: all 0.3s ease; position: relative; }
        .tracker-item.active { border-color: var(--title-color); box-shadow: 0 0 8px var(--title-color); }
        .tracker-item.solved { background-color: var(--correct-color); border-color: var(--correct-color); color: white; cursor: not-allowed;}
        .tracker-item.failed { background-color: var(--fail-color); border-color: var(--fail-color); color: white; }
        .tracker-item.failed-revealed { background-color: var(--fail-color); border-color: var(--fail-color); color: white; cursor: not-allowed; opacity: 0.6; }
        .tracker-item .cooldown-timer { font-size: 0.8em; font-weight: bold; margin-top: 4px; }
        
        #info-bar { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 12px 0; min-height: 50px; margin-bottom: 5px; }
        #info-bar.feedback-message { justify-content: center; font-size: 1.2rem; font-weight: bold; }
        #info-bar.feedback-message strong { color: var(--title-color); }
        
        #reveal-solution-container { margin-left: auto; }
        #reveal-solution-button { background-color: var(--fail-color); color: white; border: none; padding: 8px 12px; border-radius: 8px; font-weight: 700; cursor: pointer; }

        .mode-choice-button { background-color: var(--key-bg); color: var(--key-text); border: 2px solid var(--border-color-idle); padding: 8px 12px; border-radius: 8px; font-weight: 700; cursor: pointer; margin: 0 5px; }
        #game-mode-display { display: flex; align-items: center; background-color: rgba(0,0,0,0.05); padding: 5px 10px; border-radius: 20px; }
        #game-mode-display span { font-weight: 700; font-size: 0.9rem; }
        #timer-display { font-weight: 700; font-size: 1.1em; color: var(--title-color); margin-left: 8px; }
        
        #word-info-container { display: flex; flex-direction: column; align-items: flex-start; text-align: left; }
        #difficulty-display { font-weight: 700; margin-top: 4px; border-radius: 10px; padding: 3px 10px; color: white; font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.5px; text-shadow: 1px 1px 2px rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.3); }
        .difficulty-könnyű { background-color: var(--difficulty-easy); } .difficulty-nehéz { background-color: var(--difficulty-hard); } .difficulty-extra-nehéz { background-color: var(--difficulty-extra); }
        
        #hint-display-area { display: none; width: 100%; padding: 15px; margin-bottom: 15px; background-color: rgba(0,0,0,0.05); border: 2px solid var(--border-color-idle); border-radius: 10px; text-align: center; line-height: 1.6; opacity: 0; transition: opacity 0.5s ease; }
        #hint-display-area.active { display: block; opacity: 1; }
        #hint-display-area strong { color: var(--title-color); font-style: normal; }
        
        #grid-container { display: grid; grid-template-rows: repeat(6, 1fr); gap: 5px; width: 100%; max-width: 500px; margin: 0 auto 20px auto; aspect-ratio: 5 / 6; }
        .grid-row { display: grid; gap: 5px; }
        .grid-cell { perspective: 1000px; }
        .cell-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .grid-cell.flip .cell-inner { transform: rotateX(180deg); }
        .cell-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; justify-content: center; align-items: center; font-size: clamp(1.5rem, 5vw, 2.2rem); font-weight: bold; text-transform: uppercase; box-sizing: border-box; border-radius: 8px; }
        .cell-front { border: 3px solid var(--border-color-idle); transition: border-color 0.2s ease; }
        .grid-cell.filled .cell-front:not(.cell-revealed) { border-color: var(--border-color-active); animation: pop 0.2s; }
        @keyframes pop { 50% { transform: scale(1.1); } }
        .cell-revealed { border-color: var(--correct-color); background-color: rgba(129, 178, 154, 0.2); }
        .cell-back { color: white; transform: rotateX(180deg); border: 3px solid transparent; }
        .cell-back.correct { background-color: var(--correct-color); border-color: var(--correct-color);} .cell-back.present { background-color: var(--present-color); border-color: var(--present-color);} .cell-back.absent  { background-color: var(--absent-color); border-color: var(--absent-color);}
        
        #hint-controls { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; width: 100%; }
        .hint-button { color: white; border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; font-weight: 700; transition: all 0.2s; font-size: 0.9rem; flex-grow: 1; max-width: 250px; }
        .hint-button#request-text-hint-button { background-color: var(--present-color); box-shadow: 0 3px 0 #d0a457; }
        .hint-button#request-letter-hint-button { background-color: var(--correct-color); box-shadow: 0 3px 0 #6a9982; }
        .hint-button:hover:not(:disabled) { transform: translateY(-2px); }
        .hint-button:disabled { background-color: var(--absent-color); cursor: not-allowed; box-shadow: none; opacity: 0.7; }
        
        #keyboard-container { display: flex; flex-direction: column; gap: clamp(6px, 1.5vw, 10px); width: 100%; max-width: 900px; margin: 0 auto; }
        .keyboard-row { display: flex; justify-content: center; gap: clamp(3px, 1vw, 6px); }
        .key { font-family: var(--font-main); font-weight: 500; border: none; border-radius: 6px; height: clamp(45px, 12vw, 60px); flex-grow: 1; cursor: pointer; text-transform: uppercase; font-size: clamp(0.8rem, 3vw, 1.4rem); display: flex; justify-content: center; align-items: center; padding: 0; background-color: var(--key-bg); color: var(--key-text); box-shadow: var(--key-shadow); transition: all 0.1s ease-in-out, background-color 0.3s ease, color 0.3s ease; }
        .key:active, .key.active-press { transform: translateY(2px); box-shadow: none; }
        .key.large { flex-grow: 1.5; font-size: clamp(0.7rem, 2.5vw, 1rem); }
        .key.correct, .key.correct:hover { background-color: var(--correct-color); color: white; } .key.present, .key.present:hover { background-color: var(--present-color); color: white; } .key.absent, .key.absent:hover { background-color: var(--absent-color); color: white; opacity: 0.7; }
        #keyboard-container.disabled .key { cursor: not-allowed; opacity: 0.6; }

        #idle-message-container { text-align: center; padding: 40px 20px; line-height: 1.8; border: 2px dashed var(--border-color-idle); border-radius: 15px; margin: 20px 0; }
        #idle-message-container h3 { font-family: var(--font-title); color: var(--title-color); font-size: 1.6rem; margin: 0 0 15px 0; }
        #idle-message-container p { margin: 10px 0; font-size: 1.1rem; }
        #countdown-timer { font-weight: bold; color: var(--title-color); font-size: 1.2rem; display: block; margin-top: 15px; }

        #rules-container { margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--border-color-idle); line-height: 1.7; width: 100%; color: var(--text-color); transition: color 0.3s ease, border-color 0.3s ease; }
        #rules-container h3 { font-family: var(--font-title); color: var(--title-color); text-align: center; font-size: 1.5rem; margin: 0 0 15px 0; }
        #rules-container ul { list-style-type: '🕵️ '; padding-left: 20px; text-align: left; margin: 0; }
        #rules-container li { margin-bottom: 12px; padding-left: 8px; }
        
        #bonus-unlock-container {
            display: flex; flex-direction: column; align-items: center; gap: 15px; margin: 20px 0;
            padding: 20px; border: 2px dashed var(--border-color-idle); border-radius: 15px; width: 100%;
        }
        #bonus-unlock-header { display: flex; align-items: center; gap: 15px; }
        #wheel-logo-svg { width: 60px; height: 60px; }
        #bonus-unlock-header h2 { font-family: var(--font-title); color: var(--title-color); font-size: 1.8rem; margin: 0; }
        #code-input-container { display: flex; gap: 10px; }
        .code-input {
            width: 45px; height: 60px; border-radius: 8px; border: 3px solid var(--border-color-idle);
            text-align: center; font-family: var(--font-main); font-size: 2rem; font-weight: bold; color: var(--text-color);
            background-color: var(--container-bg); -moz-appearance: textfield; transition: all 0.2s ease;
        }
        .code-input.flashing-code {
            background-color: var(--title-color); color: white;
            border-color: var(--title-color);
            animation: code-flash-pulse 0.5s infinite alternate;
        }
        @keyframes code-flash-pulse { from { transform: scale(1); } to { transform: scale(1.05); } }
        .code-input::-webkit-outer-spin-button, .code-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .code-input:focus { border-color: var(--title-color); outline: none; }
        #code-input-container.shake { animation: shake 0.5s; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
        #check-code-button {
            background-color: var(--correct-color); color: white; border: none; padding: 10px 20px;
            border-radius: 8px; font-weight: 700; cursor: pointer; transition: transform 0.2s;
        }
        #check-code-button:hover { transform: scale(1.05); }

        #play-wheel-button {
            display: none; background-color: var(--difficulty-extra); color: white; border: 2px solid white;
            border-radius: 10px; padding: 15px 30px; font-family: var(--font-title); font-size: 1.2rem;
            letter-spacing: 1px; margin: 20px 0; text-shadow: 1px 1px 3px rgba(0,0,0,0.4); cursor: pointer;
            animation: pulse-red 2s infinite;
        }
        @keyframes pulse-red { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); } }
        
        /* Lottó Szekció Stílusai */
        #lotto-container {
            display: flex; flex-direction: column; align-items: center; gap: 15px; margin: 20px 0;
            padding: 20px; border: 2px solid var(--border-color-active); border-radius: 15px; width: 100%;
            background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0));
        }
        #lotto-header { display: flex; align-items: center; gap: 15px; cursor: pointer; }
        #lotto-logo-svg { width: 60px; height: 60px; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2)); }
        #lotto-header h2 { font-family: var(--font-title); color: var(--title-color); font-size: 1.8rem; margin: 0; }
        #lotto-container p { font-size: 0.9rem; text-align: center; line-height: 1.5; max-width: 90%; }
        #play-lotto-button { background-color: var(--difficulty-easy); box-shadow: 0 3px 0 #2e7d32; max-width: 300px; }
        #play-lotto-button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 5px 0 #2e7d32;}
        #lotto-played-message { color: var(--fail-color); font-weight: bold; margin-top: 10px; min-height: 1.2em; transition: opacity 0.3s; }

        .lotto-ticket-stub {
            background-color: rgba(255, 255, 255, 0.4);
            border: 2px dashed var(--border-color-active);
            border-radius: 12px;
            padding: 15px;
            margin-top: 10px;
            width: 95%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        #daily-winning-numbers-display {
            background-color: rgba(0,0,0,0.02);
            border: 1px solid var(--border-color-idle);
            padding: 10px 15px;
            box-shadow: none;
        }
        #daily-winning-numbers-display .winning-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        #daily-winning-numbers-display .winning-header .lotto-logo-svg {
            width: 35px;
            height: 35px;
        }
        #daily-winning-numbers-display h4 {
            margin: 0;
            font-family: var(--font-main);
            color: var(--text-color);
            font-size: 1rem;
            font-weight: 700;
        }
        .lotto-ticket-stub h4 { margin: 0 0 10px 0; font-family: var(--font-title); color: var(--text-color); }
        .submitted-tickets-container { display: flex; flex-direction: column; gap: 10px; width: 100%; align-items: center; }
        .number-display { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
        .lotto-ball {
            width: 35px; height: 35px; border-radius: 50%; background-color: var(--key-bg);
            color: var(--key-text); border: 2px solid var(--border-color-idle);
            display: flex; justify-content: center; align-items: center; font-weight: bold;
            box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1), 1px 1px 2px rgba(0,0,0,0.1);
        }
        .lotto-ball.match { background-color: var(--correct-color); color: white; border-color: #6a9982; animation: pop 0.5s; }
        #lotto-result-display { margin-top: 15px; font-weight: bold; color: var(--title-color); font-size: 1.1rem; }

        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.85); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s 0.3s; }
        .overlay.visible { opacity: 1; visibility: visible; transition-delay: 0s; }
        .overlay-content { background-color: var(--container-bg); color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease; padding: clamp(20px, 4vw, 30px); border-radius: 20px; text-align: center; box-shadow: 0 5px 25px rgba(0,0,0,0.3); max-width: 95vw; width: auto; max-height: 95vh; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .overlay-content h2 { font-family: var(--font-title); color: var(--title-color); margin: 0 0 10px 0; font-size: clamp(1.5rem, 6vw, 2.2rem); }
        .overlay-button { background-color: var(--title-color); color: white; border: none; padding: 12px 25px; border-radius: 8px; font-family: var(--font-main); font-weight: 700; font-size: 1rem; cursor: pointer; margin-top: 15px; transition: transform 0.2s ease, background-color 0.3s ease; }
        
        #lotto-game-container, #prize-choice-container { display: flex; flex-direction: column; align-items: center; }
        #lotto-grid-overlay { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; max-width: 360px; width: 100%; margin: 15px 0; }
        .lotto-number { width: 40px; height: 40px; border-radius: 50%; background-color: var(--key-bg); color: var(--key-text); border: 2px solid var(--border-color-idle); display: flex; justify-content: center; align-items: center; font-weight: bold; cursor: pointer; transition: all 0.2s ease; }
        .lotto-number:hover { transform: scale(1.1); background-color: var(--present-color); }
        .lotto-number.selected { background-color: var(--title-color); color: white; border-color: var(--title-color); transform: scale(1.1); box-shadow: 0 0 8px var(--title-color); }
        #lotto-selection-counter { font-weight: bold; color: var(--text-color); }
        #lotto-overlay-buttons { display: flex; gap: 10px; justify-content: center; width: 100%;}
        #submit-lotto-button-overlay { background-color: var(--correct-color); box-shadow: 0 3px 0 #388e3c; flex-grow: 2; }
        #close-lotto-overlay-button { background-color: var(--fail-color); box-shadow: 0 3px 0 #b71c1c; flex-grow: 1; }
        #lotto-overlay-message { min-height: 2em; transition: opacity 0.5s ease; }
        #lotto-overlay-message .star-icon { font-size: 2rem; color: var(--present-color); display: block; margin-top: 10px; text-shadow: 0 0 5px #000; }
        #prize-choice-options { display: flex; flex-direction: column; gap: 15px; margin-top: 10px; }
        .prize-option-button { background-color: var(--key-bg); color: var(--key-text); border: 2px solid var(--border-color-active); padding: 15px; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; text-align: left;}
        .prize-option-button:hover { background-color: var(--present-color); border-color: var(--title-color); }
        .prize-option-button .prize-title { font-weight: bold; font-size: 1.1rem; color: var(--title-color); }
        .prize-option-button .prize-desc { font-size: 0.9rem; margin-top: 5px; }

        /* Szerencsekerék */
        #wheel-game-container { display: flex; flex-direction: column; align-items: center; gap: 15px; }
        #wheel-wrapper { position: relative; width: 360px; height: 360px; margin: 10px auto; }
        #wheel-pointer { width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 40px solid var(--fail-color); position: absolute; top: -15px; left: 50%; transform: translateX(-50%); z-index: 10; transition: border-top-color 0.3s ease; }
        #wheel { width: 100%; height: 100%; transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1); }
        #wheel-game-ui { display: flex; flex-direction: column; align-items: center; gap: 15px; width: 100%; }
        #wheel-round-display { font-size: 1.2rem; font-weight: bold; color: var(--title-color); }
        #wheel-stats-container { font-size: 1.1rem; font-weight: bold; background: rgba(0,0,0,0.05); padding: 8px 15px; border-radius: 10px; border: 2px solid var(--border-color-idle); }
        #wheel-insurance-display {
            display: flex; align-items: center; gap: 8px; color: var(--insurance-color); 
            font-size: 1rem; margin-top: 5px; justify-content: center;
        }
        #wheel-insurance-display svg { width: 18px; height: 18px; fill: currentColor; }
        #wheel-winnings-display { color: var(--difficulty-easy); }
        #puzzle-category { font-size: 1rem; font-weight: bold; background: var(--title-color); color: white; padding: 5px 15px; border-radius: 10px; }
        #puzzle-board { display: flex; flex-wrap: wrap; justify-content: center; gap: 4px; max-width: 100%; padding: 10px; align-items: center; }
        .puzzle-tile { width: 32px; height: 42px; border-radius: 5px; perspective: 1000px; flex-shrink: 0; }
        .puzzle-tile:not(.space) { border: 2px solid #fff; }
        .puzzle-tile.space { background-color: transparent; border: none; width: 15px; }
        .tile-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .puzzle-tile:not(.space) .tile-inner { background-color: var(--correct-color); }
        .puzzle-tile.revealed .tile-inner { transform: rotateY(180deg); }
        .tile-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; justify-content: center; align-items: center; }
        .tile-front { background-color: var(--correct-color); }
        .tile-back { background-color: #fff; color: var(--text-color); font-weight: bold; font-size: 1.5rem; transform: rotateY(180deg); }
        #wheel-message-display { min-height: 2.5em; font-size: 1.1rem; font-weight: bold; color: var(--title-color); text-align: center; transition: opacity 0.3s ease; }
        #wheel-alphabet-panel { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; max-width: 95%; margin: 10px 0; }
        .alphabet-key { width: 30px; height: 30px; border: 2px solid var(--border-color-idle); border-radius: 5px; background-color: var(--key-bg); color: var(--key-text); font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .alphabet-key.guessed { background-color: var(--absent-color); color: white; opacity: 0.6; cursor: not-allowed; }
        .alphabet-key.vowel { border-color: var(--present-color); }
        #wheel-controls, #wheel-decision-controls { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
        #wheel-controls button, #wheel-decision-controls button, #wheel-help-button { padding: 10px 15px; font-size: 1rem; }
        #spin-button { background-color: var(--difficulty-easy); box-shadow: 0 3px 0 #2e7d32; }
        #solve-button { background-color: var(--difficulty-hard); box-shadow: 0 3px 0 #c46400; }
        #wheel-help-button { background-color: #9c27b0; color: white; box-shadow: 0 3px 0 #7b1fa2; }
        #wheel-help-button.pulse-purple { animation: pulse-purple 1.5s infinite; }
        @keyframes pulse-purple { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(156, 39, 176, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(156, 39, 176, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(156, 39, 176, 0); } }
        #cash-out-button { background-color: var(--difficulty-easy); box-shadow: 0 3px 0 #2e7d32; }
        #next-round-button { background-color: var(--difficulty-hard); box-shadow: 0 3px 0 #c46400; }
        #power-meter-container { width: 80%; max-width: 400px; height: 20px; background-color: #ccc; border-radius: 10px; overflow: hidden; margin-top: 10px; cursor: pointer; border: 2px solid var(--text-color); }
        #power-meter-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #f2cc8f, #e07a5f, var(--fail-color)); }
        .power-up { animation: power-up 1.5s linear infinite; }
        @keyframes power-up { 0% { width: 0%; } 50% { width: 100%; } 100% { width: 0%; } }

        /* 12 Kártya Játék */
        #card-game-container { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        #card-board { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; width: 100%; max-width: 420px; perspective: 1000px; }
        .game-card { width: 90px; height: 130px; cursor: pointer; position: relative; }
        .game-card.disabled { cursor: not-allowed; }
        .card-inner { position: absolute; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .game-card.flipped .card-inner { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .card-face-front { background-color: var(--key-bg); display: flex; justify-content: center; align-items: center; padding: 5px; box-sizing: border-box; border: 2px solid var(--border-color-active); }
        .card-logo-svg { width: 90%; height: auto; }
        .card-logo-svg .logo-circle { stroke: url(#grad1); fill: var(--container-bg); }
        .card-logo-svg .logo-handle { stroke: url(#grad1); }
        .card-logo-svg .logo-text { fill: var(--text-color); }
        .card-face-back { background-color: #fff; color: var(--text-color); transform: rotateY(180deg); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 10px; font-weight: bold; border: 2px solid var(--border-color-active); }
        .card-face-back.total-bankrupt { background-color: var(--fail-color); color: white; border-color: var(--fail-color); }
        .card-face-back.joker { background: linear-gradient(45deg, var(--present-color), var(--correct-color)); color: white; }
        .card-face-back.special-prize { background: radial-gradient(circle, var(--surprise-color), var(--title-color)); color: white; border-color: var(--surprise-color); }
        .card-face-back .card-title { font-size: 1.1rem; margin-bottom: 5px; }
        .card-face-back .card-desc { font-size: 0.8rem; }
        #card-prizes-list { list-style-type: '🃏'; text-align: left; padding-left: 20px; font-size: 0.9rem; line-height: 1.6; }

    </style>
</head>
<body class="theme-classic">
    <div id="game-container">
        <div id="new-hour-notification">
            <span>Új feladványok elérhetők!</span>
            <button id="new-hour-refresh-button">Frissítés</button>
        </div>
        <input type="text" id="hidden-input" style="position: absolute; left: -9999px; opacity: 0; width: 1px; height: 1px;" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        <header>
            <div id="header-main">
                <div id="logo-container">
                    <svg id="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop class="grad-stop1" offset="0%" style="stop-color: var(--title-color);stop-opacity:1" />
                                <stop class="grad-stop2" offset="100%" style="stop-color: var(--text-color);stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle class="logo-circle" cx="50" cy="50" r="40" stroke-width="12"/>
                        <line class="logo-handle" x1="32" y1="72" x2="5" y2="95" stroke-width="16" stroke-linecap="round"/>
                        <text class="logo-text" x="50" y="62" font-family="Fredoka One, cursive" font-size="38" text-anchor="middle">Szó</text>
                    </svg>
                </div>
                <div style="text-align: center; position: relative;">
                    <div id="title-container">
                        <h1>Nyomozó</h1>
                        <div id="theme-toggle-button" title="Színtéma választása">
                            <svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>
                        </div>
                    </div>
                    <div id="copyright-notice">© by Robi</div>
                    <div id="theme-picker" style="display: none;"></div>
                </div>
            </div>
            <div id="daily-score-display">Mai pontszám: <span>0</span></div>
            <div id="insurance-display" title="Biztosítások">
                <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"></path></svg>
                <span id="insurance-display-count">0</span>
            </div>
             <div id="keyboard-toggle-container">
                <label for="keyboard-toggle-checkbox">Eszköz billentyűzet használata: </label>
                <input type="checkbox" id="keyboard-toggle-checkbox" title="Ha bepipálod, a játék billentyűzete eltűnik, és a sajátodat használhatod.">
            </div>
        </header>
        
        <div id="daily-winning-numbers-display" class="lotto-ticket-stub" style="display: none;">
        </div>
        
        <div id="word-tracker"></div>

        <div id="bonus-unlock-container" style="display: none;">
            <div id="bonus-unlock-header">
                 <svg id="wheel-logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" fill="var(--key-bg)" stroke="var(--title-color)" stroke-width="8"/>
                    <path d="M50 5 L50 95 M5 50 L95 50 M20 20 L80 80 M20 80 L80 20" stroke="rgba(0,0,0,0.1)" stroke-width="6"/>
                    <circle cx="50" cy="50" r="15" fill="var(--title-color)"/>
                    <text x="50" y="58" text-anchor="middle" font-size="20" fill="white" font-weight="bold">★</text>
                </svg>
                <h2>Szerencsekerék</h2>
            </div>
            <p>Gyűjtsd össze a játék közben felvillanó 4 jegyű kódot a feloldáshoz!</p>
            <div id="code-input-container">
                <input type="number" class="code-input" maxlength="1" data-index="0">
                <input type="number" class="code-input" maxlength="1" data-index="1">
                <input type="number" class="code-input" maxlength="1" data-index="2">
                <input type="number" class="code-input" maxlength="1" data-index="3">
            </div>
            <button id="check-code-button">Kód beváltása</button>
        </div>
        <button id="play-wheel-button">🏆 Szerencsekerék Játék 🏆</button>
        
        <div id="info-bar">
        </div>

        <main id="grid-container"></main>
        
        <div id="hint-display-area"></div>
        
        <div id="hint-controls">
            <button id="request-text-hint-button" class="hint-button">Szöveges segítség</button>
            <button id="request-letter-hint-button" class="hint-button">Betű felfedése</button>
        </div>
        
        <div id="keyboard-container"></div>

        <div id="idle-message-container" style="display: none;"></div>
        
        <div id="lotto-container">
            <div id="lotto-header">
                <svg id="lotto-logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                   <path d="M50 2 L61.8 38.2 L98 38.2 L68.1 61.8 L79.9 98 L50 75 L20.1 98 L31.9 61.8 L2 38.2 L38.2 38.2 Z" fill="var(--present-color)" stroke="var(--title-color)" stroke-width="3"/>
                </svg>
                <h2>Napi Lottó</h2>
            </div>
            <p>Az első szelvény ingyenes, utána 400 pont! Nyereményed másnap éjféltől aktív.</p>
            <button id="play-lotto-button" class="hint-button">Első ingyenes szelvény</button>
            <div id="lotto-played-message"></div>
            
            <div class="submitted-tickets-container">
            </div>
        </div>

        <div id="rules-container">
             <h3>Játékszabályok</h3>
            <ul>
                <li><strong>Alapjáték:</strong> Óránként 5 új, mindenki számára azonos szót kapsz. A 7 betűnél hosszabb szavak 2 ajándék betűvel indulnak, melyek mindenkinél azonosak!</li>
                <li><strong>Titkos Kód:</strong> Figyeld a kód beviteli mezőit, mert ott villannak fel a titkos számjegyek! A kódot egy órán belül többször is beválthatod, ha megjegyzed.</li>
                <li><strong>Szerencsekerék:</strong> Ha az összes szót megfejted VAGY beírod a helyes kódot, feloldod a bónusz játékot. A játék után a gomb eltűnik, de a kód újra beírásával ismét játszhatsz.</li>
                <li><strong>Csőd & Biztosítás:</strong> Ha CSŐD-öt pörgetsz, a játék automatikusan felhasznál egy biztosítást (ha van). Ha nincs, első alkalommal csak a körös pontjaidat veszíted el. A második CSŐD ugyanabban a körben a téted elvesztésével jár és véget vet a játéknak.</li>
                <li><strong>Biztosítás Limit:</strong> Óránként maximum 6 új biztosítást szerezhetsz a Szerencsekeréken. A meglévők megmaradnak.</li>
                <li><strong style="color:var(--fail-color)">Újrapróbálás:</strong> Ha nem sikerül egy szó, 15 perc múlva újra próbálkozhatsz, vagy felfedheted a megoldást. A 12 Kártya játékban nyerhetsz "Amnesztiát", ami azonnal törli ezt a várakozási időt.</li>
            </ul>
        </div>
    </div>

    <!-- Overlays -->
    <div id="lotto-game-overlay" class="overlay">
        <div class="overlay-content">
            <div id="lotto-game-container">
                 <div id="lotto-header">
                    <svg id="lotto-logo-svg-overlay" class="lotto-logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 2 L61.8 38.2 L98 38.2 L68.1 61.8 L79.9 98 L50 75 L20.1 98 L31.9 61.8 L2 38.2 L38.2 38.2 Z" fill="var(--present-color)" stroke="var(--title-color)" stroke-width="3"/>
                    </svg>
                    <h2>Napi Lottó</h2>
                </div>
                <p>Válassz 5 számot az alábbi rácsból.</p>
                <div id="lotto-grid-overlay"></div>
                <p id="lotto-selection-counter">0 / 5 kiválasztva</p>
                <div id="lotto-overlay-buttons">
                    <button id="close-lotto-overlay-button" class="hint-button">Mégse</button>
                    <button id="submit-lotto-button-overlay" class="hint-button">Szelvény feladása</button>
                </div>
                <div id="lotto-overlay-message"></div>
            </div>
        </div>
    </div>

    <div id="prize-choice-overlay" class="overlay">
        <div class="overlay-content">
            <div id="prize-choice-container">
                <h2>Gratulálunk, több nyereményt is elértél!</h2>
                <p>Válassz egyet az alábbiak közül, ami a következő napon éjféltől aktív lesz.</p>
                <div id="prize-choice-options">
                </div>
            </div>
        </div>
    </div>
    
    <div id="wheel-game-overlay" class="overlay">
        <div class="overlay-content">
            <div id="wheel-game-container">
                <h2>Szerencsekerék</h2>
                <div id="wheel-round-display"></div>
                <div id="wheel-game-ui">
                    <div id="wheel-stats-container">
                        <div id="wheel-stake-display">Tét: <span id="stake-amount">0</span></div>
                        <div id="wheel-winnings-display">Körös Nyeremény: <span id="player-score">0</span></div>
                        <div id="wheel-insurance-display" title="Biztosítások">
                            <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"></path></svg>
                            <span id="wheel-insurance-count">0</span>
                        </div>
                    </div>
                    <div id="puzzle-category"></div>
                    <div id="puzzle-board"></div>
                    <div id="wheel-alphabet-panel"></div>
                    <div id="wheel-message-display"></div>
                    <div id="wheel-wrapper">
                        <div id="wheel-pointer"></div>
                        <svg id="wheel" viewBox="0 0 100 100"></svg>
                    </div>
                    <div id="power-meter-container" title="Kattints a pörgetéshez, majd a megfelelő erősségnél újra a megállításhoz!">
                        <div id="power-meter-bar"></div>
                    </div>
                    <div id="wheel-controls">
                        <button id="spin-button" class="hint-button">Pörgetés</button>
                        <button id="solve-button" class="hint-button" disabled>Megfejtem</button>
                        <button id="wheel-help-button" class="hint-button" style="display: none;">Végső Segítség</button>
                    </div>
                     <div id="wheel-decision-controls" style="display: none;">
                        <button id="cash-out-button" class="hint-button">Nyeremény felvétele</button>
                        <button id="next-round-button" class="hint-button">Következő kör</button>
                    </div>
                </div>
                <button id="close-wheel-button" class="overlay-button" style="display: none;">Bezárás</button>
            </div>
        </div>
    </div>

    <div id="card-game-overlay" class="overlay">
        <div class="overlay-content">
            <div id="card-game-container">
                <h2>Bónusz Játék: 12 Kártya</h2>
                <p>Gratulálunk a 3. körhöz! Válassz egy kártyát a végső nyereményért!</p>
                <div id="card-board"></div>
                <div id="card-game-message" style="font-weight: bold; min-height: 1.5em;"></div>
                <div>
                    <h4>Lehetséges lapok:</h4>
                    <ul id="card-prizes-list"></ul>
                </div>
                <button id="collect-winnings-button" class="overlay-button" style="display: none;">Nyeremény begyűjtése</button>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const wordData = [
            // Könnyű (15 db)
            {word:"LÁMPA", category:"Tárgy", difficulty:"Könnyű", hints:["Fényt ad a sötétben.", "Lehet asztali vagy álló.", "Villanykörte van benne.", "Kapcsolóval működik."]},
            {word:"KULACS", category:"Tárgy", difficulty:"Könnyű", hints:["Italt tárolnak benne.", "Túrázók gyakran viszik magukkal.", "Lehet fémből vagy műanyagból.", "Kupakkal záródik."]},
            {word:"RADÍR", category:"Iskolaszer", difficulty:"Könnyű", hints:["Ceruza nyomát tünteti el.", "Iskolatáskában lakik.", "Lehet illatos is.", "Használat közben morzsálódik."]},
            {word:"KANAPÉ", category:"Bútor", difficulty:"Könnyű", hints:["A nappaliban található.", "Több ember is leülhet rá.", "Párnák teszik kényelmessé.", "Lehet ággyá alakítani."]},
            {word:"VÖDÖR", category:"Eszköz", difficulty:"Könnyű", hints:["Folyadékot vagy szilárd anyagot hordanak benne.", "Van egy füle.", "Homokozóban is használják.", "Felmosáshoz elengedhetetlen."]},
            {word:"PITE", category:"Étel", difficulty:"Könnyű", hints:["Édes sütemény.", "Gyakran gyümölcs a tölteléke.", "Lehet rácsos a teteje.", "Az almás a legnépszerűbb."]},
            {word:"TORONY", category:"Épület", difficulty:"Könnyű", hints:["Magasabb, mint a környezete.", "Lehet templom vagy vár része.", "Gyakran óra van rajta.", "Rapunzel ebben raboskodott."]},
            {word:"CSAVAR", category:"Tárgy", difficulty:"Könnyű", hints:["Dolgok rögzítésére szolgál.", "Menetes a szára.", "Csavarhúzóval lehet behajtani.", "Az anya a párja."]},
            {word:"SZÉK", category:"Bútor", difficulty:"Könnyű", hints:["Ülésre használják.", "Négy lába van általában.", "Az asztal mellett a helye.", "Van háttámlája."]},
            {word:"KALÁCS", category:"Étel", difficulty:"Könnyű", hints:["Édes kelt tészta.", "Húsvétkor népszerű.", "Gyakran fonott alakú.", "Lehet kakaós vagy mazsolás."]},
            {word:"SAJT", category:"Étel", difficulty:"Könnyű", hints:["Tejből készül.", "Lehet lyukas.", "Egerek kedvence a mesékben.", "Pizzára is teszik."]},
            {word:"FÉSŰ", category:"Tárgy", difficulty:"Könnyű", hints:["Hajápolási eszköz.", "Rendet tesz a gubancos tincsek között.", "Sok foga van.", "Lehet lapos vagy kör alakú."]},
            {word:"PÁLMA", category:"Növény", difficulty:"Könnyű", hints:["Trópusi fa.", "A tengerpartok jellegzetessége.", "Nagy, legyezőszerű levelei vannak.", "Termése a kókuszdió."]},
            {word:"GYŰRŰ", category:"Ékszer", difficulty:"Könnyű", hints:["Ujjra húzva viselik.", "Lehet aranyból vagy ezüstből.", "A házasság jelképe.", "A hatalomnak is szimbóluma lehet."]},
            {word:"BICIKLI", category:"Jármű", difficulty:"Könnyű", hints:["Két kereke van.", "Pedállal kell hajtani.", "A kormányával irányítják.", "Csengő van rajta."]},

            // Nehéz (17 db)
            {word:"ZONGORA", category:"Hangszer", difficulty:"Nehéz", hints:["Billentyűkkel szólaltatják meg.", "Fekete és fehér billentyűi vannak.", "Koncerttermek gyakori szereplője.", "A kalapácsok húrokat ütnek benne."]},
            {word:"TELESZKÓP", category:"Eszköz", difficulty:"Nehéz", hints:["Égitestek megfigyelésére használják.", "Lencsék vagy tükrök segítségével nagyít.", "Csillagvizsgálókban található.", "Galilei is használta."]},
            {word:"KÖNYVTÁR", category:"Hely", difficulty:"Nehéz", hints:["Nagyon sok könyv található itt.", "Csendben kell lenni benne.", "Kölcsönözni lehet belőle.", "Egyik fajtája a digitális."]},
            {word:"REKLÁM", category:"Média", difficulty:"Nehéz", hints:["Termékek vagy szolgáltatások népszerűsítésére szolgál.", "Megszakíthatja a filmet.", "Lehet óriásplakáton is.", "A célja a vásárlásra ösztönzés."]},
            {word:"RENDEZŐ", category:"Foglalkozás", difficulty:"Nehéz", hints:["Filmek vagy színdarabok alkotója.", "Ő irányítja a színészeket.", "Instrukciókat ad a stábnak.", "A neve a stáblista elején szerepel."]},
            {word:"SZIMFÓNIA", category:"Zene", difficulty:"Nehéz", hints:["Nagyzenekarra írt, több tételből álló mű.", "Beethoven híreseket komponált.", "A koncertteremben hallható.", "A karmester vezényli."]},
            {word:"VÍZESÉS", category:"Természet", difficulty:"Nehéz", hints:["A folyóvíz hirtelen esése a mélybe.", "Nagy robajjal járhat.", "A Niagara a leghíresebb.", "Látványos természeti képződmény."]},
            {word:"PIRAMIS", category:"Építmény", difficulty:"Nehéz", hints:["Gúla alakú építmény.", "Az ókori Egyiptomban építették.", "A fáraók temetkezési helye volt.", "A gízai a legnagyobb."]},
            {word:"GYÉMÁNT", category:"Ásvány", difficulty:"Nehéz", hints:["A legkeményebb természetes anyag.", "Ékszereket készítenek belőle.", "Nagy nyomáson keletkezik a szénből.", "Az eljegyzési gyűrűk köve."]},
            {word:"BAJNOKSÁG", category:"Sport", difficulty:"Nehéz", hints:["Sportcsapatok vagy egyének versenysorozata.", "A győztes kupát kap.", "Lehet országos vagy világ-.", "A végén tabellát hirdetnek."]},
            {word:"GALAXIS", category:"Csillagászat", difficulty:"Nehéz", hints:["Csillagok, gáz és por hatalmas rendszere.", "A Tejútrendszer a miénk.", "Lehet spirál vagy elliptikus alakú.", "Az Androméda a szomszédunk."]},
            {word:"ROBOT", category:"Technológia", difficulty:"Nehéz", hints:["Programozott feladatokat hajt végre.", "Lehet emberi alakja.", "Az iparban gyakran használják.", "A mesterséges intelligencia működteti."]},
            {word:"FŐVÁROS", category:"Földrajz", difficulty:"Nehéz", hints:["Egy ország központi, legfontosabb városa.", "Itt található a kormány.", "Budapest Magyarországé.", "Általában a legnagyobb település."]},
            {word:"SIVATAG", category:"Természet", difficulty:"Nehéz", hints:["Száraz, csapadékszegény terület.", "A Szahara a legnagyobb a Földön.", "A tevék jól bírják.", "Nappal forróság, éjjel fagy jellemzi."]},
            {word:"UNIVERZUM", category:"Tudomány", difficulty:"Nehéz", hints:["Minden létező összessége.", "Csillagászok kutatják a méretét.", "Az ősrobbanással keletkezett elméletileg.", "Tágulóban van."]},
            {word:"LEGENDA", category:"Irodalom", difficulty:"Nehéz", hints:["Történelmi alappal rendelkező, de csodás elemekkel átszőtt történet.", "Hősökről vagy szentekről szólhat.", "Szájhagyomány útján terjed.", "Artúr király története egy híres példa."]},
            {word:"HORIZONT", category:"Fogalom", difficulty:"Nehéz", hints:["A látható ég és a föld találkozási vonala.", "A tengeren egyenes vonalnak látszik.", "Minél magasabban vagy, annál távolabbi.", "Soha nem lehet elérni."]},
            
            // Extra Nehéz (15 db)
            {word:"KRONOLÓGIA", category:"Tudomány", difficulty:"Extra Nehéz", hints:["Időrendi sorrend.", "Történelmi eseményeknél fontos.", "Segít megérteni az ok-okozati viszonyokat.", "Az események időbeli egymásutánisága."]},
            {word:"DEMOKRÁCIA", category:"Társadalom", difficulty:"Extra Nehéz", hints:["Népuralom.", "Az ókori Görögországból származik.", "A polgárok választásokon döntenek.", "Ellentéte a diktatúra."]},
            {word:"ABSZTRAKT", category:"Művészet", difficulty:"Extra Nehéz", hints:["Nem ábrázol konkrét tárgyakat vagy alakokat.", "A formák és színek játéka a lényeg.", "Piet Mondrian és Vaszilij Kandinszkij híres képviselője.", "Nonfiguratív művészet."]},
            {word:"ALGORITMUS", category:"Informatika", difficulty:"Extra Nehéz", hints:["Véges számú lépésből álló, egyértelmű utasítássorozat.", "Egy probléma megoldására szolgál.", "A számítógépes programok alapja.", "A receptek is hasonlítanak rá."]},
            {word:"JURISPRUDENCIA", category:"Tudomány", difficulty:"Extra Nehéz", hints:["Jogtudomány.", "A törvényekkel és a jogrendszerrel foglalkozik.", "Az egyetemeken oktatják.", "A jogszabályok értelmezésének és alkalmazásának elmélete."]},
            {word:"METAMORFÓZIS", category:"Biológia", difficulty:"Extra Nehéz", hints:["Átalakulás.", "A hernyó bábbá, majd pillangóvá válik.", "Az ebihal békává fejlődik.", "Jelentős formai és szerkezeti változás az egyedfejlődés során."]},
            {word:"INFLÁCIÓ", category:"Gazdaság", difficulty:"Extra Nehéz", hints:["A pénz vásárlóerejének romlása.", "Az árak általános és tartós emelkedése.", "Százalékban mérik.", "A jegybank kamatemeléssel küzdhet ellene."]},
            {word:"SZIMBIÓZIS", category:"Biológia", difficulty:"Extra Nehéz", hints:["Két különböző fajú élőlény kölcsönösen előnyös együttélése.", "A bohóchal és a tengeri rózsa esete.", "A zuzmók gombákból és algákból állnak.", "Az 'együttélés' görög szóból származik."]},
            {word:"EUFEMIZMUS", category:"Irodalom", difficulty:"Extra Nehéz", hints:["Szépítő, enyhítő kifejezés.", "Durva vagy kellemetlen dolgok körülírására használják.", "Például 'elhunyt' a 'meghalt' helyett.", "'Megbízatása megszűnt' a 'kirúgták' helyett."]},
            {word:"PARADIGMA", category:"Tudomány", difficulty:"Extra Nehéz", hints:["Egy adott korban uralkodó tudományos nézetrendszer.", "Kuhn vezette be a tudományfilozófiába.", "Egy...-váltás forradalmasíthatja a tudományt.", "A newtoni fizika egy példa erre."]},
            {word:"AMBIVALENS", category:"Pszichológia", difficulty:"Extra Nehéz", hints:["Ellentétes érzéseket, gondolatokat tartalmazó.", "Kettős, ellentmondásos.", "Szeret is valakit, meg nem is.", "Vonzza is valami, és taszítja is."]},
            {word:"KVARC", category:"Ásvány", difficulty:"Extra Nehéz", hints:["A földkéreg egyik leggyakoribb ásványa.", "Az órákban is használják a pontossága miatt.", "Szilícium-dioxidból áll.", "Hegyi... a legismertebb átlátszó változata."]},
            {word:"FILANTRÓP", category:"Társadalom", difficulty:"Extra Nehéz", hints:["Emberbarát, jótékonykodó személy.", "Vagyonát vagy idejét a közjó szolgálatába állítja.", "Adományoz, alapítványokat támogat.", "Ellentéte a mizantróp."]},
            {word:"GENEALÓGIA", category:"Tudomány", difficulty:"Extra Nehéz", hints:["Családfakutatás.", "A származással, az ősökkel foglalkozik.", "Segítségével felderíthető a családi háttér.", "A nemesi családoknál különösen fontos volt."]},
            {word:"AKROPOLISZ", category:"Történelem", difficulty:"Extra Nehéz", hints:["Ókori görög városok fellegvára.", "Magaslatra épült, fallal körülvett rész.", "Az athéni a leghíresebb.", "A Parthenón is itt található."]}
        ];

        const wheelPuzzles = [
            // Kategória: Közmondás
    { category: "Közmondás", puzzle: "KI KORÁN KEL ARANYAT LEL" },
    { category: "Közmondás", puzzle: "JOBB FÉLNI MINT MEGIJEDNI" },
    { category: "Közmondás", puzzle: "SOK LÚD DISZNÓT GYŐZ" },
    { category: "Közmondás", puzzle: "AJÁNDÉK LÓNAK NE NÉZD A FOGÁT" },
    { category: "Közmondás", puzzle: "NEM MIND ARANY AMI FÉNYLIK" },
    { category: "Közmondás", puzzle: "A SZÜKSÉG TÖRVÉNYT BONT" },
    { category: "Közmondás", puzzle: "AHÁNY HÁZ ANNYI SZOKÁS" },
    { category: "Közmondás", puzzle: "AKI MÁSNAK VERMET ÁS MAGA ESIK BELE" },
    { category: "Közmondás", puzzle: "LASSÚ VÍZ PARTOT MOS" },
    { category: "Közmondás", puzzle: "AZ ALMA NEM ESIK MESSZE A FÁJÁTÓL" },
    { category: "Közmondás", puzzle: "KICSINY A BORS DE ERŐS" },
    { category: "Közmondás", puzzle: "A HAZUG EMBERT HAMARABB UTOLÉRIk MINT A SÁNTA KUTYÁT" },
    { category: "Közmondás", puzzle: "EVÉS KÖZBEN JÖN MEG AZ ÉTVÁGY" },
    { category: "Közmondás", puzzle: "JÓ PAP HOLTIG TANUL" },
    { category: "Közmondás", puzzle: "SOK KICSI SOKRA MEGY" },
    { category: "Közmondás", puzzle: "REND A LELKE MINDENNEK" },
    { category: "Közmondás", puzzle: "A REST KÉTSZER FÁRAD" },
    { category: "Közmondás", puzzle: "MADARAT TOLLÁRÓL EMBERT BARÁTJÁRÓL" },
    { category: "Közmondás", puzzle: "MINDEN CSODA HÁROM NAPIG TART" },
    { category: "Közmondás", puzzle: "A TÜRELEM RÓZSÁT TEREM" },
    { category: "Közmondás", puzzle: "NEM AKARÁSNAK NYÖGÉS A VÉGE" },
    { category: "Közmondás", puzzle: "BAGOLY MONDJA VERÉBNEK HOGY NAGYFEJŰ" },
    { category: "Közmondás", puzzle: "JOBB ADNI MINT KAPNI" },
    { category: "Közmondás", puzzle: "KI A KICSIT NEM BECSÜLI A NAGYOT NEM ÉRDEMLI" },
    { category: "Közmondás", puzzle: "AMELYIK KUTYA UGAT AZ NEM HARAP" },
    { category: "Közmondás", puzzle: "A BAJ NEM JÁR EGYEDÜL" },
    { category: "Közmondás", puzzle: "VAKTYÚK IS TALÁL SZEMET" },
    { category: "Közmondás", puzzle: "KIVÉTEL ERŐSÍTI A SZABÁLYT" },
    { category: "Közmondás", puzzle: "SENKI SEM SZÜLETETT MESTERNEK" },
    { category: "Közmondás", puzzle: "A SZERELEM VAK" },
    { category: "Közmondás", puzzle: "HOLLÓ A HOLLÓNAK NEM VÁJJA KI A SZEMÉT" },
    { category: "Közmondás", puzzle: "MINDEN JÓ HA A VÉGE JÓ" },
    { category: "Közmondás", puzzle: "KÉSŐ BÁNAT EBGONDOLAT" },
    { category: "Közmondás", puzzle: "INÁBA SZÁLLT A BÁTORSÁGA" },
    { category: "Közmondás", puzzle: "SZÉP A KERT DE HIÁNYZIK BELŐLE A KERÍTÉS" },
    { category: "Közmondás", puzzle: "A REMÉNY HAL MEG UTOLJÁRA" },
    { category: "Közmondás", puzzle: "NE FESSÜK AZ ÖRDÖGÖT A FALRA" },
    { category: "Közmondás", puzzle: "TÖBB SZEM TÖBBET LÁT" },
    { category: "Közmondás", puzzle: "EGYSZER VOLT BUDÁN KUTYAVÁSÁR" },
    { category: "Közmondás", puzzle: "ESŐ UTÁN KÖPÖNYEG" },
    { category: "Közmondás", puzzle: "KÁRBA VESZETT BIZALOM" },

    // Kategória: Film & Rendező
    { category: "Film & Rendező", puzzle: "STEVEN SPIELBERG E T A FÖLDÖNKÍVÜLI" },
    { category: "Film & Rendező", puzzle: "JAMES CAMERON TITANIC" },
    { category: "Film & Rendező", puzzle: "GEORGE LUCAS CSILLAGOK HÁBORÚJA" },
    { category: "Film & Rendező", puzzle: "PETER JACKSON A GYŰRŰK URA" },
    { category: "Film & Rendező", puzzle: "CHRISTOPHER NOLAN EREDET" },
    { category: "Film & Rendező", puzzle: "MARTIN SCORSESE NAGYMENŐK" },
    { category: "Film & Rendező", puzzle: "FRANCIS FORD COPPOLA A KERESZTAPA" },
    { category: "Film & Rendező", puzzle: "ALFRED HITCHCOCK PSZICHÓ" },
    { category: "Film & Rendező", puzzle: "RIDLEY SCOTT GLADIÁTOR" },
    { category: "Film & Rendező", puzzle: "SZABÓ ISTVÁN MEPHISTO" },
    { category: "Film & Rendező", puzzle: "TIM BURTON OLLÓKEZŰ EDWARD" },
    { category: "Film & Rendező", puzzle: "DAVID FINCHER HARCOSOK KLUBJA" },
    { category: "Film & Rendező", puzzle: "ROBERT ZEMECKIS VISSZA A JÖVŐBE" },
    { category: "Film & Rendező", puzzle: "LANA WACHOWSKI MÁTRIX" },
    { category: "Film & Rendező", puzzle: "STANLEY KUBRICK RAGYOGÁS" },
    { category: "Film & Rendező", puzzle: "MILOS FORMAN AMADEUS" },
    { category: "Film & Rendező", puzzle: "JANKOVICS MARCELL FEHÉRLÓFIA" },
    { category: "Film & Rendező", puzzle: "MUNDRUCZÓ KORNÉL FEHÉR ISTEN" },
    { category: "Film & Rendező", puzzle: "NEMES JELES LÁSZLÓ SAUL FIA" },
    { category: "Film & Rendező", puzzle: "BEREMÉNYI GÉZA ELDORÁDÓ" },
    { category: "Film & Rendező", puzzle: "DENIS VILLENEUVE DŰNE" },
    { category: "Film & Rendező", puzzle: "WES ANDERSON A GRAND BUDAPEST HOTEL" },
    { category: "Film & Rendező", puzzle: "CHAPLIN A DIKTÁTOR" },
    { category: "Film & Rendező", puzzle: "TAR BÉLA SÁTÁNTANGÓ" },
    { category: "Film & Rendező", puzzle: "FABRI ZOLTÁN A PÁL UTCAI FIÚK" },
    { category: "Film & Rendező", puzzle: "MÉSZÁROS MÁRTA NAPLÓ GYERMEKEIMNEK" },
    { category: "Film & Rendező", puzzle: "JAMES GUNN A GALAXIS ŐRZŐI" },
    { category: "Film & Rendező", puzzle: "BACSÓ PÉTER A TANÚ" },
    { category: "Film & Rendező", puzzle: "SOPSITS ÁRPÁD A WHISKYIS" },
    { category: "Film & Rendező", puzzle: "CLINT EASTWOOD MILLIÓ DOLLÁROS BÉBI" },
    { category: "Film & Rendező", puzzle: "FRANK DARABONT A REMÉNY RABJAI" },

    // Kategória: Irodalom
    { category: "Irodalom", puzzle: "MOLNÁR FERENC A PÁL UTCAI FIÚK" },
    { category: "Irodalom", puzzle: "ARANY JÁNOS TOLDİ" },
    { category: "Irodalom", puzzle: "PETŐFI SÁNDOR JÁNOS VITÉZ" },
    { category: "Irodalom", puzzle: "GÁRDONYI GÉZA EGRI CSILLAGOK" },
    { category: "Irodalom", puzzle: "MADÁCH IMRE AZ EMBER TRAGÉDIÁJA" },
    { category: "Irodalom", puzzle: "MIKSZÁTH KÁLMÁN SZENT PÉTER ESERNYŐJE" },
    { category: "Irodalom", puzzle: "ÖRKÉNY ISTVÁN EGYPERCES NOVELLÁK" },
    { category: "Irodalom", puzzle: "KOSZTOLÁNYI DEZSŐ ÉDES ANNA" },
    { category: "Irodalom", puzzle: "MÓRICZ ZSIGMOND LÉGY JÓ MINDHALÁLIG" },
    { category: "Irodalom", puzzle: "FEKETE ISTVÁN VUK" },
    { category: "Irodalom", puzzle: "WILLIAM SHAKESPEARE RÓMEÓ ÉS JÚLIA" },
    { category: "Irodalom", puzzle: "J K ROWLING HARRY POTTER ÉS A BÖLCSEK KÖVE" },
    { category: "Irodalom", puzzle: "GEORGE ORWELL EZER KILENCSZÁZ NYOLCVAN NÉGY" },
    { category: "Irodalom", puzzle: "J R R TOLKIEN A GYŰRŰK URA" },
    { category: "Irodalom", puzzle: "LEV TOLSZTOJ HÁBORÚ ÉS BÉKE" },
    { category: "Irodalom", puzzle: "REJTŐ JENŐ A PISZKOS FRED A KAPITÁNY" },
    { category: "Irodalom", puzzle: "ANTOINE DE SAINT EXUPÉRY A KIS HERCEG" },
    { category: "Irodalom", puzzle: "FRANZ KAFKA AZ ÁTVÁLTOZÁS" },
    { category: "Irodalom", puzzle: "ALBERT CAMUS A KÖZÖNY" },
    { category: "Irodalom", puzzle: "SZABÓ MAGDA AZ AJTÓ" },
    { category: "Irodalom", puzzle: "KARINTHY FRIGYES ÍGY ÍRTOK TI" },
    { category: "Irodalom", puzzle: "DANIEL DEFOE ROBINSON CRUSOE" },
    { category: "Irodalom", puzzle: "JULES VERNE NYOLCVAN NAP ALATT A FÖLD KÖRÜL" },
    { category: "Irodalom", puzzle: "CERVANTES DON QUIJOTE" },
    { category: "Irodalom", puzzle: "HOMÉROSZ ODÜSSZEIA" },
    { category: "Irodalom", puzzle: "ADY ENDRE VÉRNŐS ASSZONYOK" },
    { category: "Irodalom", puzzle: "BABITS MIHÁLY JÓNÁS KÖNYVE" },
    { category: "Irodalom", puzzle: "JÓZSEF ATTILA TISZTA SZÍVVEL" },
    { category: "Irodalom", puzzle: "KERTÉSZ IMRE SORSTALANSÁG" },
    { category: "Irodalom", puzzle: "VÖRÖSMARTY MIHÁLY CSONGOR ÉS TÜNDE" },
    { category: "Irodalom", puzzle: "GABRIEL GARCÍA MÁRQUEZ SZÁZ ÉV MAGÁNY" },

    // Kategória: Zene
    { category: "Zene", puzzle: "LGT A KICSI A NAGY AZ ARTÚR ÉS AZ INDIÁN" },
    { category: "Zene", puzzle: "MICHAEL JACKSON THRILLER" },
    { category: "Zene", puzzle: "THE BEATLES HEY JUDE" },
    { category: "Zene", puzzle: "NIRVANA SMELLS LIKE TEEN SPIRIT" },
    { category: "Zene", puzzle: "ABBA DANCING QUEEN" },
    { category: "Zene", puzzle: "TANKCSAPDA MENNYORSZÁG TOURIST" },
    { category: "Zene", puzzle: "EDDA MŰVEK KÖR" },
    { category: "Zene", puzzle: "KISPÁL ÉS A BORZ CSILLAG VAGY FEKETE LYUK" },
    { category: "Zene", puzzle: "METALLICA ENTER SANDMAN" },
    { category: "Zene", puzzle: "HALOTT PÉNZ HELLO LÁNYOK" },
    { category: "Zene", puzzle: "BEETHOVEN ÖRÖMÓDA" },
    { category: "Zene", puzzle: "MOZART EGY KIS ÉJI ZENE" },
    { category: "Zene", puzzle: "LISZT FERENC MAGYAR RAPSZÓDIÁK" },
    { category: "Zene", puzzle: "FRANK SINATRA MY WAY" },
    { category: "Zene", puzzle: "ELVIS PRESLEY JAILHOUSE ROCK" },
    { category: "Zene", puzzle: "BOB MARLEY NO WOMAN NO CRY" },
    { category: "Zene", puzzle: "CSEH TAMÁS BUDAPEST" },
    { category: "Zene", puzzle: "REPUBLIC SZÁLLJ EL KISMADÁR" },
    { category: "Zene", puzzle: "ADELE ROLLING IN THE DEEP" },
    { category: "Zene", puzzle: "U2 WITH OR WITHOUT YOU" },
    { category: "Zene", puzzle: "PÉTERFY BORI & LOVE BAND HAJOLJ BELE A HAJAMBA" },
    { category: "Zene", puzzle: "VIVALDI A NÉGY ÉVSZAK" },
    { category: "Zene", puzzle: "JOHANN SEBASTIAN BACH TOCCATA ÉS FÚGA" },
    { category: "Zene", puzzle: "QUIMBY MOST MÚLIK PONTOSAN" },
    { category: "Zene", puzzle: "AC DC HIGHWAY TO HELL" },
    { category: "Zene", puzzle: "LED ZEPPELIN STAIRWAY TO HEAVEN" },
    { category: "Zene", puzzle: "PIRAMIS SZÁLLJ FEL MAGASRA" },
    { category: "Zene", puzzle: "KONCZ ZSUZSA HA ÉN RÓZSA VOLNÉK" },
    { category: "Zene", puzzle: "CARAMEL LÉLEKJEL" },

    // Kategória: Híres Ember
    { category: "Híres Ember", puzzle: "PETŐFI SÁNDOR" },
    { category: "Híres Ember", puzzle: "KOSSUTH LAJOS" },
    { category: "Híres Ember", puzzle: "SZÉCHENYI ISTVÁN" },
    { category: "Híres Ember", puzzle: "SEMMELWEIS IGNÁC" },
    { category: "Híres Ember", puzzle: "PUSKÁS FERENC" },
    { category: "Híres Ember", puzzle: "ERKEL FERENC" },
    { category: "Híres Ember", puzzle: "LEONARDO DA VINCI" },
    { category: "Híres Ember", puzzle: "MARIE CURIE" },
    { category: "Híres Ember", puzzle: "GALILEO GALILEI" },
    { category: "Híres Ember", puzzle: "ISAAC NEWTON" },
    { category: "Híres Ember", puzzle: "NEUMANN JÁNOS" },
    { category: "Híres Ember", puzzle: "BARTÓK BÉLA" },
    { category: "Híres Ember", puzzle: "KODÁLY ZOLTÁN" },
    { category: "Híres Ember", puzzle: "HOSSZÚ KATINKA" },
    { category: "Híres Ember", puzzle: "EGERVÁRI KRISTÓF" },
    { category: "Híres Ember", puzzle: "TERÉZ ANYA" },
    { category: "Híres Ember", puzzle: "NELSON MANDELA" },
    { category: "Híres Ember", puzzle: "MARTIN LUTHER KING" },
    { category: "Híres Ember", puzzle: "MAHATMA GANDHI" },
    { category: "Híres Ember", puzzle: "RUBIK ERNŐ" },
    { category: "Híres Ember", puzzle: "GEORGE WASHINGTON" },
    { category: "Híres Ember", puzzle: "NAPÓLEON BONAPARTE" },
    { category: "Híres Ember", puzzle: "JULIUS CAESAR" },
    { category: "Híres Ember", puzzle: "KLEOPÁTRA" },
    { category: "Híres Ember", puzzle: "CSOKONAI VITÉZ MIHÁLY" },
    { category: "Híres Ember", puzzle: "LATINOVITS ZOLTÁN" },
    { category: "Híres Ember", puzzle: "BODROGI GYULA" },
    { category: "Híres Ember", puzzle: "POLGÁR JUDIT" },
    { category: "Híres Ember", puzzle: "STEVE JOBS" },
    { category: "Híres Ember", puzzle: "BILL GATES" },
    { category: "Híres Ember", puzzle: "ELON MUSK" },

    // Kategória: Földrajz
    { category: "Földrajz", puzzle: "A DUNA EURÓPA MÁSODIK LEGHOSSZABB FOLYÓJA" },
    { category: "Földrajz", puzzle: "BUDAPEST MAGYARORSZÁG FŐVÁROSA" },
    { category: "Földrajz", puzzle: "MOUNT EVEREST A VILÁG LEGMAGASABB HEGYE" },
    { category: "Földrajz", puzzle: "AZ AMAZONAS ESŐERDŐ" },
    { category: "Földrajz", puzzle: "A SZAHARA A LEGNAGYOBB FORRÓ SIVATAG" },
    { category: "Földrajz", puzzle: "A KÍNAI NAGY FAL" },
    { category: "Földrajz", puzzle: "A NIAGARA VÍZESÉS" },
    { category: "Földrajz", puzzle: "AZ EGRI VÁR" },
    { category: "Földrajz", puzzle: "A BALATON KÖZÉP EURÓPA LEGNAGYOBB TAVA" },
    { category: "Földrajz", puzzle: "A PÁRIZSI EIFFEL TORONY" },
    { category: "Földrajz", puzzle: "A RÓMAI COLOSSEUM" },
    { category: "Földrajz", puzzle: "A GÍZAI NAGY PIRAMIS" },
    { category: "Földrajz", puzzle: "A CSENDES ÓCEÁN" },
    { category: "Földrajz", puzzle: "MADAGASZKÁR SZIGETE" },
    { category: "Földrajz", puzzle: "A NAGY KORALLZÁTONY AUSZTRÁLIÁBAN" },
    { category: "Földrajz", puzzle: "TOKIO JAPÁN FŐVÁROSA" },
    { category: "Földrajz", puzzle: "A DÉLI SARK" },
    { category: "Földrajz", puzzle: "A KÁRPÁTOK VONULATA" },
    { category: "Földrajz", puzzle: "A TISZA FOLYÓ" },
    { category: "Földrajz", puzzle: "A FÖLDKÖZI TENGER" },
    { category: "Földrajz", puzzle: "A SZIBÉRIAI TAJGA" },
    { category: "Földrajz", puzzle: "A GRAND CANYON AZ EGYESÜLT ÁLLAMOKBAN" },
    { category: "Földrajz", puzzle: "AZ INDIAI ÓCEÁN" },
    { category: "Földrajz", puzzle: "A VIKTÓRIA VÍZESÉS" },
    { category: "Földrajz", puzzle: "A SZENTENDREI SZIGET" },
    { category: "Földrajz", puzzle: "AGGTELEKI CSEPPKŐBARLANG" },
    { category: "Földrajz", puzzle: "A VELENCEI KARNEVÁL" },
    { category: "Földrajz", puzzle: "A SZUEZI CSATORNA" },
    { category: "Földrajz", puzzle: "AZ ANDOK HEGYSÉG" },
    { category: "Földrajz", puzzle: "MOSZKVA OROSZORSZÁG FŐVÁROSA" },

    // Kategória: Történelem
    { category: "Történelem", puzzle: "A MAGYAR HONFOGLALÁS" },
    { category: "Történelem", puzzle: "AZ 1848-AS FORRADALOM ÉS SZABADSÁGHARC" },
    { category: "Történelem", puzzle: "A RÓMAI BIRODALOM BUKÁSA" },
    { category: "Történelem", puzzle: "A BERLINI FAL LEOMBLASA" },
    { category: "Történelem", puzzle: "A MUHACSI CSATA" },
    { category: "Történelem", puzzle: "AZ ELSŐ VILÁGHÁBORÚ" },
    { category: "Történelem", puzzle: "A KÖZÉPKOR" },
    { category: "Törtélelem", puzzle: "A REFORMÁCIÓ" },
    { category: "Történelem", puzzle: "AZ AMERIKAI FÜGGETLENSÉGI HÁBORÚ" },
    { category: "Történelem", puzzle: "A FRANCIA FORRADALOM" },
    { category: "Történelem", puzzle: "A TATÁRJÁRÁS" },
    { category: "Történelem", puzzle: "A TRIANONI BÉKESZERZŐDÉS" },
    { category: "Történelem", puzzle: "A HIDEGHÁBORÚ" },
    { category: "Történelem", puzzle: "A VIKING KOR" },
    { category: "Történelem", puzzle: "AZ ÓKORI EGYIPTOM" },
    { category: "Történelem", puzzle: "A VASKOR" },
    { category: "Történelem", puzzle: "A KIEGYEZÉS" },
    { category: "Történelem", puzzle: "A RÁKÓCZI SZABADSÁGHARC" },
    { category: "Történelem", puzzle: "A NÁNDORFEHÉRVÁRI DIADAL" },
    { category: "Történelem", puzzle: "AZ ARANYBULLA" },
    { category: "Történelem", puzzle: "A HOLOKAUSZT" },
    { category: "Történelem", puzzle: "A SZOVJETUNIÓ FELBOMLÁSA" },
    { category: "Történelem", puzzle: "A HOLDFÖLDRE SZÁLLÁS" },
    { category: "Történelem", puzzle: "A RENESZÁNSZ KORA" },
    { category: "Történelem", puzzle: "AZ APOLLÓ TIZENEGY KÜLDETÉS" },

    // Kategória: Tudomány
    { category: "Tudomány", puzzle: "A DNS KETTŐS SPIRÁL SZERKEZETE" },
    { category: "Tudomány", puzzle: "ISAAC NEWTON GRAVITÁCIÓS TÖRVÉNYE" },
    { category: "Tudomány", puzzle: "A FÉNY SEBESSÉGE VÁKUUMBAN" },
    { category: "Tudomány", puzzle: "SZENT GYÖRGYI ALBERT ÉS A C VITAMIN" },
    { category: "Tudomány", puzzle: "CHARLES DARWIN EVOLÚCIÓELMÉLETE" },
    { category: "Tudomány", puzzle: "A PITAGORASZ TÉTEL" },
    { category: "Tudomány", puzzle: "A VÍZ FORRÁSPONTJA" },
    { category: "Tudomány", puzzle: "A PERIÓDUSOS RENDSZER" },
    { category: "Tudomány", puzzle: "FEKETE LYUK A TÉRIDŐ GÖRBÜLETE" },
    { category: "Tudomány", puzzle: "A FOTOSZINTÉZIS FOLYAMATA" },
    { category: "Tudomány", puzzle: "KOPERNIKUSZ HELIOCENTRIKUS VILÁGKÉPE" },
    { category: "Tudomány", puzzle: "A HANGTERJEDÉS SEBESSÉGE" },
    { category: "Tudomány", puzzle: "AZ ATOMMAG HASADÁSA" },
    { category: "Tudomány", puzzle: "A NAPELEMEK MŰKÖDÉSI ELVE" },
    { category: "Tudomány", puzzle: "GREGOR MENDEL ÉS A GENETIKA" },
    { category: "Tudomány", puzzle: "A NAGY BUMM ELMÉLETE" },
    { category: "Tudomány", puzzle: "ALEXANDER FLEMING ÉS A PENICILLIN" },
    { category: "Tudomány", puzzle: "A MÁGNESES MEZŐ" },
    { category: "Tudomány", puzzle: "A HORMONRENDSZER MŰKÖDÉSE" },
    { category: "Tudomány", puzzle: "AZ INTERNET FELTALÁLÁSA" },
    { category: "Tudomány", puzzle: "ARCHIMÉDESZ TÖRVÉNYE" },
    { category: "Tudomány", puzzle: "A LÉZER TECHNOLÓGIA" },
    { category: "Tudomány", puzzle: "AZ EMBERI GENOM PROJEKT" },
    { category: "Tudomány", puzzle: "A KVANTUMMECHANIKA" },

    // Kategória: Étel & Ital
    { category: "Étel & Ital", puzzle: "GULYÁSLEVES CSIPETKÉVEL" },
    { category: "Étel & Ital", puzzle: "TÖLTÖTT KÁPOSZTA TEJFÖLLEL" },
    { category: "Étel & Ital", puzzle: "PIZZA MARGHERITA" },
    { category: "Étel & Ital", puzzle: "ESZPRESSZÓ KÁVÉ" },
    { category: "Étel & Ital", puzzle: "TOKAJI ASZÚ" },
    { category: "Étel & Ital", puzzle: "HALÁSZLÉ GYUFA TÉSZTÁVAL" },
    { category: "Étel & Ital", puzzle: "CSIRKEPAPRIKÁS NOKEDLIVEL" },
    { category: "Étel & Ital", puzzle: "RÁNTOTT SAJT TARTÁRMÁRTÁSSAL" },
    { category: "Étel & Ital", puzzle: "SOMÓI GALUSKA" },
    { category: "Étel & Ital", puzzle: "DOBOSTORTA" },
    { category: "Étel & Ital", puzzle: "KÜRTŐSKALÁCS" },
    { category: "Étel & Ital", puzzle: "PALACSINTA KAKAÓVAL" },
    { category: "Étel & Ital", puzzle: "LÁNGOS SAJTTAL ÉS TEJFÖLLEL" },
    { category: "Étel & Ital", puzzle: "LECSÓ KOLBÁSSZAL" },
    { category: "Étel & Ital", puzzle: "SPAGETTI BOLOGNESE" },
    { category: "Étel & Ital", puzzle: "HAMBURGER HASÁBBURGONYÁVAL" },
    { category: "Étel & Ital", puzzle: "PÖRKÖLT TARHONYÁVAL" },
    { category: "Étel & Ital", puzzle: "EGRI BIKAVÉR" },
    { category: "Étel & Ital", puzzle: "FRÖCCS" },
    { category: "Étel & Ital", puzzle: "TÚRÓGOMBÓC" },
    { category: "Étel & Ital", puzzle: "MÁKOS GUBA" },
    { category: "Étel & Ital", puzzle: "SZUSI ÉS SZASIMI" },
    { category: "Étel & Ital", puzzle: "GÖRÖG SALÁTA" },
    { category: "Étel & Ital", puzzle: "GYROS PITÁBAN" },
    { category: "Étel & Ital", puzzle: "SZILVÁS GOMBÓC" },
    { category: "Étel & Ital", puzzle: "BEJGLI" },
    { category: "Étel & Ital", puzzle: "PÁLINKA" },
    { category: "Étel & Ital", puzzle: "ZSERBÓ SZELET" },

    // Kategória: Élőlény
    { category: "Élőlény", puzzle: "KÉK BÁLNA A LEGNAGYOBB EMLŐS" },
    { category: "Élőlény", puzzle: "NAGY FEHÉR CÁPA" },
    { category: "Élőlény", puzzle: "GÍMSZARVAS" },
    { category: "Élőlény", puzzle: "FEHÉR GÓLYA" },
    { category: "Élőlény", puzzle: "MAGYAR VIZSLA" },
    { category: "Élőlény", puzzle: "AFRIKAI OROSZLÁN" },
    { category: "Élőlény", puzzle: "PULI KUTYA" },
    { category: "Élőlény", puzzle: "SZIBÉRIAI TIGRIS" },
    { category: "Élőlény", puzzle: "JEGESMEDVE" },
    { category: "Élőlény", puzzle: "ÓRIÁSPANDA" },
    { category: "Élőlény", puzzle: "KOLIBRI" },
    { category: "Élőlény", puzzle: "BARNA MEDVE" },
    { category: "Élőlény", puzzle: "VÖRÖS RÓKA" },
    { category: "Élőlény", puzzle: "HÁZI MACSKA" },
    { category: "Élőlény", puzzle: "ZSIRÁF" },
    { category: "Élőlény", puzzle: "CSÁSZÁRPINGVIN" },
    { category: "Élőlény", puzzle: "TARANTULA PÓK" },
    { category: "Élőlény", puzzle: "KAMÉLEON" },
    { category: "Élőlény", puzzle: "PÁVA" },
    { category: "Élőlény", puzzle: "LAJHÁR" },
    { category: "Élőlény", puzzle: "NÍLUSI KROKODIL" },
    { category: "Élőlény", puzzle: "KOMÓDÓI VARÁNUSZ" },
    { category: "Élőlény", puzzle: "EURÁZSIAI HÓD" },
    { category: "Élőlény", puzzle: "SZÜRKE MARHA" },
    { category: "Élőlény", puzzle: "HÓBAGOLY" },

    // Kategória: Növény
    { category: "Növény", puzzle: "TÖLGYFA" },
    { category: "Növény", puzzle: "NAPRAFORGÓ" },
    { category: "Növény", puzzle: "RÓZSA" },
    { category: "Növény", puzzle: "TULIPÁN" },
    { category: "Növény", puzzle: "AKÁCFA" },
    { category: "Növény", puzzle: "HÓVIRÁG" },
    { category: "Növény", puzzle: "KAMILLA" },
    { category: "Növény", puzzle: "LEVENDULA" },
    { category: "Növény", puzzle: "PITYPANG" },
    { category: "Növény", puzzle: "LEÁNDER" },
    { category: "Növény", puzzle: "BÚZA" },
    { category: "Növény", puzzle: "KUKORICA" },
    { category: "Növény", puzzle: "BAOBAB FA" },
    { category: "Növény", puzzle: "FENYŐFA" },
    { category: "Növény", puzzle: "GOMBA" },
    { category: "Növény", puzzle: "PÁFRÁNY" },
    { category: "Növény", puzzle: "ORGONA" },
    { category: "Növény", puzzle: "SZŐLŐTŐKE" },
    { category: "Növény", puzzle: "PAPRIKA" },
    { category: "Növény", puzzle: "PARADICSOM" },
    { category: "Növény", puzzle: "GÍNKGO BILOBA" },
    { category: "Növény", puzzle: "VÉNUSZ LÉGYCSAPÓJA" },
    { category: "Növény", puzzle: "KAKTUSZ" },
    { category: "Növény", puzzle: "TAVIRÓZSA" },
    { category: "Növény", puzzle: "MOHA" },

    // Kategória: Tárgy
    { category: "Tárgy", puzzle: "OKOSTELEFON TÖLTŐKÁBEL" },
    { category: "Tárgy", puzzle: "ROZSDAMENTES ACÉL EDÉNYKÉSZLET" },
    { category: "Tárgy", puzzle: "BICIKLIPUMPA" },
    { category: "Tárgy", puzzle: "GOLYÓSTOLL" },
    { category: "Tárgy", puzzle: "ASZTALI LÁMPA" },
    { category: "Tárgy", puzzle: "KÖNYVESPOLC" },
    { category: "Tárgy", puzzle: "FÉNYKÉPEZŐGÉP" },
    { category: "Tárgy", puzzle: "DUGÓHÚZÓ" },
    { category: "Tárgy", puzzle: "ESERNYŐ" },
    { category: "Tárgy", puzzle: "HAJSZÁRÍTÓ" },
    { category: "Tárgy", puzzle: "MIKROHULLÁMÚ SÜTŐ" },
    { category: "Tárgy", puzzle: "PORSZÍVÓ" },
    { category: "Tárgy", puzzle: "ÍRÓASZTAL" },
    { category: "Tárgy", puzzle: "KARÓRA" },
    { category: "Tárgy", puzzle: "TÁVIRÁNYÍTÓ" },
    { category: "Tárgy", puzzle: "FOGKEFE" },
    { category: "Tárgy", puzzle: "LAPTOP TÁSKA" },
    { category: "Tárgy", puzzle: "KÁVÉFŐZŐ" },
    { category: "Tárgy", puzzle: "VÍZFORRALÓ" },
    { category: "Tárgy", puzzle: "FALINAPTÁR" },
    { category: "Tárgy", puzzle: "SZEMÜVEGTOK" },
    { category: "Tárgy", puzzle: "GEMKAPOCS" },
    { category: "Tárgy", puzzle: "VARRÓTŰ" },
    { category: "Tárgy", puzzle: "CSAVARHÚZÓ KÉSZLET" },
    { category: "Tárgy", puzzle: "KULCSCSOMÓ" },

    // Kategória: Sport
    { category: "Sport", puzzle: "OLIMPIAI JÁTÉKOK" },
    { category: "Sport", puzzle: "LABDARÚGÓ VILÁGBAJNOKSÁG" },
    { category: "Sport", puzzle: "FORMULA 1 MAGYAR NAGYDÍJ" },
    { category: "Sport", puzzle: "KOVÁCS KATALIN OLIMPIAI BAJNOK KAJAKOZÓ" },
    { category: "Sport", puzzle: "TOUR DE FRANCE KERÉKPÁRVERSENY" },
    { category: "Sport", puzzle: "WIMBLEDONI TENISZBAJNOKSÁG" },
    { category: "Sport", puzzle: "SZILÁGYI ÁRON HÁROMSZOROS OLIMPIAI BAJNOK VÍVÓ" },
    { category: "Sport", puzzle: "KOSÁRLABDA" },
    { category: "Sport", puzzle: "VÍZILABDA" },
    { category: "Sport", puzzle: "ATLÉTIKA" },
    { category: "Sport", puzzle: "ÚSZÁS" },
    { category: "Sport", puzzle: "KÉZILABDA" },
    { category: "Sport", puzzle: "JEGKORONG" },
    { category: "Sport", puzzle: "A NEMZETI BAJNOKSÁG" },
    { category: "Sport", puzzle: "ARANYCSAPAT" },
    { category: "Sport", puzzle: "SUPER BOWL" },
    { category: "Sport", puzzle: "BAJNOKOK LIGÁJA" },
    { category: "Sport", puzzle: "MICHAEL JORDAN" },
    { category: "Sport", puzzle: "ROGER FEDERER" },
    { category: "Sport", puzzle: "USAIN BOLT" },
    { category: "Sport", puzzle: "MICHAEL SCHUMACHER" },
    { category: "Sport", puzzle: "LIONEL MESSI" },
    { category: "Sport", puzzle: "CRISTIANO RONALDO" },
    { category: "Sport", puzzle: "LEBRON JAMES" },
    { category: "Sport", puzzle: "MICHAEL PHELPS" },
    { category: "Sport", puzzle: "GYARMATI DEZSŐ" },
    { category: "Sport", puzzle: "DARNYI TAMÁS" },

    // Kategória: Márkanév
    { category: "Márkanév", puzzle: "COCA COLA" },
    { category: "Márkanév", puzzle: "LEGO" },
    { category: "Márkanév", puzzle: "PICK SZEGED" },
    { category: "Márkanév", puzzle: "AUDI" },
    { category: "Márkanév", puzzle: "NIKE" },
    { category: "Márkanév", puzzle: "ADIDAS" },
    { category: "Márkanév", puzzle: "APPLE" },
    { category: "Márkanév", puzzle: "SAMSUNG" },
    { category: "Márkanév", puzzle: "GOOGLE" },
    { category: "Márkanév", puzzle: "FACEBOOK" },
    { category: "Márkanév", puzzle: "MCDONALDS" },
    { category: "Márkanév", puzzle: "IKEA" },
    { category: "Márkanév", puzzle: "ZARA" },
    { category: "Márkanév", puzzle: "PÖTTYÖS TÚRÓ RUDI" },
    { category: "Márkanév", puzzle: "HERENDI PORCELÁN" },
    { category: "Márkanév", puzzle: "GYŐRI KEKSZ" },
    { category: "Márkanév", puzzle: "TESCO" },
    { category: "Márkanév", puzzle: "LIDL" },
    { category: "Márkanév", puzzle: "SPAR" },
    { category: "Márkanév", puzzle: "TOYOTA" },
    { category: "Márkanév", puzzle: "BMW" },
    { category: "Márkanév", puzzle: "NETFLIX" },
    { category: "Márkanév", puzzle: "SPOTIFY" },
    { category: "Márkanév", puzzle: "FERRARI" },
    { category: "Márkanév", puzzle: "SONY PLAYSTATION" },

    // Kategória: Mindennapi élet
    { category: "Mindennapi élet", puzzle: "HOLNAP REGGEL KORÁN KELL KELNEM" },
    { category: "Mindennapi élet", puzzle: "ELNÉZÉST MERRE VAN A LEGÖZELEBBI PATIKA" },
    { category: "Mindennapi élet", puzzle: "ELFOGYOTT A TEJ A HŰTŐBŐL" },
    { category: "Mindennapi élet", puzzle: "LEMERÜLT A TELEFONOM" },
    { category: "Mindennapi élet", puzzle: "BEVÁSÁRLÓLISTÁT ÍROK" },
    { category: "Mindennapi élet", puzzle: "ELKÉSEK A MUNKÁBÓL" },
    { category: "Mindennapi élet", puzzle: "NINCS ITTHON KENYÉR" },
    { category: "Mindennapi élet", puzzle: "VIGYÉL ESERNYŐT MERT ESNI FOG" },
    { category: "Mindennapi élet", puzzle: "MIT KÉRSZ EBÉDRE" },
    { category: "Mindennapi élet", puzzle: "ELFELEJTETTEM A JELSZAVAM" },
    { category: "Mindennapi élet", puzzle: "KAPCSOLD BE A TELEVÍZIÓT" },
    { category: "Mindennapi élet", puzzle: "LE KELL VINNI A SZEMETET" },
    { category: "Mindennapi élet", puzzle: "NINCS INTERNETKAPCSOLAT" },
    { category: "Mindennapi élet", puzzle: "HÁNY ÓRA VAN" },
    { category: "Mindennapi élet", puzzle: "FELHÍVLAK KÉSŐBB" },
    { category: "Mindennapi élet", puzzle: "BOLDOG SZÜLETÉSNAPOT KÍVÁNOK" },
    { category: "Mindennapi élet", puzzle: "NAGYON JÓL ÉREZTEM MAGAM" },
    { category: "Mindennapi élet", puzzle: "EGY KÁVÉT KÉREK SZÉPEN" },
    { category: "Mindennapi élet", puzzle: "HOL TALÁLOM A MOSDÓT" },
    { category: "Mindennapi élet", puzzle: "NEM MŰKÖDIK A BANKKÁRTYA TERMINÁL" },
    { category: "Mindennapi élet", puzzle: "KÜLDD ÁT EMAILBEN LÉGYSZÍVES" },
    { category: "Mindennapi élet", puzzle: "BE KELL FIZETNI A SZÁMLÁKAT" },
    { category: "Mindennapi élet", puzzle: "FORGALMI DUGÓBA KERÜLTEM" },
    { category: "Mindennapi élet", puzzle: "MENNYI AZ IDŐ" },
    { category: "Mindennapi élet", puzzle: "JÓ ÉTVÁGYAT" },
    { category: "Mindennapi élet", puzzle: "SOK SIKERT A VIZSGÁHOZ" },

    // Kategória: Fogalom
    { category: "Fogalom", puzzle: "A SZABADSÁG ÉS A SZERELEM" },
    { category: "Fogalom", puzzle: "DEMOKRÁCIA" },
    { category: "Fogalom", puzzle: "EMBERI JOGOK" },
    { category: "Fogalom", puzzle: "BARÁTSÁG" },
    { category: "Fogalom", puzzle: "KÉPZELET" },
    { category: "Fogalom", puzzle: "KREATIVITÁS" },
    { category: "Fogalom", puzzle: "BÖLCSESSÉG" },
    { category: "Fogalom", puzzle: "IGAZSÁG" },
    { category: "Fogalom", puzzle: "HŰSÉG" },
    { category: "Fogalom", puzzle: "TISZTELET" },
    { category: "Fogalom", puzzle: "INFLÁCIÓ" },
    { category: "Fogalom", puzzle: "GLOBÁLIS FELMELEGEDÉS" },
    { category: "Fogalom", puzzle: "KÖRNYEZETVÉDELEM" },
    { category: "Fogalom", puzzle: "VÉLETLEN" },
    { category: "Fogalom", puzzle: "SORS" },
    { category: "Fogalom", puzzle: "KULTÚRA" },
    { category: "Fogalom", puzzle: "CIVILIZÁCIÓ" },
    { category: "Fogalom", puzzle: "A HUMOR ÉS A NEVETÉS" },
    { category: "Fogalom", puzzle: "AZ ÁLMOK ÉS A VALÓSÁG" },
    { category: "Fogalom", puzzle: "A MÚLT ÉS A JÖVŐ" },

    // Kategória: Foglalkozás
    { category: "Foglalkozás", puzzle: "TŰZOLTÓ" },
    { category: "Foglalkozás", puzzle: "ORVOS" },
    { category: "Foglalkozás", puzzle: "TANÁR" },
    { category: "Foglalkozás", puzzle: "RENDŐR" },
    { category: "Foglalkozás", puzzle: "PROGRAMOZÓ" },
    { category: "Foglalkozás", puzzle: "PÉK" },
    { category: "Foglalkozás", puzzle: "SZAKÁCS" },
    { category: "Foglalkozás", puzzle: "FODRÁSZ" },
    { category: "Foglalkozás", puzzle: "ÜGYVÉD" },
    { category: "Foglalkozás", puzzle: "ÉPÍTÉSZMÉRNÖK" },
    { category: "Foglalkozás", puzzle: "ÁLLATORVOS" },
    { category: "Foglalkozás", puzzle: "POSTÁS" },
    { category: "Foglalkozás", puzzle: "SZÍNÉSZ" },
    { category: "Foglalkozás", puzzle: "ZENÉSZ" },
    { category: "Foglalkozás", puzzle: "FESTŐMŰVÉSZ" },
    { category: "Foglalkozás", puzzle: "ÚJSÁGÍRÓ" },
    { category: "Foglalkozás", puzzle: "PILÓTA" },
    { category: "Foglalkozás", puzzle: "ASZTALOS" },
    { category: "Foglalkozás", puzzle: "VILLANYSZERELŐ" },
    { category: "Foglalkozás", puzzle: "KÖNYVELŐ" },
    { category: "Foglalkozás", puzzle: "TUDÓS" },
    { category: "Foglalkozás", puzzle: "GRAFIKUS" },
    { category: "Foglalkozás", puzzle: "MARKETING MENEDZSER" },
    { category: "Foglalkozás", puzzle: "BANKÁR" },
    { category: "Foglalkozás", puzzle: "PSZICHOLÓGUS" },

    // Kategória: Csillagászat
    { category: "Csillagászat", puzzle: "TEJÚTRENDSZER" },
    { category: "Csillagászat", puzzle: "NAGY MEDVE CSILLAGKÉP" },
    { category: "Csillagászat", puzzle: "A HOLD FOGYATKOZÁSA" },
    { category: "Csillagászat", puzzle: "A NAPRENDSZER BOLYGÓI" },
    { category: "Csillagászat", puzzle: "HALLEY ÜSTÖKÖS" },
    { category: "Csillagászat", puzzle: "HUBBLE ŰRTÁVCSŐ" },
    { category: "Csillagászat", puzzle: "ANDROMÉDA GALAXIS" },
    { category: "Csillagászat", puzzle: "A JUPITER NAGY VÖRÖS FOLTJA" },
    { category: "Csillagászat", puzzle: "A SZATURNUSZ GYŰRŰI" },
    { category: "Csillagászat", puzzle: "METEORRAJ" },
    { category: "Csillagászat", puzzle: "SARKIFÉNY" },
    { category: "Csillagászat", puzzle: "CSILLAGHULLÁS" },
    { category: "Csillagászat", puzzle: "A MARS A VÖRÖS BOLYGÓ" },
    { category: "Csillagászat", puzzle: "NEMZETKÖZI ŰRÁLLOMÁS" },
    { category: "Csillagászat", puzzle: "VÉNUSZ AZ ESTHAJNALCSILLAG" },
    { category: "Csillagászat", puzzle: "NAPFOGYATKOZÁS" },
    { category: "Csillagászat", puzzle: "TÖRPEBOLYGÓ" },
    { category: "Csillagászat", puzzle: "A FÖLD KERINGÉSE A NAP KÖRÜL" },
    { category: "Csillagászat", puzzle: "CSILLAGKÖD" },
    { category: "Csillagászat", puzzle: "PULZÁR" },

    // Vegyes kategóriák a teljességért (további ~500)
    { category: "Étel & Ital", puzzle: "SZALONNACUKOR" },
    { category: "Sport", puzzle: "EURÓPA LIGA" },
    { category: "Irodalom", puzzle: "ERICH KÄSTNER A KÉT LOTTI" },
    { category: "Híres Ember", puzzle: "BUD SPENCER" },
    { category: "Film", puzzle: "A KARIB TENGER KALÓZAI" },
    { category: "Földrajz", puzzle: "A HOLT TENGER" },
    { category: "Tudomány", puzzle: "RELATIVITÁS" },
    { category: "Zene", puzzle: "KFT BALATONI NYÁR" },
    { category: "Közmondás", puzzle: "A BECSÜLET DRÁGÁBB AZ ARANYNÁL" },
    { category: "Tárgy", puzzle: "MOBILTELEFON" },
    { category: "Élőlény", puzzle: "HÁZI MÉH" },
    { category: "Mindennapi élet", puzzle: "FELADOM A POSTÁN" },
    { category: "Márkanév", puzzle: "Zsolnay Porcelán" },
    { category: "Történelem", puzzle: "A HUSZÁR" },
    { category: "Sport", puzzle: "BUDAPEST HONVÉD" },
    { category: "Film & Rendező", puzzle: "GAUDER ÁRON KOJOT NÉGY LELKE" },
    { category: "Zene", puzzle: "BRÓDY JÁNOS FILLÉRES EMLÉKEIM" },
    { category: "Foglalkozás", puzzle: "REPÜLŐGÉP SZERELŐ" },
    { category: "Közmondás", puzzle: "AKI KÍVÁNCSI HAMAR MEGSÖREGszik" },
    { category: "Tárgy", puzzle: "KULACS" },
    { category: "Étel & Ital", puzzle: "TÚRÓS CSUSZA" },
    { category: "Híres Ember", puzzle: "ZSÓFIA KIRÁLYNÉ" },
    { category: "Földrajz", puzzle: "A Vatikánváros" },
    { category: "Tudomány", puzzle: "LEPKEHATÁS" },
    { category: "Irodalom", puzzle: "DICKENS KARÁCSONYI ÉNEK" },
    { category: "Sport", puzzle: "SZOBOSZLAI DOMINIK" },
    { category: "Márkanév", puzzle: "UNIVER" },
    { category: "Film", puzzle: "INDUL A BAKTERHÁZ" },
    { category: "Élőlény", puzzle: "EURÁZSIAI HIÚZ" },
    { category: "Mindennapi élet", puzzle: "A SZOMSZÉD FÜVE MINDIG ZÖLDEBB" },
    { category: "Zene", puzzle: "THE ROLLING STONES PAINT IT BLACK" },
    { category: "Történelem", puzzle: "A LOVAGKOR" },
    { category: "Csillagászat", puzzle: "FEHÉR TÖRPE" },
    { category: "Tárgy", puzzle: "KÖRÖMLAKK" },
    { category: "Étel & Ital", puzzle: "SZÓDAVÍZ" },
    { category: "Híres Ember", puzzle: "ERZSÉBET KIRÁLYNÉ" },
    { category: "Földrajz", puzzle: "HORTBÁGYI NEMZETI PARK" },
    { category: "Sport", puzzle: "FERENCVÁROSI TORNA CLUB" },
    { category: "Film", puzzle: "CSINIBABA" },
    { category: "Közmondás", puzzle: "JOBB EGY VERÉB MINT TÍZ TÚZOK" },
    { category: "Irodalom", puzzle: "MARK TWAIN TOM SAWYER KALANDJAI" },
    { category: "Zene", puzzle: "RÚZSA MAGDI GABRIEL" },
    { category: "Tudomány", puzzle: "AZ ŐSSEJT KUTATÁS" },
    { category: "Márkanév", puzzle: "RICHTER GEDEON" },
    { category: "Élőlény", puzzle: "ARANYHAL" },
    { category: "Mindennapi élet", puzzle: "KIFOGYOTT A NYOMTATÓBÓL A PAPÍR" },
    { category: "Tárgy", puzzle: "FALIÓRA" },
    { category: "Étel & Ital", puzzle: "KRÉMES" },
    { category: "Film", puzzle: "MACSKAFOGÓ" },
    { category: "Sport", puzzle: "TÉLI OLIMPIA" },
    { category: "Híres Ember", puzzle: "SZÉLL KÁLMÁN" },
    { category: "Földrajz", puzzle: "BERLIN" },
    { category: "Történelem", puzzle: "A REFORMKOR" },
    { category: "Zene", puzzle: "HUNGÁRIA CSILLAGOK HÁBORÚJA" },
    { category: "Közmondás", puzzle: "A MUNKA NEMESÍT" },
    { category: "Irodalom", puzzle: "NEMES NAGY ÁGNES A LÁTHATATLAN RÉT" },
    { category: "Tudomány", puzzle: "A MESTERSÉGES INTELLIGENCIA" },
    { category: "Márkanév", puzzle: "MOL" },
    { category: "Élőlény", puzzle: "TENGERI CSILLAG" },
    { category: "Mindennapi élet", puzzle: "NEM TALÁLOM A SZEMÜVEGEMET" },
    { category: "Tárgy", puzzle: "KONZERVNYITÓ" },
    { category: "Étel & Ital", puzzle: "HAGYMÁS ROSTÉLYOS" },
    { category: "Film", puzzle: "A TENKES KAPITÁNYA" },
    { category: "Sport", puzzle: "MAGYAR KUPA" },
    { category: "Híres Ember", puzzle: "JÁSZAI MARI" },
    { category: "Földrajz", puzzle: "AZ ALPOK" },
    { category: "Történelem", puzzle: "A BASTILLE BEVÉTELE" },
    { category: "Zene", puzzle: "KORÁL MARADJ VELEM" },
    { category: "Közmondás", puzzle: "AZ IDŐ PÉNZ" },
    { category: "Irodalom", puzzle: "FEKETE ISTVÁN TÉLI BEREK" },
    { category: "Tudomány", puzzle: "A KLÓNOZÁS ETIKAI KÉRDÉSEI" },
    { category: "Márkanév", puzzle: "OTP BANK" },
    { category: "Élőlény", puzzle: "HÁZI SERTÉS" },
    { category: "Mindennapi élet", puzzle: "KÉRLEK ADD IDE A SÓT" },
    { category: "Tárgy", puzzle: "HÁTIZSÁK" },
    { category: "Étel & Ital", puzzle: "VADAS MARHA ZSEMLEGOMBÓCCAL" },
    { category: "Film", puzzle: "SOSE HALUNK MEG" },
    { category: "Sport", puzzle: "ÚJPESTI TORNA EGYLET" },
    { category: "Híres Ember", puzzle: "GÁBOR ZSAZSA" },
    { category: "Földrajz", puzzle: "A KÉKESTETŐ" },
    { category: "Történelem", puzzle: "A SZPARTAKUSZ FELKELÉS" },
    { category: "Zene", puzzle: "BOGNÁR SZILVIA INDULJ EL EGY ÚTON" },
    { category: "Közmondás", puzzle: "A STÍLUS MAGA AZ EMBER" },
    { category: "Irodalom", puzzle: "SZERB ANTAL A PENDRAGON LEGENDA" },
    { category: "Tudomány", puzzle: "NANOTECHNOLÓGIA" },
    { category: "Márkanév", puzzle: "ZWACK UNICUM" },
    { category: "Élőlény", puzzle: "VÖRÖS PANDA" },
    { category: "Mindennapi élet", puzzle: "BEZÁRTAM AZ AJTÓT" },
    { category: "Tárgy", puzzle: "CERUZAHEGYEZŐ" },
    { category: "Étel & Ital", puzzle: "PAPRIKÁS KRUMPLI" },
    { category: "Film", puzzle: "A GYŰRŰK URA A KIRÁLY VISSZATÉR" },
    { category: "Sport", puzzle: "PARALIMPIA" },
    { category: "Híres Ember", puzzle: "TÖRŐCSIK MARI" },
    { category: "Földrajz", puzzle: "A SZENT ANNA TÓ" },
    { category: "Történelem", puzzle: "AZ ÓKORI GÖRÖGORSZÁG" },
    { category: "Zene", puzzle: "BILLY JOEL PIANO MAN" },
    { category: "Közmondás", puzzle: "A JÓBÓL IS MEGÁRT A SOK" },
    { category: "Irodalom", puzzle: "RUDYARD KIPLING A DZSUNGEL KÖNYVE" },
    { category: "Tudomány", puzzle: "A GENETIKAILAG MÓDOSÍTOTT SZERVEZETEK" },
    { category: "Márkanév", puzzle: "HELL ENERGY" },
    { category: "Élőlény", puzzle: "FEKETE PÁRDUC" },
    { category: "Mindennapi élet", puzzle: "NEM JÖN A BUSZ" },
    { category: "Tárgy", puzzle: "OLLÓ" },
    { category: "Étel & Ital", puzzle: "BRASSÓI APRÓPECSENYE" },
    { category: "Film", puzzle: "AZ OROSZLÁNKIRÁLY" },
    { category: "Sport", puzzle: "TÍZPRÓBA" },
    { category: "Híres Ember", puzzle: "HAUMANN PÉTER" },
    { category: "Földrajz", puzzle: "VELENCEI TÓ" },
    { category: "Történelem", puzzle: "A KÖNYVNYOMTATÁS FELTALÁLÁSA" },
    { category: "Zene", puzzle: "ZORÁN APÁM HÍTTE" },
    { category: "Közmondás", puzzle: "AZ ÉLET NEM HABOSTORTA" },
    { category: "Irodalom", puzzle: "LÁZÁR ERVIN A HÉTSZÍNvirág" },
    { category: "Tudomány", puzzle: "AZ ősrobbanás elmélete" },
    { category: "Márkanév", puzzle: "TIBI CSOKI" },
    { category: "Élőlény", puzzle: "NAGY KÓCSAG" },
    { category: "Mindennapi élet", puzzle: "ELFELEJTETTEM BEVÁSÁROLNI" },
    { category: "Tárgy", puzzle: "RADÍRGUMI" },
    { category: "Étel & Ital", puzzle: "ARANYGALUSKA VANÍLIAÖNTETTEL" },
    { category: "Film", puzzle: "AZ ÖTÖDIK ELEM" },
    { category: "Sport", puzzle: "TRIATLON" },
    { category: "Híres Ember", puzzle: "SINKOVITS IMRE" },
    { category: "Földrajz", puzzle: "A TÁTRA HEGYSÉG" },
    { category: "Történelem", puzzle: "AZ IPARI FORRADALOM" },
    { category: "Zene", puzzle: "MÁTÉ PÉTER ELMEGYEK" },
    { category: "Közmondás", puzzle: "SOK JÓ EMBER KIS HELYEN IS ELFÉR" },
    { category: "Irodalom", puzzle: "Gárdonyi GÉZA A LÁTHATATLAN EMBER" },
    { category: "Tudomány", puzzle: "A FÚZIÓS ENERGIA" },
    { category: "Márkanév", puzzle: "BÉRES CSEPP" },
    { category: "Élőlény", puzzle: "DENEVER" },
    { category: "Mindennapi élet", puzzle: "MEGHÚZTAM A LOTTÓT" },
    { category: "Tárgy", puzzle: "FOGPISZKÁLÓ" },
    { category: "Étel & Ital", puzzle: "HORTBÁGYI HÚSOS PALACSINTA" },
    { category: "Film", puzzle: "AVATAR" },
    { category: "Sport", puzzle: "VÍVÁS" },
    { category: "Híres Ember", puzzle: "KERN ANDRÁS" },
    { category: "Földrajz", puzzle: "A SZENTPÉTERVÁRI ERMITÁZS" },
    { category: "Történelem", puzzle: "A KOLDUSOK FORRADALMA" },
    { category: "Zene", puzzle: "PRESSER GÁBOR A NAGY TALÁLKOZÁS" },
    { category: "Közmondás", puzzle: "A TÉVEDÉS JOGA FENNTARTVA" },
    { category: "Irodalom", puzzle: "TAMÁSI ÁRON ÁBEL A RENGETEGBEN" },
    { category: "Tudomány", puzzle: "A SÖTÉT ANYAG REJTÉLYE" },
    { category: "Márkanév", puzzle: "SOPRONI" },
    { category: "Élőlény", puzzle: "Tengeri teknős" },
    { category: "Mindennapi élet", puzzle: "ELÁZTAM AZ ESŐBEN" },
    { category: "Tárgy", puzzle: "PÉNZTÁRCA" },
    { category: "Étel & Ital", puzzle: "JÓKAI BABLEVES" },
    { category: "Film", puzzle: "FORREST GUMP" },
    { category: "Sport", puzzle: "BIRKÓZÁS" },
    { category: "Híres Ember", puzzle: "BENKŐ LÁSZLÓ" },
    { category: "Földrajz", puzzle: "LONDON" },
    { category: "Történelem", puzzle: "AZ ARANY HORDA" },
    { category: "Zene", puzzle: "CSÍK ZENEKAR MOST A MENNYBŐL AZ ANGYAL" },
    { category: "Közmondás", puzzle: "A SZOKÁS RABJA" },
    { category: "Irodalom", puzzle: "PASSUTH LÁSZLÓ ESŐISTEN SÍR A MEXIKÓI FENNSÍKON" },
    { category: "Tudomány", puzzle: "AZ EMBERI AGY MŰKÖDÉSE" },
    { category: "Márkanév", puzzle: "SZEGEDI PAPRIKA" },
    { category: "Élőlény", puzzle: "VÖRÖS MÓKUS" },
    { category: "Mindennapi élet", puzzle: "CSAK A TELEFON VILÁGÍT" },
    { category: "Tárgy", puzzle: "ZSEBLÁMPA" },
    { category: "Étel & Ital", puzzle: "SZATMÁRI SZILVAPÁLINKA" },
    { category: "Film", puzzle: "A KENGYEL" },
    { category: "Sport", puzzle: "ÖTTUSA" },
    { category: "Híres Ember", puzzle: "CORTES HERNÁN" },
    { category: "Földrajz", puzzle: "A SZENT LÁSZLÓ TÉR" },
    { category: "Történelem", puzzle: "AZ ÓKORI RÓMA" },
    { category: "Zene", puzzle: "DEMJÉN FERENC SZERELEMVONAT" },
    { category: "Közmondás", puzzle: "A CSEBERBŐL VEDERBE" },
    { category: "Irodalom", puzzle: "WEÖRES SÁNDOR A TELJESSÉG FELÉ" },
    { category: "Tudomány", puzzle: "A VILÁGEGYETEM TÁGULÁSA" },
    { category: "Márkanév", puzzle: "KALOCSAI PAPRIKA" },
    { category: "Élőlény", puzzle: "FÜLESBAGOLY" },
    { category: "Mindennapi élet", puzzle: "NEM ÉREM EL A VONATOT" },
    { category: "Tárgy", puzzle: "SEPRŰ" },
    { category: "Étel & Ital", puzzle: "BÉLSZÍN ROLÓ" },
    { category: "Film", puzzle: "A KESELYŰ HÁROM NAPJA" },
    { category: "Sport", puzzle: "CSELGÁNCS" },
    { category: "Híres Ember", puzzle: "KARAJAN HERBERT VON" },
    { category: "Földrajz", puzzle: "PÁRIZS NOTRE DAME" },
    { category: "Történelem", puzzle: "A HUSZITA HÁBORÚK" },
    { category: "Zene", puzzle: "NEOTON FAMÍLIA DON QUIJOTE" },
    { category: "Közmondás", puzzle: "A KUTYÁT SEM ÉRDEKLI" },
    { category: "Irodalom", puzzle: "GERGELY ÁGNES A TOLMÁCS" },
    { category: "Tudomány", puzzle: "A CSILLAGOK ÉLETCIKLUSA" },
    { category: "Márkanév", puzzle: "MÁV" },
    { category: "Élőlény", puzzle: "SZALAMANDRA" },
    { category: "Mindennapi élet", puzzle: "KIÉGETT AZ IZZÓ" },
    { category: "Tárgy", puzzle: "CSIPESZ" },
    { category: "Étel & Ital", puzzle: "OROSZ KRÉMTORTA" },
    { category: "Film", puzzle: "VAN, AKI FORRÓN SZERETI" },
    { category: "Sport", puzzle: "GOKART" },
    { category: "Híres Ember", puzzle: "KUBALA LÁSZLÓ" },
    { category: "Földrajz", puzzle: "A HIMALÁJA" },
    { category: "Történelem", puzzle: "A TIZENHÁROM ARADI VÉRTANÚ" },
    { category: "Zene", puzzle: "V MOTO ROCK VÁRJ MÍG FELKEL MAJD A NAP" },
    { category: "Közmondás", puzzle: "A BUTASÁG FÁJ" },
    { category: "Irodalom", puzzle: "ASIMOV ALAPÍTVÁNY" },
    { category: "Tudomány", puzzle: "A HŐTÁGULÁS JELENSÉGE" },
    { category: "Márkanév", puzzle: "BKV" },
    { category: "Élőlény", puzzle: "CSIGA" },
    { category: "Mindennapi élet", puzzle: "NINCS TÜRELMEM VÁRNI" },
    { category: "Tárgy", puzzle: "KALAPÁCS" },
    { category: "Étel & Ital", puzzle: "TEJFÖLÖS GOMBAPAPRIKÁS" },
    { category: "Film", puzzle: "PSYCHO" },
    { category: "Sport", puzzle: "SÚLYEMELÉS" },
    { category: "Híres Ember", puzzle: "KODOLÁNYI JÁNOS" },
    { category: "Földrajz", puzzle: "A FERTŐ TÓ" },
    { category: "Történelem", puzzle: "A SZENT SZÖVETSÉG" },
    { category: "Zene", puzzle: "HOOLIGANS KIRÁLYLÁNY" },
    { category: "Közmondás", puzzle: "A SZÉPSÉG ÁRA" },
    { category: "Irodalom", puzzle: "TOLSZTOJ ANNA KARENINA" },
    { category: "Tudomány", puzzle: "AZ ELEKTROMÁGNESES INDUKCIÓ" },
    { category: "Márkanév", puzzle: "VOLÁNBUSZ" },
    { category: "Élőlény", puzzle: "BÉKA" },
    { category: "Mindennapi élet", puzzle: "ELFOGYOTT A WC PAPÍR" },
    { category: "Tárgy", puzzle: "FOGÓ" },
    { category: "Étel & Ital", puzzle: "CSOKOLÁDÉS MUFFIN" },
    { category: "Film", puzzle: "AZ ÉLET SZÉP" },
    { category: "Sport", puzzle: "MAGASUGRÁS" },
    { category: "Híres Ember", puzzle: "KULKA JÁNOS" },
    { category: "Földrajz", puzzle: "MACHU PICCHU" },
    { category: "Történelem", puzzle: "A PELOPONNÉSZOSZI HÁBORÚ" },
    { category: "Zene", puzzle: "OCHO MACHO JÓ NEKEM" },
    { category: "Közmondás", puzzle: "VERI AZ ÖRDÖG A FELESÉGÉT" },
    { category: "Irodalom", puzzle: "HEMINGWAY AZ ÖREG HALÁSZ ÉS A TENGER" },
    { category: "Tudomány", puzzle: "A DOPPLER HATÁS" },
    { category: "Márkanév", puzzle: "TEVA" },
    { category: "Élőlény", puzzle: "GYÍK" },
    { category: "Mindennapi élet", puzzle: "NEM TUDOM MIT VEGYEK FEL" },
    { category: "Tárgy", puzzle: "VÁLLFA" },
    { category: "Étel & Ital", puzzle: "SAJTTORTA" },
    { category: "Film", puzzle: "PONYVAREGÉNY" },
    { category: "Sport", puzzle: "TÁVOLUGRÁS" },
    { category: "Híres Ember", puzzle: "LORÁNFFY ZSUZSANNA" },
    { category: "Földrajz", puzzle: "STONEHENGE" },
    { category: "Törtélelem", puzzle: "A PÜNKÖSDI KIRÁLYSÁG" },
    { category: "Zene", puzzle: "PUNNANY MASSIF ÉLVEZD" },
    { category: "Közmondás", puzzle: "SZEMET SZEMÉRT FOGAT FOGÉRT" },
    { category: "Irodalom", puzzle: "MÁRAI SÁNDOR A GYERTYÁK CSONKIG ÉGNEK" },
    { category: "Tudomány", puzzle: "A Higgs-bozon" },
    { category: "Márkanév", puzzle: "EGIS" },
    { category: "Élőlény", puzzle: "SÜN" },
    { category: "Mindennapi élet", puzzle: "FÁJ A FEJEM" },
    { category: "Tárgy", puzzle: "PÁRNA" },
    { category: "Étel & Ital", puzzle: "Feketeerdő torta" },
    { category:: "Film", puzzle: "A BÁRÁNYOK HALLGATNAK" },
    { category: "Sport", puzzle: "RÖPLABDA" },
    { category: "Híres Ember", puzzle: "NAGY IMRE" },
    { category: "Földrajz", puzzle: "HAWAII SZIGETEK" },
    { category: "Történelem", puzzle: "A HÉT VEZÉR" },
    { category: "Zene", puzzle: "ANNA AND THE BARBIES MÁRTi" },
    { category: "Közmondás", puzzle: "NINCS ÚJ A NAP ALATT" },
    { category: "Irodalom", puzzle: "DOSZTOJEVSZKIJ BŰN ÉS BŰNHŐDÉS" },
    { category: "Tudomány", puzzle: "AZ ÜVEGHÁZHATÁS" },
    { category: "Márkanév", puzzle: "WIZZ AIR" },
    { category: "Élőlény", puzzle: "VAKOND" },
    { category: "Mindennapi élet", puzzle: "NINCS KEDVEM SEMMIHEZ" },
    { category: "Tárgy", puzzle: "TAKARÓ" },
    { category: "Étel & Ital", puzzle: "SZUSHI" },
    { category: "Film", puzzle: "SCHINDLER LISTÁJA" },
    { category: "Sport", puzzle: "SÍELÉS" },
    { category: "Híres Ember", puzzle: "ZRÍNYI ILONA" },
    { category: "Földrajz", puzzle: "AZ ÉSZAKI SARK" },
    { category: "Történelem", puzzle: "A SZIGETVÁRI OSTROM" },
    { category: "Zene", puzzle: "WELLHELLO RAKPART" },
    { category: "Közmondás", puzzle: "AKI MER AZ NYER" },
    { category: "Irodalom", puzzle: "TÉREY JÁNOS KÁLI HOLTAK" },
    { category: "Tudomány", puzzle: "AZ ÓZONRÉTEG" },
    { category: "Márkanév", puzzle: "RYANAIR" },
    { category: "Élőlény", puzzle: "BORZ" },
    { category: "Mindennapi élet", puzzle: "MAJD HOLNAP MEGOLDOM" },
    { category: "Tárgy", puzzle: "FÉSŰ" },
    { category: "Étel & Ital", puzzle: "GYÜMÖLCSLEVES" },
    { category: "Film", puzzle: "A ZONGORISTA" },
    { category: "Sport", puzzle: "SNOWBOARD" },
    { category: "Híres Ember", puzzle: "BÁTHORY ERZSÉBET" },
    { category: "Földrajz", puzzle: "AZ ORINOCO FOLYÓ" },
    { category: "Történelem", puzzle: "A DOZSA PARASZTHÁBORÚ" },
    { category: "Zene", puzzle: "MAGNA CUM LAUDE VIDÉKI SANZON" },
    { category: "Közmondás", puzzle: "AZ ERŐ LEGYEN VELED" },
    { category: "Irodalom", puzzle: "ECO A RÓZSA NEVE" },
    { category: "Tudomány", puzzle: "A RADIOAKTÍV SUgárzás" },
    { category: "Márkanév", puzzle: "PREZI" },
    { category: "Élőlény", puzzle: "VIDRA" },
    { category: "Mindennapi élet", puzzle: "IDEJE LENNE RENDET RAKNI" },
    { category: "Tárgy", puzzle: "KÉPKERET" },
    { category: "Étel & Ital", puzzle: "RÁNTOTT CSIRKECOMB" },
    { category: "Film", puzzle: "A SÖTÉT LOVAG" },
    { category: "Sport", puzzle: "GÖRDESZKA" },
    { category: "Híres Ember", puzzle: "MÁTYÁS KIRÁLY" },
    { category: "Földrajz", puzzle: "A SVÁJCI ALPOK" },
    { category: "Történelem", puzzle: "A KERESZTES HÁBORÚK" },
    { category: "Zene", puzzle: "COLDPLAY VIVA LA VIDA" },
    { category: "Közmondás", puzzle: "A SOKASÁG BÖLCSESSÉGE" },
    { category: "Irodalom", puzzle: "BORGES A KÉPZELT LÉNYEK KÖNYVE" },
    { category: "Tudomány", puzzle: "A SZUPERNOVA ROBBANÁS" },
    { category: "Márkanév", puzzle: "LOGMEIN" },
    { category: "Élőlény", puzzle: "HARKÁLY" },
    { category: "Mindennapi élet", puzzle: "MA ESTE FILMET NÉZÜNK" },
    { category: "Tárgy", puzzle: "SZŐNYEG" },
    { category: "Étel & Ital", puzzle: "MADÁRTEJ" },
    { category: "Film", puzzle: "GLADIÁTOR" },
    { category: "Sport", puzzle: "KERÉKPÁROZÁS" },
    { category: "Híres Ember", puzzle: "HUNYADI JÁNOS" },
    { category: "Földrajz", puzzle: "A FÜLÖP SZIGETEK" },
    { category: "Történelem", puzzle: "AZ ELSŐ EMBER A HOLDON" },
    { category: "Zene", puzzle: "IMAGINE DRAGONS BELIEVER" },
    { category: "Közmondás", puzzle: "CSAK IDŐ KÉRDÉSE" },
    { category: "Irodalom", puzzle: "KAFKA A PÖR" },
    { category: "Tudomány", puzzle: "A FÖLD MÁGNESES MEZŐJE" },
    { category: "Márkanév", puzzle: "NANUSHKA" },
    { category: "Élőlény", puzzle: "VARJÚ" },
    { category: "Mindennapi élet", puzzle: "LEKÉSTEM A TALÁLKOZÓT" },
    { category: "Tárgy", puzzle: "FÜGGÖNY" },
    { category: "Étel & Ital", puzzle: "GRÍZES TÉSZTA" },
    { category: "Film", puzzle: "A HALÁSZ KIRÁLY LEGENDÁJA" },
    { category: "Sport", puzzle: "SZÖRFÖZÉS" },
    { category: "Híres Ember", puzzle: "SZENT ISTVÁN KIRÁLY" },
    { category: "Földrajz", puzzle: "AZ AMAZONAS FOLYÓ" },
    { category: "Történelem", puzzle: "A SPANYOL INKVIZÍCIÓ" },
    { category: "Zene", puzzle: "TAYLOR SWIFT SHAKE IT OFF" },
    { category: "Közmondás", puzzle: "A CSEND ARANY" },
    { category: "Irodalom", puzzle: "CAMUS A PESTIS" },
    { category: "Tudomány", puzzle: "A FÉREGJÁRAT ELMÉLETE" },
    { category: "Márkanév", puzzle: "GRAPHISOFT" },
    { category: "Élőlény", puzzle: "FARKAS" },
    { category: "Mindennapi élet", puzzle: "ELFÁRADTAM A MUNKÁBAN" },
    { category: "Tárgy", puzzle: "KUKTA" },
    { category: "Étel & Ital", puzzle: "SZÉKELYKÁPOSZTA" },
    { category: "Film", puzzle: "VÉGSŐ ÁLLOMÁS" },
    { category: "Sport", puzzle: "BÚVÁRKODÁS" },
    { category: "Híres Ember", puzzle: "ÁRPÁD VEZÉR" },
    { category: "Földrajz", puzzle: "A NÍLUS FOLYÓ" },
    { category: "Történelem", puzzle: "A FEKETE HALÁL" },
    { category: "Zene", puzzle: "ED SHEERAN SHAPE OF YOU" },
    { category: "Közmondás", puzzle: "A PÉNZ NEM BOLDOGÍT" },
    { category: "Irodalom", puzzle: "SOLZHENITSYN A GULAG SZIGETVILÁG" },
    { category: "Tudomány", puzzle: "A TUDOMÁNYOS MÓDSZER" },
    { category: "Márkanév", puzzle: "UDS" },
    { category: "Élőlény", puzzle: "MEDÚZA" },
    { category: "Mindennapi élet", puzzle: "SIKERÜLT A VIZSGÁM" },
    { category: "Tárgy", puzzle: "TURMIXGÉP" },
    { category: "Étel & Ital", puzzle: "RIZOTTÓ" },
    { category: "Film", puzzle: "JURASSIC PARK" },
    { category: "Sport", puzzle: "EVEZÉS" },
    { category: "Híres Ember", puzzle: "ATTILA A HUN" },
    { category: "Földrajz", puzzle: "SZICÍLIA" },
    { category: "Történelem", puzzle: "A SZÁZÉVES HÁBORÚ" },
    { category: "Zene", puzzle: "BEYONCÉ SINGLE LADIES" },
    { category: "Közmondás", puzzle: "A VÉR NEM VÁLIK VÍZZÉ" },
    { category: "Irodalom", puzzle: "HUXLEY SZÉP ÚJ VILÁG" },
    { category: "Tudomány", puzzle: "A KLÍMAVÁLTOZÁS" },
    { category: "Márkanév", puzzle: "DIAGEO" },
    { category: "Élőlény", puzzle: "POLIP" },
    { category: "Mindennapi élet", puzzle: "MEGJÖTT A CSOMAGOM" },
    { category: "Tárgy", puzzle: "KENYÉRPIRÍTÓ" },
    { category: "Étel & Ital", puzzle: "LASAGNE" },
    { category: "Film", puzzle: "ALIEN" },
    { category: "Sport", puzzle: "HEGYMÁSZÁS" },
    { category: "Híres Ember", puzzle: "KÁLVIN JÁNOS" },
    { category: "Földrajz", puzzle: "ÍRORSZÁG" },
    { category: "Történelem", puzzle: "A LUSZTÁCIÓ" },
    { category: "Zene", puzzle: "RIHANNA UMBRELLA" },
    { category: "Közmondás", puzzle: "A KOCKA EL VAN VETVE" },
    { category: "Irodalom", puzzle: "BRADBURY FAHRENHEIT NÉGYSZÁZÖTVENEGY" },
    { category: "Tudomány", puzzle: "A SZEIZMOLÓGIA" },
    { category: "Márkanév", puzzle: "ROCHE" },
    { category: "Élőlény", puzzle: "KENGURU" },
    { category: "Mindennapi élet", puzzle: "NE HARAGUDJ HOGY KÉSTEM" },
    { category: "Tárgy", puzzle: "SZENDVICSSÜTŐ" },
    { category: "Étel & Ital", puzzle: "CEASAR SALÁTA" },
    { category: "Film", puzzle: "AZ UTOLSÓ SZAMURÁJ" },
    { category: "Sport", puzzle: "ÍJÁSZAT" },
    { category: "Híres Ember", puzzle: "LUTHER MÁRTON" },
    { category: "Földrajz", puzzle: "SKÓCIA" },
    { category: "Történelem", puzzle: "A NÉPVÁNDORLÁS KORA" },
    { category: "Zene", puzzle: "KATY PERRY FIREWORK" },
    { category: "Közmondás", puzzle: "AMI KÉSIK NEM MÚLIK" },
    { category: "Irodalom", puzzle: "BULGAKOV A MESTER ÉS MARGARITA" },
    { category: "Tudomány", puzzle: "A VULKANOLÓGIA" },
    { category: "Márkanév", puzzle: "NOVARTIS" },
    { category: "Élőlény", puzzle: "KOALA" },
    { category: "Mindennapi élet", puzzle: "MENJÜNK EL SÉTÁLNI" },
    { category: "Tárgy", puzzle: "GOFRISÜTŐ" },
    { category: "Étel & Ital", puzzle: "CHURROS" },
    { category: "Film", puzzle: "A RETTEGÉS FOKA" },
    { category: "Sport", puzzle: "LOVAGLÁS" },
    { category: "Híres Ember", puzzle: "SZOKRATÉSZ" },
    { category: "Földrajz", puzzle: "GÖRÖGORSZÁG" },
    { category: "Történelem", puzzle: "A BIZÁNCI BIRODALOM" },
    { category: "Zene", puzzle: "LADY GAGA BAD ROMANCE" },
    { category: "Közmondás", puzzle: "A SZÜKSÉG NAGY ÚR" },
    { category: "Irodalom", puzzle: "POE A MORGUE UTCai KETTŐS GYILKOSSÁG" },
    { category: "Tudomány", puzzle: "A PALEONTOLÓGIA" },
    { category: "Márkanév", puzzle: "PFIZER" },
    { category: "Élőlény", puzzle: "Gepárd" },
    { category: "Mindennapi élet", puzzle: "MEG KELL JAVÍTANI A CSAPOT" },
    { category: "Tárgy", puzzle: "FŰNYÍRÓ" },
    { category: "Étel & Ital", puzzle: "TACO" },
    { category: "Film", puzzle: "ÉRZELMEK HULLÁMÁN" },
    { category: "Sport", puzzle: "GOLF" },
    { category: "Híres Ember", puzzle: "PLATÓN" },
    { category: "Földrajz", puzzle: "EGYIPTOM" },
    { category: "Történelem", puzzle: "AZ OSZMÁN BIRODALOM" },
    { category: "Zene", puzzle: "JUSTIN BIEBER BABY" },
    { category: "Közmondás", puzzle: "NEM ZÖRÖG A HARASZT" },
    { category: "Irodalom", puzzle: "DOYLE SHERLOCK HOLMES" },
    { category: "Tudomány", puzzle: "AZ ARCHEOLÓGIA" },
    { category: "Márkanév", puzzle: "JOHNSON AND JOHNSON" },
    { category: "Élőlény", puzzle: "ELEFÁNT" },
    { category: "Mindennapi élet", puzzle: "RENDELJÜNK PIZZÁT" },
    { category: "Tárgy", puzzle: "LOMBSZÍVÓ" },
    { category: "Étel & Ital", puzzle: "BURRITO" },
    { category: "Film", puzzle: "A PROFESSZOR" },
    { category: "Sport", puzzle: "TENISZ" },
    { category: "Híres Ember", puzzle: "ARISZTOTELÉSZ" },
    { category: "Földrajz", puzzle: "KÍNA" },
    { category: "Történelem", puzzle: "A MONGOL BIRODALOM" },
    { category: "Zene", puzzle: "MILEY CYRUS WRECKING BALL" },
    { category: "Közmondás", puzzle: "Aki keres az talál" },
    { category: "Irodalom", puzzle: "CHRISTIE TÍZ KICSI NÉGER" },
    { category: "Tudomány", puzzle: "AZ ANTROPOLÓGIA" },
    { category: "Márkanév", puzzle: "BAYER" },
    { category: "Élőlény", puzzle: "TEVE" },
    { category: "Mindennapi élet", puzzle: "MINDJÁRT KÉSZ A VACSORA" },
    { category: "Tárgy", puzzle: "SÖVÉNYVÁGÓ" },
    { category: "Étel & Ital", puzzle: "QUESADILLA" },
    { category: "Film", puzzle: "AZ ÁRVA" },
    { category: "Sport", puzzle: "ASZTALITENISZ" },
    { category: "Híres Ember", puzzle: "NAGY SÁNDOR" },
    { category: "Földrajz", puzzle: "INDIA" },
    { category: "Történelem", puzzle: "A PERZSA BIRODALOM" },
    { category: "Zene", puzzle: "BRUNO MARS UPTOWN FUNK" },
    { category: "Közmondás", puzzle: "ADDIG NYÚJTÓZKODJ AMEDDIG A TAKARÓD ÉR" },
    { category: "Irodalom", puzzle: "KING A RAGYOGÁS" },
    { category: "Tudomány", puzzle: "A SZOCIOLÓGIA" },
    { category: "Márkanév", puzzle: "ASTRAZENECA" },
    { category: "Élőlény", puzzle: "VÍZILÓ" },
    { category: "Mindennapi élet", puzzle: "NEM TUDOM A VÁLASZT" },
    { category: "Tárgy", puzzle: "LÁNCFŰRÉSZ" },
    { category: "Étel & Ital", puzzle: "NACHOS" },
    { category: "Film", puzzle: "A SZÁLLÍTÓ" },
    { category: "Sport", puzzle: "TOLLASLABDA" },
    { category: "Híres Ember", puzzle: "HANNIBAL" },
    { category: "Földrajz", puzzle: "OROSZORSZÁG" },
    { category: "Történelem", puzzle: "A BRIT BIRODALOM" },
    { category: "Zene", puzzle: "PHARRELL WILLIAMS HAPPY" },
    { category: "Közmondás", puzzle: "INOG A FÖLD A LÁBA ALATT" },
    { category: "Irodalom", puzzle: "TOLKIEN A HOBBIT" },
    { category: "Tudomány", puzzle: "A KÖZGAZDASÁGTAN" },
    { category: "Márkanév", puzzle: "MODERNA" },
    { category: "Élőlény", puzzle: "ORRSZARVÚ" },
    { category: "Mindennapi élet", puzzle: "SZERETLEK" }
            { category: "Közmondás", puzzle: "JOBB KÉSŐN MINT SOHA" },
            { category: "Film & Rendező", puzzle: "JAMES CAMERON TITANIC" },
            { category: "Élőlény", puzzle: "PÁVAKAKAS" },
            { category: "Tárgy", puzzle: "ELEKTROMOS FOGKEFE" },
            { category: "Fogalom", puzzle: "A TUDÁS HATALOM" },
            { category: "Étel & Ital", puzzle: "RÁNTOTT CSIRKECOMB HASÁBBURGONYÁVAL" },
            { category: "Zene", puzzle: "THE BEATLES HEY JUDE" },
            { category: "Híres Ember", puzzle: "SZÉCHENYI ISTVÁN" },
            { category: "Földrajz", puzzle: "AZ AMAZONAS ESŐERDŐ" },
            { category: "Történelem", puzzle: "A KÖNYVNYOMTATÁS FELTALÁLÁSA" },
            { category: "Irodalom", puzzle: "GÁRDONYI GÉZA EGRI CSILLAGOK" },
            { category: "Sport", puzzle: "FORMA EGY VILÁGBAJNOKSÁG" },
            { category: "Tudomány", puzzle: "CHARLES DARWIN EVOLÚCIÓELMÉLETE" },
            { category: "Márkanév", puzzle: "LEGO" },
            { category: "Mindennapi élet", puzzle: "LEKÉSTEM A REGGELI BUSZT" },
            { category: "Növény", puzzle: "NAPRAFORGÓ" },
            { category: "Dalszöveg", puzzle: "NEM VAGYOK IDEGES CSAK AZ IDEGEIMRE MEGY" },
            { category: "Tárgy", puzzle: "TÁVIRÁNYÍTÓ" },
            { category: "Fogalom", puzzle: "VÉLETLEN EGYBEESÉS" },
            { category: "Élőlény", puzzle: "SZIBÉRIAI TIGRIS" },
            { category: "Közmondás", puzzle: "A PÉNZ NEM BOLDOGÍT" },
            { category: "Közmondás", puzzle: "SOK KICSI SOKRA MEGY" },
            { category: "Közmondás", puzzle: "A TÜRELEM RÓZSÁT TEREM" },
            { category: "Közmondás", puzzle: "REND A LELKE MINDENNEK" },
            { category: "Közmondás", puzzle: "KIVÉTEL ERŐSÍTI A SZABÁLYT" },
            { category: "Film & Rendező", puzzle: "PETER JACKSON A GYŰRŰK URA" },
            { category: "Irodalom", puzzle: "MIKSZÁTH KÁLMÁN A FEKETE VÁROS" },
            { category: "Zene", puzzle: "TANKCSAPDA MENNYORSZÁG TOURIST" },
            { category: "Híres Ember", puzzle: "MÁTYÁS KIRÁLY" },
            { category: "Földrajz", puzzle: "A KÍNAI NAGY FAL" },
            { category: "Történelem", puzzle: "A RÓMAI BIRODALOM BUKÁSA" },
            { category: "Tudomány", puzzle: "A VÍZ FORRÁSPONTJA" },
            { category: "Étel & Ital", puzzle: "CSOKOLÁDÉ FELFÚJT" },
            { category: "Élőlény", puzzle: "KOLIBRI" },
            { category: "Növény", puzzle: "LEVENDULA" },
            { category: "Tárgy", puzzle: "VEZETÉK NÉLKÜLI FÜLHALLGATÓ" },
            { category: "Sport", puzzle: "BAJNOKOK LIGÁJA DÖNTŐ" },
            { category: "Márkanév", puzzle: "SAMSUNG" },
            { category: "Mindennapi élet", puzzle: "NEM TALÁLOM A KULCSOMAT" },
            { category: "Fogalom", puzzle: "DÉJÀ VU ÉRZÉS" },
            { category: "Foglalkozás", puzzle: "ŰRHAJÓS" },
            { category: "Csillagászat", puzzle: "A NAPRENDSZER BOLYGÓI" },
            { category: "Irodalom", puzzle: "SHAKESPEARE RÓMEÓ ÉS JÚLIA" },
            { category: "Közmondás", puzzle: "A REMÉNY HAL MEG UTOLJÁRA" },
            { category: "Történelem", puzzle: "AZ AMERIKAI FÜGGETLENSÉGI HÁBORÚ" },
            { category: "Tudomány", puzzle: "A FOTOSZINTÉZIS FOLYAMATA" },
            { category: "Étel & Ital", puzzle: "CSÜLKÖS BABGULYÁS" },
            { category: "Film", puzzle: "VISSZA A JÖVŐBE" },
            { category: "Zene", puzzle: "MICHAEL JACKSON THRILLER" },
            { category: "Tudomány", puzzle: "PERIODUSOS RENDSZER" },
            { category: "Történelem", puzzle: "A TITANIC ELSÜLLYEDÉSE" },
            { category: "Közmondás", puzzle: "A SZOKÁS RABJA" },
            { category: "Élőlény", puzzle: "OROSZLÁNKIRÁLY" },
            { category: "Híres Hely", puzzle: "AZ EIFFEL TORONY PÁRIZSBAN" }
        ];

        const MAX_GUESSES = 6; let gameData = {}; let timerInterval; let cooldownIntervals = {}; let wheelMessageTimeout = null; let randomMessageInterval = null; let idleCountdownInterval = null; let secretCodeFlasherInterval = null;
        let activeHints = { text: [], letterIndices: [], usedCount: 0 };
        const RETRY_COOLDOWN_MS = 15 * 60 * 1000;
        
        const body = document.body;
        const hiddenInput = document.getElementById('hidden-input');
        const gridContainer = document.getElementById('grid-container'); const keyboardContainer = document.getElementById('keyboard-container'); const requestTextHintButton = document.getElementById('request-text-hint-button'); const requestLetterHintButton = document.getElementById('request-letter-hint-button'); const wordTrackerContainer = document.getElementById('word-tracker'); const dailyScoreDisplaySpan = document.querySelector('#daily-score-display span'); const insuranceDisplayCount = document.getElementById('insurance-display-count'); const newHourNotification = document.getElementById('new-hour-notification');
        const bonusUnlockContainer = document.getElementById('bonus-unlock-container');
        const codeInputContainer = document.getElementById('code-input-container');
        const codeInputs = document.querySelectorAll('.code-input');
        const checkCodeButton = document.getElementById('check-code-button');
        const playWheelButton = document.getElementById('play-wheel-button');
        const keyboardToggleCheckbox = document.getElementById('keyboard-toggle-checkbox');
        const wheelGameOverlay = document.getElementById('wheel-game-overlay'); const closeWheelButton = document.getElementById('close-wheel-button'); const wheel = document.getElementById('wheel'); const spinButton = document.getElementById('spin-button'); const powerMeterBar = document.getElementById('power-meter-bar'); const powerMeterContainer = document.getElementById('power-meter-container'); const playerScoreEl = document.getElementById('player-score'); const stakeAmountEl = document.getElementById('stake-amount'); const puzzleBoardEl = document.getElementById('puzzle-board'); const puzzleCategoryEl = document.getElementById('puzzle-category'); const solveButton = document.getElementById('solve-button'); const wheelMessageDisplay = document.getElementById('wheel-message-display'); const wheelInsuranceCountEl = document.getElementById('wheel-insurance-count');
        const wheelRoundDisplay = document.getElementById('wheel-round-display'); const wheelDecisionControls = document.getElementById('wheel-decision-controls'); const cashOutButton = document.getElementById('cash-out-button'); const nextRoundButton = document.getElementById('next-round-button'); const themeToggleButton = document.getElementById('theme-toggle-button'); const themePicker = document.getElementById('theme-picker');
        const infoBar = document.getElementById('info-bar'); const hintDisplayArea = document.getElementById('hint-display-area'); const idleMessageContainer = document.getElementById('idle-message-container'); const hintControls = document.getElementById('hint-controls');
        const wheelAlphabetPanel = document.getElementById('wheel-alphabet-panel');
        const wheelHelpButton = document.getElementById('wheel-help-button');
        const cardGameOverlay = document.getElementById('card-game-overlay');
        const cardBoard = document.getElementById('card-board');
        const cardGameMessage = document.getElementById('card-game-message');
        const collectWinningsButton = document.getElementById('collect-winnings-button');
        const cardPrizesList = document.getElementById('card-prizes-list');
        
        const lottoGameOverlay = document.getElementById('lotto-game-overlay');
        const prizeChoiceOverlay = document.getElementById('prize-choice-overlay');
        const playLottoButton = document.getElementById('play-lotto-button');
        const lottoPlayedMessage = document.getElementById('lotto-played-message');
        const lottoGridOverlay = document.getElementById('lotto-grid-overlay');
        const lottoSelectionCounter = document.getElementById('lotto-selection-counter');
        const submitLottoButtonOverlay = document.getElementById('submit-lotto-button-overlay');
        const lottoOverlayMessage = document.getElementById('lotto-overlay-message');
        const closeLottoOverlayButton = document.getElementById('close-lotto-overlay-button');
        const submittedTicketsContainer = document.querySelector('.submitted-tickets-container');
        const winningLottoNumbersContainer = document.querySelector('#daily-winning-numbers-display');
        let selectedLottoNumbers = [];
        
        const themes = [ { name: "Klasszikus", className: "theme-classic", color: "#3d405b" }, { name: "Erdei", className: "theme-forest", color: "#2d6a4f" }, { name: "Óceán", className: "theme-ocean", color: "#0077b6" }, { name: "Naplemente", className: "theme-sunset", color: "#f77f00" }, { name: "Éjszakai", className: "theme-night", color: "#232526" }, { name: "Rózsa", className: "theme-rose", color: "#c9184a" }, { name: "Vintage", className: "theme-vintage", color: "#a27b5c" }, { name: "Rét", className: "theme-meadow", color: "#7cb518" }, { name: "Királyi", className: "theme-royal", color: "#5a189a" }, { name: "Hacker", className: "theme-hacker", color: "#00ff00" } ];
        const KEY_LAYOUT = [ ['Q', 'W', 'E', 'R', 'T', 'Z', 'U', 'I', 'O', 'P', 'Ő', 'Ö', 'Ü', 'Ó'], ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'É', 'Á', 'Ű'], ['Enter', 'Y', 'X', 'C', 'V', 'B', 'N', 'M', 'Í', 'Backspace'] ];
        const wheelSegmentsR1 = [ { label: '250', value: 250, color: '#a5d6a7' }, { label: 'CSŐD', value: 'bankrupt', color: 'var(--fail-color)' }, { label: '500', value: 500, color: '#b39ddb' }, { label: '750', value: 750, color: '#f2cc8f' }, { label: 'BIZTOSÍTÁS', value: 'insurance', color: 'var(--insurance-color)' }, { label: '1000', value: 1000, color: '#81b29a' }, { label: '250', value: 250, color: '#a5d6a7' }, { label: '500', value: 500, color: '#b39ddb' }, { label: 'TIPP +', value: 'free_hint', color: '#00bcd4' }, { label: '1500', value: 1500, color: '#e07a5f' }];
        const wheelSegmentsR2 = [ { label: '1000', value: 1000, color: '#a5d6a7' }, { label: 'CSŐD', value: 'bankrupt', color: 'var(--fail-color)' }, { label: '1500', value: 1500, color: '#b39ddb' }, { label: '2500', value: 2500, color: '#f2cc8f' }, { label: 'BIZTOSÍTÁS', value: 'insurance', color: 'var(--insurance-color)' }, { label: '3000', value: 3000, color: '#81b29a' }, { label: 'SZERENCSEVÁLTÁS', value: 're_spin', color: '#ffeb3b' }, { label: '1000', value: 1000, color: '#a5d6a7' }, { label: 'DUPLÁZÓ', value: 'double', color: '#ff9800' }, { label: '5000', value: 5000, color: '#e07a5f' }];
        const wheelSegmentsR3 = [ { label: '5000', value: 5000, color: '#a5d6a7' }, { label: 'CSŐD', value: 'bankrupt', color: 'var(--fail-color)' }, { label: '7500', value: 7500, color: '#b39ddb' }, { label: '10000', value: 10000, color: '#f2cc8f' }, { label: 'BIZTOSÍTÁS', value: 'insurance', color: 'var(--insurance-color)' }, { label: '15000', value: 15000, color: '#81b29a' }, { label: 'MEGLEPETÉS', value: 'surprise', color: 'var(--surprise-color)' }, { label: 'JOKER', value: 'joker_wheel', color: '#7e57c2' }, { label: 'DUPLÁZÓ', value: 'double', color: '#ff9800' }, { label: '25000', value: 25000, color: '#e07a5f' }];
        const wheelSegmentSets = [null, wheelSegmentsR1, wheelSegmentsR2, wheelSegmentsR3];
        let wheelState = {};
        const FULL_ALPHABET = "AÁBCDEÉFGHIÍJKLMNOÓÖŐPQRSTUÚÜŰVXYZ";
        const VOWELS = "AÁEÉIÍOÓÖŐUÚÜŰ";
        
        const LOTTO_PRIZES_META = {
            1: { title: "1 Találat", desc: "+1 ingyen szöveges segítség" },
            2: { title: "2 Találat", desc: "+3 ingyen magánhangzó a Szerencsekerékben" },
            3: { title: "3 Találat", desc: "Korlátlan biztosítás a Szerencsekerékben" },
            4: { title: "4 Találat", desc: "Csődmentesség a Szerencsekerékben" },
            5: { title: "5 Találat", desc: "Ingyenes segítség és kód nélküli Szerencsekerék" }
        };

        const FUNNY_IDLE_MESSAGES = [ { title: "Türelmi idő", text: "Az informátorunk a következő órában jelentkezik újabb nyomokkal. Addig is..." }, { title: "Kávészünet a rendőrsön", text: "Még a legjobb nyomozóknak is jár egy fánk. Amíg eszel, a laborosok elemzik a bizonyítékokat. A következő adag..." }, { title: "Várakozás a sötét sikátorban", text: "Árnyékba húzódtál, és a kapcsolatodra vársz. Azt súgta, a következő füles..." }, { title: "Akták rendezése", text: "Annyi ügyet megoldottál, hogy a főnök megkért, rakj rendet az irodádban. A papírmunka a legkeményebb dió. Új ügyek..." }, ];
        const RANDOM_GAME_MESSAGES = [
            "Ez az ügy keményebb, mint a kétnapos zsemle.", "Minden betű egy újabb nyom.", "A megérzésem azt súgja, jó úton jársz.",
            "Lassan összeáll a kép, mint egy puzzle.", "Csak egy hajszál választ el a megoldástól.", "Figyelj a részletekre, a tettes hibázni fog!",
            "Ezt a rejtélyt még Columbo is megirigyelné.", "Már majdnem forró a nyom...", "A logika a legjobb fegyvered.",
            "Minden tipp egy lépés a megoldás felé.", "Néha a legkézenfekvőbb megoldás a helyes.", "Van egy gyanúsítottam: az 'X' betű.",
            "A helyszínelők mindjárt itt vannak a segítséggel.", "Bízz a megérzéseidben, nyomozó!", "Ennek a szónak alibije van?",
            "Nézzük át újra a bizonyítékokat (betűket)!"
        ];
        const WHEEL_MESSAGES = {
            start_round: [ "Kezdődjön a kör!", "Új feladvány, új esély!", "Lássuk, mit tudsz!"],
            power_up_prompt: [ "Állítsd be az erősséget, majd kattints újra!" ],
            spin_prompt: [ "Pörgess egy nagyot!", "Jöhet a pörgetés!", "Sorsfordító pörgetés következik!"],
            spin_result: [ "A kerék {value} ponton állt meg!", "A szerencse {value} pontot hozott!", "{value} a jutalmad!"],
            guess_consonant: [ "Válassz egy mássalhangzót!", "Melyik mássalhangzóra tippelsz?", "Jöhet egy mássalhangzó!"],
            guess_vowel: [ "Vásárolj magánhangzót 250 pontért!", "Melyik magánhangzóra esik a választásod?"],
            correct_guess: [ "Ez telitalálat!", "Tökéletes tipp!", "Benne van!", "Eltaláltad!"],
            wrong_guess: [ "Sajnos ez nincs benne.", "Ez a betű most nem segített.", "Rossz tipp, de ne add fel!"],
            bankrupt_round_lost: [ "CSŐD! Elvesztetted a körben szerzett pontjaidat, de a téted biztonságban!", "A CSŐD elvitte a körös nyereményt! Folytathatod." ],
            bankrupt_stake_lost: [ "Újra csőd! A játékodnak sajnos vége. Elvesztetted a tétet is.", "A második csőd végzetes volt. A tét elúszott." ],
            bankrupt_immune: ["CSŐD! De szerencséd van, ma csődmentességet élvezel a lottónyereményednek köszönhetően!", "Megúsztad a csődöt a lottó segítségével!"],
            insurance_win: [ "BIZTOSÍTÁS! Nyertél egy védelmet a csőd ellen!", "Szuper! Van egy biztosításod!"],
            insurance_limit_reached: [ "Elérted az óránkénti biztosítás limidet!", "Ebben az órában már nem szerezhetsz többet." ],
            insurance_used: [ "Felhasználtál egy biztosítást és megmenekültél a csődtől!", "A biztosítás megmentett, minden pontod biztonságban!"],
            double: ["DUPLÁZÓ! A kör nyereményed megduplázódott!", "Fantasztikus, dupla pontszám a körben!"],
            free_hint: ["TIPP+! Kaptál egy ingyen tippet az alapjátékhoz!", "Egy ingyen tipp a zsebben!"],
            re_spin: ["SZERENCSEVÁLTÁS! Ha a következő pörgetés nem tetszik, újra próbálkozhatsz.", "Nem tetszik az eredmény? Pörgess újra!"],
            surprise_good: ["MEGLEPETÉS! Kaptál +1000 pontot!", "A szerencse melléd szegődött! +1000 pont!"],
            surprise_bad: ["MEGLEPETÉS! Hoppá, -500 pont levonás.", "Ez a meglepetés most nem esett jól... -500 pont."],
            surprise_vowel: ["MEGLEPETÉS! Kapsz egy ingyen magánhangzót!", "A ház ajándéka egy magánhangzó!"],
            joker_wheel: ["JOKER! A Joker a te oldaladon áll! Felfedek egy mássalhangzót.", "JOKER! Kapsz egy kis segítséget..."],
            solve_success: [ "Hihetetlen! Helyes a megfejtés!", "Gratulálunk, zseniális vagy!", "Megcsináltad! Tiéd a nyeremény!"],
            solve_fail: [ "Sajnos ez nem a helyes megfejtés. A játék véget ért.", "Ez most nem jött össze. A helyes megfejtés: <strong>{solution}</strong>. Elbuktad a tétet.", "Rossz válasz. A megoldás: <strong>{solution}</strong>. A nyeremény elszállt."],
            cash_out: [ "Okos döntés! A nyeremény a zsebedben.", "Gratulálunk a nyereményedhez!", "Szép volt!"],
            next_round: [ "Jöhet a következő, nehezebb kör!", "A java még csak most jön!", "Készülj a következő körre!"],
            not_enough_points: [ "Nincs elég pontod magánhangzót venni!", "Ehhez több pontra lesz szükséged!"],
            no_more_consonants: ["Nincs több mássalhangzó a feladványban!", "Minden mássalhangzót feltártál már!"],
            vowel_limit: ["Ebben a körben már nem vehetsz több magánhangzót.", "Elérted a magánhangzó vásárlási limitet."]
        };
        const CARD_DATA = [
            { type: 'total_bankrupt', label: 'Totál Csőd', description: 'Minden mai pontod elveszik!', cssClass: 'total-bankrupt' },
            { type: 'half', label: 'Felező', description: 'A bónusz nyereményed feleződik.' },
            { type: 'add_points', value: 10000, label: '+10000 Pont', description: 'Nyereményed jelentősen nő.' },
            { type: 'boss_gift', value: 2500, label: 'A Főnök Ajándéka', description: 'Azonnali 2500 pont jutalom!', cssClass: 'special-prize' },
            { type: 'add_insurance', label: '+1 Biztosítás', description: 'Kapsz egy biztosítást a Szerencsekerékhez.', cssClass: 'special-prize' },
            { type: 'free_hint', label: 'Ingyen Tipp', description: 'Kapsz egy ingyenes szöveges tippet az alapjátékhoz.', cssClass: 'special-prize' },
            { type: 'free_vowel', label: 'Ingyen Magánhangzó', description: 'Kapsz egy ingyen magánhangzót a Szerencsekerékhez.', cssClass: 'special-prize' },
            { type: 'amnesty', label: 'Amnesztia', description: 'Törli egy rontott szó 15 perces várakozási idejét.', cssClass: 'special-prize' },
            { type: 'point_rain', label: 'Pont Eső', description: 'Nyersz egy véletlenszerű összeget 1000 és 5000 pont között.' },
            { type: 'witty_message', label: 'Robi Üzenete', description: '“A szerencse forgandó, de a tudás marad!”' },
            { type: 'time_bonus', label: 'Időbónusz', description: '+60 mp az óra összes hátralévő időfutam feladványához.', cssClass: 'special-prize' },
            { type: 'pick_again', label: 'Újra Választhatsz', description: 'Húzhatsz még egy kártyát.' }
        ];

        function populateThemePicker() { themes.forEach(theme => { const swatch = document.createElement('div'); swatch.className = 'theme-swatch'; swatch.title = theme.name; swatch.style.backgroundColor = theme.color; swatch.dataset.theme = theme.className; themePicker.appendChild(swatch); }); }
        function applyTheme(themeClassName) { body.className = ''; body.classList.add(themeClassName); document.querySelectorAll('.theme-swatch').forEach(s => s.classList.remove('active')); const activeSwatch = document.querySelector(`.theme-swatch[data-theme="${themeClassName}"]`); if(activeSwatch) activeSwatch.classList.add('active'); }
        function saveTheme(themeClassName) { localStorage.setItem('szonyomozo_theme', themeClassName); }
        function loadTheme() { const savedTheme = localStorage.getItem('szonyomozo_theme') || 'theme-classic'; applyTheme(savedTheme); }
        themeToggleButton.addEventListener('click', (e) => { e.stopPropagation(); themePicker.style.display = themePicker.style.display === 'flex' ? 'none' : 'flex'; });
        themePicker.addEventListener('click', (e) => { if (e.target.classList.contains('theme-swatch')) { const themeClassName = e.target.dataset.theme; applyTheme(themeClassName); saveTheme(themeClassName); } });
        document.addEventListener('click', (e) => { if (!themePicker.contains(e.target) && !themeToggleButton.contains(e.target)) { themePicker.style.display = 'none'; } });

        function loadKeyboardSetting() { const useDevice = localStorage.getItem('szonyomozo_use_device_keyboard') === 'true'; keyboardToggleCheckbox.checked = useDevice; setKeyboardVisibility(useDevice); }
        function setKeyboardVisibility(useDevice) { keyboardContainer.style.display = useDevice ? 'none' : 'flex'; if (useDevice) { setTimeout(() => hiddenInput.focus(), 100); } else { hiddenInput.blur(); } }
        keyboardToggleCheckbox.addEventListener('change', (e) => { const useDevice = e.target.checked; localStorage.setItem('szonyomozo_use_device_keyboard', useDevice); setKeyboardVisibility(useDevice); });
        
        function getDailyStats() { return JSON.parse(localStorage.getItem('szonyomozo_daily_stats')); }
        function saveDailyStats(stats) { localStorage.setItem('szonyomozo_daily_stats', JSON.stringify(stats)); }
        function getInsuranceCount() { const stats = getDailyStats(); return stats ? stats.insurance || 0 : 0; }
        function updateInsuranceCount(change) { let stats = getDailyStats(); stats.insurance = Math.max(0, (stats.insurance || 0) + change); saveDailyStats(stats); updateInsuranceDisplay(stats.insurance); }
        function updateInsuranceDisplay(count) { if(insuranceDisplayCount) insuranceDisplayCount.textContent = count; if(wheelInsuranceCountEl) wheelInsuranceCountEl.textContent = count; }

        function showWheelMessage(category, options = {}) { clearTimeout(wheelMessageTimeout); const messages = WHEEL_MESSAGES[category] || ["Hiba: Ismeretlen üzenet kategória."]; let message = messages[Math.floor(Math.random() * messages.length)]; if (options.value) { message = message.replace('{value}', `<strong>${options.value}</strong>`); } if (options.solution) { message = message.replace('{solution}', options.solution); } wheelMessageDisplay.innerHTML = message; wheelMessageDisplay.style.opacity = 1; wheelMessageTimeout = setTimeout(() => { wheelMessageDisplay.style.opacity = 0; }, options.duration || 4000); }
        function drawWheel(round) {
            wheel.innerHTML = '';
            const segments = wheelSegmentSets[round];
            if(!segments) return;
            const numSegments = segments.length;
            const angleStep = 360 / numSegments;
            const radius = 50;
            for (let i = 0; i < numSegments; i++) {
                const segment = segments[i];
                const startAngle = i * angleStep;
                const endAngle = (i + 1) * angleStep;
                const start = polarToCartesian(radius, radius, radius, endAngle);
                const end = polarToCartesian(radius, radius, radius, startAngle);
                const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
                const d = `M ${start.x} ${start.y} A ${radius} ${radius} 0 ${largeArcFlag} 0 ${end.x} ${end.y} L ${radius} ${radius} Z`;
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", d);
                path.setAttribute("fill", segment.color);
                wheel.appendChild(path);
                const textAngle = startAngle + angleStep / 2;
                const textPos = polarToCartesian(radius, radius, radius * 0.65, textAngle);
                const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                text.setAttribute("x", textPos.x);
                text.setAttribute("y", textPos.y);
                text.setAttribute("text-anchor", "middle");
                text.setAttribute("dominant-baseline", "middle");
                text.setAttribute("font-weight", "bold");
                text.setAttribute("fill", "white");
                text.setAttribute("transform", `rotate(${textAngle + 90} ${textPos.x} ${textPos.y})`);
                if (segment.label === 'BIZTOSÍTÁS' || segment.label === 'SZERENCSEVÁLTÁS' || segment.label === 'MEGLEPETÉS') {
                    text.setAttribute("font-size", "4");
                } else {
                    text.setAttribute("font-size", "5.5");
                }
                text.textContent = segment.label;
                wheel.appendChild(text);
            }
        }
        function polarToCartesian(cx, cy, r, angle) { const rad = (angle - 90) * Math.PI / 180.0; return { x: cx + (r * Math.cos(rad)), y: cy + (r * Math.sin(rad)) }; }
        
        function initWheelGame() {
            let stake = 0;
            const currentScore = getDailyScore();

            while (true) {
                const stakeInput = prompt(`Mennyi pontot szeretnél kockáztatni a Szerencsekeréken? (Jelenlegi pontszám: ${currentScore})`, "100");
                if (stakeInput === null) {
                    return; 
                }
                stake = parseInt(stakeInput);
                if (!isNaN(stake) && stake > 0 && stake <= currentScore) { break; }
                alert("Érvénytelen tét! Kérlek, a pontjaidnál nem nagyobb, pozitív számot adj meg.");
            }
            addPointsToDailyScore(-stake);
            gameData.bonusUnlocked = false; // Felhasználjuk a lehetőséget
            saveGame();
            updateBonusUnlockUI(); 
             
            wheelState = { totalWinnings: 0, initialStake: stake, currentRound: 0 };
            updateInsuranceDisplay(getInsuranceCount());
            startNewRound();
            wheelGameOverlay.classList.add('visible');
            checkAndDisplayIdleState();
        }
        
        function startNewRound() { 
            wheelState.currentRound++; 
            wheelState.roundScore = 0; 
            wheelState.guessedLetters = []; 
            wheelState.isSpinning = false;
            wheelState.isPoweringUp = false;
            wheelState.spinResult = null;
            wheelState.roundBankrupt = false;
            wheelState.vowelsBoughtThisRound = 0; 
            wheelState.consonantMisses = 0; 
            wheelHelpButton.style.display = 'none'; 
            wheelHelpButton.classList.remove('pulse-purple'); 
            wheelRoundDisplay.textContent = `${wheelState.currentRound}. KÖR`; 
            const seed = getCurrentHourSeed() + wheelState.currentRound; 
            const puzzleIndex = Math.floor(seededRandom(seed) * wheelPuzzles.length); 
            wheelState.puzzle = wheelPuzzles[puzzleIndex]; 
            drawWheel(wheelState.currentRound); 
            setupPuzzleBoard(); 
            createAlphabetPanel(); 
            updateWheelPlayerScore();
            updateUIForGameState('start_round'); 
            showWheelMessage('start_round'); 
        }

        function createAlphabetPanel() { wheelAlphabetPanel.innerHTML = ''; FULL_ALPHABET.split('').forEach(letter => { const key = document.createElement('button'); key.className = 'alphabet-key'; key.textContent = letter; key.dataset.letter = letter; if (VOWELS.includes(letter)) { key.classList.add('vowel'); key.title = "Magánhangzó (250 pont)"; } else { key.title = "Mássalhangzó"; } key.addEventListener('click', () => handleAlphabetClick(letter)); wheelAlphabetPanel.appendChild(key); }); }
        
        function handleAlphabetClick(letter) { 
            if (wheelState.isSpinning || wheelState.guessedLetters.includes(letter)) return; 
            const isVowel = VOWELS.includes(letter); 
            let stats = getDailyStats(); 
            if (isVowel) { 
                if(wheelState.spinResult !== null && wheelState.spinResult > 0) { showWheelMessage("Előbb tippelj a mássalhangzóra pörgetés után!"); return; } 
                if (wheelState.vowelsBoughtThisRound >= 2) { showWheelMessage('vowel_limit'); return; } 
                if (stats.freeVowels > 0) { 
                    if(confirm(`Felhasználsz egyet a ${stats.freeVowels} ingyenes magánhangzódból?`)) { 
                        stats.freeVowels--; 
                        saveDailyStats(stats); 
                        guessLetter(letter, true); 
                    } 
                    return; 
                } 
                const effectiveWinnings = wheelState.totalWinnings + wheelState.roundScore; 
                if (effectiveWinnings < 250) { 
                    showWheelMessage('not_enough_points'); 
                    return; 
                } 
                if (confirm("Biztosan veszel egy magánhangzót 250 pontért?")) { 
                    if(wheelState.roundScore >= 250) {
                        wheelState.roundScore -= 250;
                    } else {
                         wheelState.totalWinnings -= 250;
                    }
                    wheelState.vowelsBoughtThisRound++; 
                    guessLetter(letter); 
                } 
            } else { 
                const remainingConsonants = [...new Set(wheelState.puzzle.puzzle.toUpperCase().split(''))].filter(l => !VOWELS.includes(l) && l !== ' ' && !wheelState.guessedLetters.includes(l)); 
                if (remainingConsonants.length === 0) { showWheelMessage('no_more_consonants'); return; } 
                if (wheelState.spinResult > 0) { guessLetter(letter); } else { showWheelMessage('spin_prompt'); } 
            } 
            updateWheelPlayerScore();
        }

        function updateAlphabetPanel() { wheelState.guessedLetters.forEach(letter => { const key = wheelAlphabetPanel.querySelector(`[data-letter="${letter}"]`); if(key) key.classList.add('guessed'); }); }
        function setupPuzzleBoard() { puzzleBoardEl.innerHTML = ''; puzzleCategoryEl.textContent = wheelState.puzzle.category; const puzzleText = wheelState.puzzle.puzzle.toUpperCase(); for(const char of puzzleText) { const tile = document.createElement('div'); if (char === ' ') { tile.className = 'puzzle-tile space'; } else { tile.className = 'puzzle-tile'; tile.innerHTML = `<div class="tile-inner"><div class="tile-face tile-front"></div><div class="tile-face tile-back">${char}</div></div>`; tile.dataset.letter = char.toUpperCase(); } puzzleBoardEl.appendChild(tile); } }
        function togglePowerMeterAndSpin() { if (wheelState.isSpinning) return; const remainingConsonants = [...new Set(wheelState.puzzle.puzzle.toUpperCase().split(''))].filter(l => !VOWELS.includes(l) && l !== ' ' && !wheelState.guessedLetters.includes(l)); if (remainingConsonants.length === 0) { showWheelMessage('no_more_consonants'); return; } if (!wheelState.isPoweringUp) { showWheelMessage('power_up_prompt'); wheelState.isPoweringUp = true; powerMeterBar.classList.add('power-up'); } else { wheelState.isPoweringUp = false; const power = powerMeterBar.offsetWidth / powerMeterContainer.offsetWidth; powerMeterBar.classList.remove('power-up'); spinWheel(power); } }
        function spinWheel(power) {
            wheelState.isSpinning = true;
            updateUIForGameState('spinning');
            showWheelMessage('spin_prompt');
            const baseRotations = 2; 
            const randomExtra = Math.random(); 
            const powerRotation = (4 * power + 4 * (power * power)); 
            const totalRotation = (baseRotations + randomExtra + powerRotation) * 360;
            const currentRotation = parseFloat(wheel.dataset.rotation || 0);
            const newRotation = currentRotation + totalRotation;
            wheel.style.transform = `rotate(${newRotation}deg)`;
            wheel.dataset.rotation = newRotation;
            setTimeout(() => {
                const finalAngle = newRotation % 360;
                const segments = wheelSegmentSets[wheelState.currentRound];
                const segmentAngle = 360 / segments.length;
                const segmentIndex = Math.floor((360 - finalAngle % 360) / segmentAngle) % segments.length;
                handleSpinResult(segments[segmentIndex].value);
            }, 4000);
        }

        function handleSpinResult(result) {
            wheelState.isSpinning = false;
            let stats = getDailyStats();

            if (result === 'bankrupt') {
                if(stats.activeLottoPrize && stats.activeLottoPrize.noBankrupt) {
                    showWheelMessage('bankrupt_immune');
                    updateUIForGameState('start_round');
                    return;
                }
                
                const useUnlimitedInsurance = stats.activeLottoPrize && stats.activeLottoPrize.unlimitedInsurance;
                const insuranceCount = getInsuranceCount();
                if (useUnlimitedInsurance || insuranceCount > 0) {
                    if (!useUnlimitedInsurance) {
                        updateInsuranceCount(-1);
                    }
                    showWheelMessage('insurance_used');
                    updateUIForGameState('start_round'); 
                    return;
                }

                if (!wheelState.roundBankrupt) {
                    showWheelMessage('bankrupt_round_lost');
                    wheelState.roundScore = 0; 
                    wheelState.roundBankrupt = true;
                    updateWheelPlayerScore();
                    updateUIForGameState('start_round');
                } else {
                    showWheelMessage('bankrupt_stake_lost', { duration: 5000 });
                    loseGame(); 
                }
            } else if (result === 'insurance') {
                if (gameData.insurancesGainedThisHour < 6) {
                    updateInsuranceCount(1);
                    gameData.insurancesGainedThisHour++;
                    saveGame();
                    showWheelMessage('insurance_win');
                } else {
                    showWheelMessage('insurance_limit_reached');
                }
                updateUIForGameState('start_round');
            } else if (result === 'double') {
                wheelState.roundScore *= 2; 
                showWheelMessage('double');
                updateWheelPlayerScore();
                updateUIForGameState('start_round');
            } else if (result === 're_spin') {
                showWheelMessage('re_spin');
                wheelState.reSpinAvailable = true;
                updateUIForGameState('start_round'); 
            } else if (result === 'free_hint') {
                showWheelMessage('free_hint');
                stats.freeHints = (stats.freeHints || 0) + 1;
                saveDailyStats(stats);
                updateUIForGameState('start_round');
            } else if (result === 'surprise') {
                const outcomes = ['good', 'bad', 'vowel'];
                const outcome = outcomes[Math.floor(Math.random() * outcomes.length)];
                if (outcome === 'good') {
                    showWheelMessage('surprise_good');
                    wheelState.roundScore += 1000;
                } else if (outcome === 'bad') {
                    showWheelMessage('surprise_bad');
                    wheelState.roundScore = Math.max(0, wheelState.roundScore - 500);
                } else {
                    showWheelMessage('surprise_vowel');
                    const unrevealedVowels = VOWELS.split('').filter(v => !wheelState.guessedLetters.includes(v) && wheelState.puzzle.puzzle.includes(v));
                    if(unrevealedVowels.length > 0) {
                        const randomVowel = unrevealedVowels[Math.floor(Math.random() * unrevealedVowels.length)];
                        setTimeout(() => guessLetter(randomVowel, true), 1500);
                    }
                }
                updateWheelPlayerScore();
                updateUIForGameState('start_round');
            } else if (result === 'joker_wheel') {
                showWheelMessage('joker_wheel');
                const unrevealedConsonants = [...new Set(wheelState.puzzle.puzzle.toUpperCase().split(''))].filter(l => !VOWELS.includes(l) && l !== ' ' && !wheelState.guessedLetters.includes(l));
                if (unrevealedConsonants.length > 0) {
                    const randomConsonant = unrevealedConsonants[Math.floor(Math.random() * unrevealedConsonants.length)];
                    setTimeout(() => guessLetter(randomConsonant, true), 1500); 
                }
                updateUIForGameState('start_round');
            } else {
                wheelState.spinResult = result;
                updateUIForGameState('guess_consonant');
                showWheelMessage('spin_result', { value: result });
                showWheelMessage('guess_consonant', {duration: 6000});
            }
        }

        function guessLetter(letter, free = false) { 
            letter = letter.toUpperCase(); 
            if (wheelState.guessedLetters.includes(letter)) return;
            wheelState.guessedLetters.push(letter); 
            let foundCount = 0; 
            document.querySelectorAll(`.puzzle-tile[data-letter="${letter}"]`).forEach(tile => { if(!tile.classList.contains('revealed')) {tile.classList.add('revealed'); foundCount++;} }); 
            if (foundCount > 0) { 
                if (!VOWELS.includes(letter) && !free) { 
                    let pointsEarned = foundCount * wheelState.spinResult; 
                    wheelState.roundScore += pointsEarned; 
                } 
                showWheelMessage('correct_guess'); 
            } else { 
                if(!VOWELS.includes(letter)) { wheelState.consonantMisses++; if(wheelState.consonantMisses >= 5) { wheelHelpButton.style.display = 'block'; wheelHelpButton.classList.add('pulse-purple'); } } 
                showWheelMessage('wrong_guess'); 
            } 
            wheelState.spinResult = null;
            updateWheelPlayerScore(); 
            updateAlphabetPanel(); 
            updateUIForGameState('start_round'); 
            checkWheelWin(); 
        }
        
        function solve() { 
            const solution = prompt("Kérlek, add meg a teljes megfejtést:"); 
            if (solution === null) return; 
            if (solution.toUpperCase().trim().replace(/\s+/g, ' ') === wheelState.puzzle.puzzle.toUpperCase()) { 
                showWheelMessage('solve_success'); 
                document.querySelectorAll('.puzzle-tile[data-letter]').forEach(tile => tile.classList.add('revealed')); 
                handleRoundWin();
            } else { 
                loseGame(true);
            } 
        }

        function loseGame(fromSolveAttempt = false) {
            if(fromSolveAttempt){
                showWheelMessage('solve_fail', {duration: 8000, solution: wheelState.puzzle.puzzle});
            }
            wheelState.totalWinnings = 0;
            wheelState.initialStake = 0;
            updateWheelPlayerScore();
            updateUIForGameState('game_over');
        }

        function handleRoundWin() {
            wheelState.totalWinnings += wheelState.roundScore;
            wheelState.roundScore = 0;
            updateUIForGameState('puzzle_solved');
        }
        
        function cashOut() { 
            showWheelMessage('cash_out', {duration: 5000}); 
            const finalWinnings = wheelState.totalWinnings + wheelState.roundScore + wheelState.initialStake;
            addPointsToDailyScore(finalWinnings); 
            updateUIForGameState('game_over'); 
        }

        function updateWheelPlayerScore() { 
            const totalScore = wheelState.totalWinnings + wheelState.roundScore;
            document.querySelector('#wheel-winnings-display span').textContent = totalScore;
            playerScoreEl.textContent = wheelState.roundScore; 
            stakeAmountEl.textContent = wheelState.initialStake; 
        }

        function updateUIForGameState(state) { const controls = document.getElementById('wheel-controls'); controls.style.display = 'none'; wheelDecisionControls.style.display = 'none'; closeWheelButton.style.display = 'none'; spinButton.disabled = true; solveButton.disabled = true; powerMeterContainer.style.pointerEvents = 'none'; if (state === 'start_round' || state === 'guess_consonant') { controls.style.display = 'flex'; spinButton.disabled = false; powerMeterContainer.style.pointerEvents = 'auto'; solveButton.disabled = false; wheelState.spinResult = (state === 'start_round') ? null : wheelState.spinResult; } else if (state === 'spinning') { controls.style.display = 'flex'; } else if (state === 'puzzle_solved') { if (wheelState.currentRound < 3) { wheelDecisionControls.style.display = 'flex'; } else { wheelGameOverlay.classList.remove('visible'); initCardGame(); } } else if (state === 'game_over') { closeWheelButton.style.display = 'block'; } }
        function checkWheelWin() { const allTiles = document.querySelectorAll('.puzzle-tile[data-letter]'); const revealedTiles = document.querySelectorAll('.puzzle-tile.revealed[data-letter]'); if(allTiles.length > 0 && allTiles.length === revealedTiles.length) { handleRoundWin(); } }

        function shuffleArraySeeded(array, seed) { let currentIndex = array.length, temporaryValue, randomIndex; const newArray = [...array]; while (0 !== currentIndex) { randomIndex = Math.floor(seededRandom(seed + currentIndex) * currentIndex); currentIndex -= 1; temporaryValue = newArray[currentIndex]; newArray[currentIndex] = newArray[randomIndex]; newArray[randomIndex] = temporaryValue; } return newArray; }
        
        function initCardGame() { 
            cardGameMessage.textContent = "Válassz egy lapot!"; 
            cardBoard.innerHTML = ''; 
            collectWinningsButton.style.display = 'none'; 
            cardGameOverlay.classList.add('visible'); 
            const seed = getCurrentHourSeed(); 
            const shuffledCards = shuffleArraySeeded(CARD_DATA, seed); 
            wheelState.picksLeft = 1; 
            cardPrizesList.innerHTML = ''; 
            shuffledCards.forEach(card => { cardPrizesList.innerHTML += `<li>${card.label}</li>`; }); 
            shuffledCards.forEach((cardData, index) => { 
                const cardElement = document.createElement('div'); 
                cardElement.className = 'game-card'; 
                cardElement.dataset.index = index; 
                cardElement.innerHTML = ` <div class="card-inner"> <div class="card-face card-face-front"> <svg class="card-logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"> <circle class="logo-circle" cx="50" cy="50" r="40" stroke-width="12"/> <line class="logo-handle" x1="32" y1="72" x2="5" y2="95" stroke-width="16" stroke-linecap="round"/> <text class="logo-text" x="50" y="62" font-family="Fredoka One, cursive" font-size="38" text-anchor="middle">Szó</text> </svg> </div> <div class="card-face card-face-back ${cardData.cssClass || ''}"> <div class="card-title">${cardData.label}</div> <div class="card-desc">${cardData.description}</div> </div> </div> `; 
                cardElement.addEventListener('click', () => handleCardClick(cardElement, cardData)); 
                cardBoard.appendChild(cardElement); 
            }); 
        }
        
        function handleCardClick(cardElement, cardData) {
            if (cardElement.classList.contains('flipped') || wheelState.picksLeft <= 0) return;
            wheelState.picksLeft--;
            cardElement.classList.add('flipped');
            applyCardEffect(cardData);
            if (wheelState.picksLeft <= 0) {
                document.querySelectorAll('.game-card').forEach(c => c.classList.add('disabled'));
                setTimeout(() => {
                    document.querySelectorAll('.game-card:not(.flipped)').forEach((card, index) => {
                        setTimeout(() => card.classList.add('flipped'), index * 150);
                    });
                    collectWinningsButton.style.display = 'block';
                }, 1500);
            }
        }

        function applyCardEffect(cardData) { 
            cardGameMessage.textContent = `A te kártyád: ${cardData.label}!`; 
            let stats = getDailyStats(); 
            let finalWinnings = wheelState.totalWinnings + wheelState.roundScore;
            
            switch(cardData.type) { 
                case 'total_bankrupt': 
                    stats.totalScore = 0; 
                    finalWinnings = 0; 
                    wheelState.initialStake = 0;
                    break; 
                case 'half': 
                    finalWinnings = Math.floor(finalWinnings / 2); 
                    break; 
                case 'add_points':
                case 'boss_gift':
                    finalWinnings += cardData.value; 
                    break; 
                case 'point_rain':
                    const rainAmount = Math.floor(seededRandom(Date.now()) * 4001) + 1000;
                    finalWinnings += rainAmount;
                    cardGameMessage.textContent += ` (+${rainAmount} pont)`;
                    break;
                case 'add_insurance':
                    updateInsuranceCount(1);
                    break;
                case 'free_hint':
                    stats.freeHints = (stats.freeHints || 0) + 1;
                    break;
                case 'free_vowel':
                    stats.freeVowels = (stats.freeVowels || 0) + 1;
                    break;
                case 'amnesty':
                    const failedWordIndex = gameData.progress.findIndex(p => p.status === 'failed' && (Date.now() - (p.failTimestamp || 0)) > 0);
                    if (failedWordIndex !== -1) {
                         gameData.progress[failedWordIndex].failTimestamp = 0;
                         cardGameMessage.textContent = "Amnesztia! Egy rontott szavad várakozási ideje törölve!";
                         renderWordTracker();
                    } else {
                         cardGameMessage.textContent = "Amnesztia! Jelenleg nincs rontott szavad, amit törölhetne.";
                    }
                    break;
                case 'time_bonus':
                    gameData.timers = gameData.timers.map(t => t + 60);
                    cardGameMessage.textContent = "Időbónusz! +60 másodperc minden időfutam feladványhoz!";
                    break;
                case 'pick_again': 
                    wheelState.picksLeft++; 
                    cardGameMessage.textContent += " Válassz még egyet!"; 
                    break; 
                case 'witty_message':
                    break;
            }
            saveDailyStats(stats);
            updateDailyScoreDisplay(stats.totalScore); 
            wheelState.totalWinnings = finalWinnings;
            wheelState.roundScore = 0;
            updateWheelPlayerScore(); 
        }
        
        function initLotto() {
            updateMainLottoView();
        }

        function generateWinningLottoNumbers() { 
            if (!gameData.lotto) return;
            const numbers = Array.from({length: 35}, (_, i) => i + 1); 
            let winning = []; 
            for(let i=0; i<5; i++) { 
                const randomIndex = Math.floor(seededRandom(getCurrentDaySeed() + i) * numbers.length); 
                winning.push(numbers.splice(randomIndex, 1)[0]);
            } 
            gameData.lotto.winningNumbers = winning.sort((a,b)=>a-b); 
        }
        
        function openLottoOverlay() {
            if (!gameData || !gameData.lotto || !Array.isArray(gameData.lotto.tickets)) {
                alert("Hiba történt a lottó játék betöltésekor. Kérjük, frissítse az oldalt.");
                return;
            }
            if (gameData.lotto.tickets.length >= 4) {
                lottoPlayedMessage.textContent = 'Elérted a napi 4 szelvényes limitet.';
                setTimeout(() => { lottoPlayedMessage.textContent = ''; }, 10000);
                return;
            }
            lottoGameOverlay.classList.add('visible');
            selectedLottoNumbers = [];
            createOverlayLottoGrid();
            updateLottoSelectionCounter();
            lottoOverlayMessage.innerHTML = '';
            document.getElementById('lotto-overlay-buttons').style.display = 'flex';
            document.getElementById('lotto-game-container').querySelector('p:nth-of-type(1)').style.display = 'block';
            lottoGridOverlay.style.display = 'grid';
            lottoSelectionCounter.style.display = 'block';
            closeLottoOverlayButton.onclick = closeLottoOverlay;
            closeLottoOverlayButton.textContent = "Mégse";
            closeLottoOverlayButton.style.display = 'block'; 
        }

        function createOverlayLottoGrid() {
            lottoGridOverlay.innerHTML = ''; 
            for(let i=1; i<=35; i++){ 
                const numberEl = document.createElement('div'); 
                numberEl.className = 'lotto-number'; 
                numberEl.textContent = i; 
                numberEl.dataset.number = i; 
                numberEl.addEventListener('click', () => toggleLottoNumber(i)); 
                lottoGridOverlay.appendChild(numberEl); 
            }
        }
        
        function toggleLottoNumber(num) { 
            const index = selectedLottoNumbers.indexOf(num); 
            if (index > -1) { 
                selectedLottoNumbers.splice(index, 1); 
            } else { 
                if(selectedLottoNumbers.length < 5) { 
                    selectedLottoNumbers.push(num); 
                } else { 
                    alert("Már kiválasztottál 5 számot!"); 
                } 
            } 
            updateOverlayLottoGrid();
            updateLottoSelectionCounter();
        }

        function updateLottoSelectionCounter() {
            lottoSelectionCounter.textContent = `${selectedLottoNumbers.length} / 5 kiválasztva`;
        }

        function updateOverlayLottoGrid() { 
            lottoGridOverlay.querySelectorAll('.lotto-number').forEach(el => { 
                const num = parseInt(el.dataset.number); 
                if (selectedLottoNumbers.includes(num)) { 
                    el.classList.add('selected'); 
                } else { 
                    el.classList.remove('selected'); 
                }
            });
        }

        function submitLottoTicketOverlay() {
            if (selectedLottoNumbers.length !== 5) {
                alert("Kérlek, válassz ki pontosan 5 számot!");
                return;
            }
            const currentTickets = gameData.lotto.tickets.length;
            const cost = currentTickets === 0 ? 0 : 400;
            const currentScore = getDailyScore();
            if (currentScore < cost) {
                alert(`Nincs elég pontod a szelvény feladásához! Szükséges: ${cost} pont.`);
                return;
            }
            if (cost > 0 && !confirm(`Ez a szelvény ${cost} pontba kerül. Biztosan megveszed?`)) {
                return;
            }
            addPointsToDailyScore(-cost);
            gameData.lotto.tickets.push({
                numbers: selectedLottoNumbers.sort((a, b) => a - b)
            });
            saveGame();
            lottoOverlayMessage.innerHTML = `Szelvényed rögzítésre került. Sok szerencsét!<span class="star-icon">★</span>`;
            document.getElementById('lotto-overlay-buttons').style.display = 'none';
            document.getElementById('lotto-game-container').querySelector('p:nth-of-type(1)').style.display = 'none';
            lottoGridOverlay.style.display = 'none';
            lottoSelectionCounter.style.display = 'none';
            setTimeout(() => {
                closeLottoOverlay();
            }, 8000);
        }

        function closeLottoOverlay() {
            lottoGameOverlay.classList.remove('visible');
            updateMainLottoView();
        }

        function getFormattedDate() {
            const now = new Date();
            const year = now.getFullYear();
            const monthNames = ["január", "február", "március", "április", "május", "június", "július", "augusztus", "szeptember", "október", "november", "december"];
            const dayNames = ["Vasárnap", "Hétfő", "Kedd", "Szerda", "Csütörtök", "Péntek", "Szombat"];
            const month = monthNames[now.getMonth()];
            const day = now.getDate();
            const dayName = dayNames[now.getDay()];
            return `${year}. ${month} ${day}. ${dayName}`;
        }

        function updateMainLottoView() {
            if (!gameData || !gameData.lotto || !Array.isArray(gameData.lotto.tickets)) {
                return;
            }
            const now = new Date();
            const ticketsSubmitted = gameData.lotto.tickets.length;
            const isLottoPaused = now.getHours() >= 19;
            const isAfterDrawing = isLottoPaused;
            if (isLottoPaused) {
                playLottoButton.disabled = true;
                playLottoButton.textContent = 'A fogadás 19:00 és 23:59 között szünetel.';
            } else if (ticketsSubmitted >= 4) {
                playLottoButton.disabled = true;
                playLottoButton.textContent = 'Napi limit elérve (4/4)';
            } else if (ticketsSubmitted > 0) {
                 playLottoButton.disabled = false;
                 playLottoButton.textContent = `Új szelvény (${ticketsSubmitted}/4) - 400 pont`;
            } else {
                 playLottoButton.disabled = false;
                 playLottoButton.textContent = 'Első ingyenes szelvény';
            }
            submittedTicketsContainer.innerHTML = '';
            if(ticketsSubmitted > 0) {
                gameData.lotto.tickets.forEach((ticket, index) => {
                    const stub = document.createElement('div');
                    stub.className = 'lotto-ticket-stub';
                    let headerText = `<h4>${index + 1}. Szelvényed:</h4>`;
                    if (isAfterDrawing && ticket.matches !== undefined) {
                        headerText = `<h4>${index + 1}. Szelvényed (${ticket.matches} találat):</h4>`;
                    }
                    stub.innerHTML = headerText + '<div class="number-display"></div>';
                    const display = stub.querySelector('.number-display');
                    ticket.numbers.forEach(num => {
                        const ball = document.createElement('div');
                        ball.className = 'lotto-ball';
                        ball.textContent = num;
                        if(isAfterDrawing && gameData.lotto.winningNumbers.includes(num)) {
                            ball.classList.add('match');
                        }
                        display.appendChild(ball);
                    });
                    submittedTicketsContainer.appendChild(stub);
                });
            }

            if(isAfterDrawing) {
                winningLottoNumbersContainer.style.display = 'block';
                const lottoLogoHTML = document.getElementById('lotto-logo-svg').outerHTML;
                winningLottoNumbersContainer.innerHTML = `
                    <div class="winning-header">
                        ${lottoLogoHTML}
                        <h4>Napi Lottó mai nyerőszámok ${getFormattedDate()}</h4>
                    </div>
                    <div class="number-display"></div>`;
                const display = winningLottoNumbersContainer.querySelector('.number-display');
                gameData.lotto.winningNumbers.forEach(num => {
                    const ball = document.createElement('div');
                    ball.className = 'lotto-ball';
                    ball.textContent = num;
                    display.appendChild(ball);
                });
                
                if(!gameData.lotto.prizesEvaluated) {
                    evaluateLottoPrizes();
                }
            } else {
                 winningLottoNumbersContainer.style.display = 'none';
            }
        }

        function evaluateLottoPrizes() {
            if (!gameData.lotto || gameData.lotto.prizesEvaluated) return;
            let wonTiers = new Set();
            gameData.lotto.tickets.forEach(ticket => {
                const matches = ticket.numbers.filter(num => gameData.lotto.winningNumbers.includes(num));
                ticket.matches = matches.length;
                if (ticket.matches > 0) {
                    wonTiers.add(ticket.matches);
                }
            });
            gameData.lotto.prizesEvaluated = true;
            saveGame();
            const uniqueTiers = Array.from(wonTiers);
            if(uniqueTiers.length > 1) {
                promptPrizeChoice(uniqueTiers);
            } else if (uniqueTiers.length === 1) {
                savePendingPrize(uniqueTiers[0]);
                alert(`Nyertél! A(z) ${uniqueTiers[0]}-találatos nyereményed holnap éjféltől lesz aktív.`);
            }
            updateMainLottoView(); 
        }

        function promptPrizeChoice(tiers) {
            const optionsContainer = document.getElementById('prize-choice-options');
            optionsContainer.innerHTML = '';
            tiers.sort((a,b) => b-a).forEach(tier => {
                const prize = LOTTO_PRIZES_META[tier];
                const button = document.createElement('button');
                button.className = 'prize-option-button';
                button.innerHTML = `<div class="prize-title">${prize.title}</div><div class="prize-desc">${prize.desc}</div>`;
                button.onclick = () => {
                    savePendingPrize(tier);
                    prizeChoiceOverlay.classList.remove('visible');
                    alert(`A(z) ${tier}-találatos nyereményt választottad. Holnap éjféltől lesz aktív.`);
                };
                optionsContainer.appendChild(button);
            });
            prizeChoiceOverlay.classList.add('visible');
        }

        function savePendingPrize(tier) {
            let stats = getDailyStats();
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            stats.pendingPrize = {
                targetDate: tomorrow.toDateString(),
                tier: tier
            };
            saveDailyStats(stats);
        }
        
        function checkDailyReset() {
            const today = new Date().toDateString();
            let stats = getDailyStats();
            if (!stats || stats.lastResetDate !== today) {
                const oldStats = stats || {};
                stats = { 
                    totalScore: 200, 
                    lastResetDate: today, 
                    insurance: 0, 
                    freeHints: 0, 
                    freeVowels: 0, 
                    activeLottoPrize: {},
                    pendingPrize: oldStats.pendingPrize || null
                };
                
                gameData.lotto = { date: today, tickets: [], winningNumbers: [], prizesEvaluated: false };
                generateWinningLottoNumbers();
                saveGame();
            } 
            
            if (stats.pendingPrize && stats.pendingPrize.targetDate === today) {
                const tier = stats.pendingPrize.tier;
                stats.activeLottoPrize = { tier: tier };
                switch(tier) {
                    case 1: stats.freeHints = (stats.freeHints || 0) + 1; break;
                    case 2: stats.freeVowels = (stats.freeVowels || 0) + 3; break;
                    case 3: stats.activeLottoPrize.unlimitedInsurance = true; break;
                    case 4: stats.activeLottoPrize.noBankrupt = true; break;
                    case 5: stats.activeLottoPrize.freeWheel = true; break;
                }
                stats.pendingPrize = null;
                alert("A tegnapi lottónyereményed mára aktiválódott! Sok sikert a felhasználásához!");
            }
            saveDailyStats(stats);

            updateDailyScoreDisplay(stats.totalScore);
            updateInsuranceDisplay(stats.insurance);
        }

        function getDailyScore() { const stats = getDailyStats(); return stats ? stats.totalScore : 0; }
        function addPointsToDailyScore(points) { let stats = getDailyStats(); stats.totalScore = Math.max(0, stats.totalScore + points); saveDailyStats(stats); updateDailyScoreDisplay(stats.totalScore); }
        function updateDailyScoreDisplay(score) { dailyScoreDisplaySpan.textContent = Math.round(score); }
        
        function initGame() {
            const storedData = JSON.parse(localStorage.getItem('szonyomozo_progress'));
            if (storedData) { 
                gameData = storedData; 
            } else {
                gameData = {};
            }

            const today = new Date().toDateString();
            if (!gameData.lotto || typeof gameData.lotto !== 'object' || gameData.lotto.date !== today) {
                gameData.lotto = { date: today, tickets: [], winningNumbers: [], prizesEvaluated: false };
                generateWinningLottoNumbers();
            }

            checkDailyReset();
            loadKeyboardSetting();
            const hourSeed = getCurrentHourSeed();
            
            if (!gameData.seed || gameData.seed !== hourSeed) {
                const oldLottoData = gameData.lotto;
                gameData = {
                    seed: hourSeed,
                    hourlySet: [],
                    progress: [],
                    timers: {},
                    gameModes: {},
                    modeLocked: Array(5).fill(false),
                    secretCode: [],
                    insurancesGainedThisHour: 0,
                    bonusUnlocked: false,
                    currentWordIndex: 0,
                    currentRow: 0,
                    currentCol: 0,
                    isGameOver: false,
                    lotto: oldLottoData
                };
                const allIndices = Array.from(Array(wordData.length).keys());
                let chosenIndices = [];
                for (let i = 0; i < 5; i++) {
                    const randomIndex = Math.floor(seededRandom(hourSeed + i * 13) * allIndices.length);
                    chosenIndices.push(allIndices.splice(randomIndex, 1)[0]);
                }
                gameData.hourlySet = chosenIndices;
                for (let i = 0; i < 4; i++) {
                    gameData.secretCode.push(Math.floor(seededRandom(hourSeed + 200 + i) * 10));
                }
                gameData.progress = Array(5).fill(null).map(() => ({status: 'pending', scored: false}));
                gameData.timers = Array(5).fill(180);
                gameData.gameModes = Array(5).fill('relax');
                saveGame();
            }

            renderWordTracker();
            updateBonusUnlockUI();
            if (!checkAndDisplayIdleState()) {
                loadWord(gameData.currentWordIndex);
            }
            startSecretCodeFlasher();
            initLotto();
        }

        function loadWord(indexInSet) {
            if (indexInSet >= gameData.hourlySet.length) return;
            
            activeHints = { text: [], letterIndices: [], usedCount: 0 };
            
            const wordObject = wordData[gameData.hourlySet[indexInSet]];
            if (wordObject.word.length > 7) {
                const targetWord = wordObject.word.toUpperCase();
                let indices = Array.from(Array(targetWord.length).keys());
                
                const seed1 = getCurrentHourSeed() + indexInSet + 300;
                let index1 = Math.floor(seededRandom(seed1) * indices.length);
                let idx1 = indices.splice(index1, 1)[0];
                
                const seed2 = getCurrentHourSeed() + indexInSet + 400;
                let index2 = Math.floor(seededRandom(seed2) * indices.length);
                let idx2 = indices.splice(index2, 1)[0];
                
                activeHints.letterIndices.push(idx1, idx2);
            }

            hintDisplayArea.innerHTML = '';
            hintDisplayArea.classList.remove('active');
            clearInterval(timerInterval);
            clearInterval(randomMessageInterval);
            Object.values(cooldownIntervals).forEach(clearInterval);
            cooldownIntervals = {};
            gameData.currentWordIndex = indexInSet;
            const wordProgress = gameData.progress[indexInSet];
            gameData.isGameOver = (wordProgress.status !== 'pending');
            gameData.currentRow = 0;
            gameData.currentCol = 0;

            renderInfoBarFront();
            initializeGrid(wordObject.word.length);
            initializeKeyboard();
            renderWordTracker();
            updateHintButtons();

            if (gameData.isGameOver) {
                keyboardContainer.classList.add('disabled');
                showEndMessage();
            } else {
                keyboardContainer.classList.remove('disabled');
                startRandomMessageTimer();
                if (keyboardToggleCheckbox.checked) {
                    setTimeout(() => hiddenInput.focus(), 100);
                }
            }
        }
        function startSecretCodeFlasher() { clearInterval(secretCodeFlasherInterval); secretCodeFlasherInterval = setInterval(flashRandomDigit, Math.random() * 20000 + 15000); }
        function flashRandomDigit() { if (gameData.isGameOver || document.querySelector('.overlay.visible')) return; const digitIndex = Math.floor(Math.random() * 4); const targetInput = codeInputs[digitIndex]; if (targetInput.dataset.isFlashing === 'true' || targetInput.disabled) return; const digit = gameData.secretCode[digitIndex]; const originalValue = targetInput.value; targetInput.disabled = true; targetInput.classList.add('flashing-code'); targetInput.dataset.isFlashing = 'true'; targetInput.dataset.originalValue = originalValue; targetInput.value = digit; setTimeout(() => { targetInput.value = targetInput.dataset.originalValue; targetInput.disabled = false; targetInput.classList.remove('flashing-code'); targetInput.dataset.isFlashing = 'false'; }, 2000); }
        function submitGuess() {
            const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]];
            if (gameData.currentCol !== wordObject.word.length) return;
            const guess = Array.from(document.getElementById(`row-${gameData.currentRow}`).children).map(cell => cell.querySelector('.cell-front').textContent).join('');
            if (guess.length !== wordObject.word.length) return;
            flipRow(guess, wordObject.word.toUpperCase());
            if (guess === wordObject.word.toUpperCase()) {
                gameData.isGameOver = true;
                clearInterval(timerInterval);
                clearInterval(randomMessageInterval);
                if(!gameData.progress[gameData.currentWordIndex].scored) {
                    let points = wordObject.word.length * 50 + (wordObject.difficulty === "Nehéz" ? 50 : (wordObject.difficulty === "Extra Nehéz" ? 100 : 0));
                    if (gameData.gameModes[gameData.currentWordIndex] === 'timed') { points = Math.round(points * 1.5); }
                    addPointsToDailyScore(points);
                    showFeedbackMessage(`Helyes! +${points} pont!`);
                    gameData.progress[gameData.currentWordIndex].scored = true;
                }
                gameData.progress[gameData.currentWordIndex].status = 'solved';
                keyboardContainer.classList.add('disabled');
                requestTextHintButton.disabled = true;
                requestLetterHintButton.disabled = true;

                setTimeout(() => {
                    checkForBonusGameUnlock();
                    saveGame();
                    renderWordTracker();
                    updateBonusUnlockUI();

                    const nextWordIndex = gameData.progress.findIndex(p => p.status === 'pending');
                    if (nextWordIndex !== -1) {
                        loadWord(nextWordIndex);
                    } else {
                        checkAndDisplayIdleState();
                    }
                }, 3000);
            } else {
                gameData.currentRow++;
                if (gameData.currentRow >= MAX_GUESSES) {
                    clearInterval(timerInterval);
                    clearInterval(randomMessageInterval);
                    failWord();
                } else {
                    gameData.currentCol = 0;
                }
            }
            saveGame();
        }
        function calculateHintCost(isLetterHint = false) { let baseCost; switch (wordData[gameData.hourlySet[gameData.currentWordIndex]].difficulty) { case "Könnyű": baseCost = 25; break; case "Nehéz": baseCost = 50; break; case "Extra Nehéz": baseCost = 75; break; default: baseCost = 25; } const score = getDailyScore(); const dynamicCost = Math.floor(score * 0.05); baseCost += dynamicCost; const costMultiplier = activeHints.usedCount >= 2 ? 2 : 1; const letterMultiplier = isLetterHint ? 1.5 : 1; return Math.round(baseCost * costMultiplier * letterMultiplier); }
        function spendPointsForHint(isLetterHint = false) { 
            let stats = getDailyStats();
            const freebie = stats.activeLottoPrize && stats.activeLottoPrize.freeWheel;
            if (freebie) { return true; }

            if (stats.freeHints > 0 && !isLetterHint) {
                stats.freeHints--;
                saveDailyStats(stats);
                alert("Felhasználtál egy ingyenes szöveges segítséget!");
                return true;
            }
            const cost = calculateHintCost(isLetterHint); 
            if (stats.totalScore < cost) { alert(`Nincs elég pontod! A segítség ${cost} pontba kerül, de neked csak ${stats.totalScore} pontod van.`); return false; } 
            if (confirm(`Biztosan elköltesz ${cost} pontot a segítségért?`)) { addPointsToDailyScore(-cost); return true; } return false; 
        }
        
        function saveGame() { localStorage.setItem('szonyomozo_progress', JSON.stringify(gameData)); }
        function renderWordTracker() { wordTrackerContainer.innerHTML = ''; gameData.hourlySet.forEach((_, index) => { const item = document.createElement('div'); item.className = 'tracker-item'; item.dataset.index = index; const progress = gameData.progress[index]; item.classList.remove('solved', 'failed', 'failed-revealed', 'active'); if (progress.status === 'solved') { item.classList.add('solved'); } else if (progress.status === 'failed-revealed') { item.classList.add('failed-revealed'); } else if (progress.status === 'failed') { item.classList.add('failed'); const remainingTime = (progress.failTimestamp || 0) + RETRY_COOLDOWN_MS - Date.now(); if (remainingTime > 0) { item.innerHTML = `${index + 1}. szó <div class="cooldown-timer"></div>`; updateCooldownTimer(item.querySelector('.cooldown-timer'), progress.failTimestamp); item.style.cursor = 'not-allowed'; } else { item.textContent = `${index + 1}. szó (Újra)`; item.style.cursor = 'pointer'; item.addEventListener('click', () => { gameData.progress[index] = {status: 'pending', scored: false}; gameData.timers[index] = 180; gameData.gameModes[index] = 'relax'; gameData.modeLocked[index] = false; saveGame(); if (!checkAndDisplayIdleState()) { loadWord(index); } }); } } else { item.addEventListener('click', () => { if(index !== gameData.currentWordIndex && gameData.progress[index].status === 'pending') loadWord(index); }); } item.textContent = item.textContent || `${index + 1}. szó`; if (index === gameData.currentWordIndex && !checkAndDisplayIdleState()) { item.classList.add('active'); } wordTrackerContainer.appendChild(item); }); }
        function updateCooldownTimer(element, failTimestamp) { if (!element) return; const intervalId = setInterval(() => { const remaining = failTimestamp + RETRY_COOLDOWN_MS - Date.now(); if (remaining <= 0) { clearInterval(intervalId); renderWordTracker(); return; } const minutes = Math.floor((remaining / 1000 / 60) % 60).toString().padStart(2, '0'); const seconds = Math.floor((remaining / 1000) % 60).toString().padStart(2, '0'); element.textContent = `${minutes}:${seconds}`; }, 1000); cooldownIntervals[element.parentElement.dataset.index] = intervalId; }
        function updateTimerDisplay(timeLeft) { if (timeLeft < 0) timeLeft = 0; const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0'); const seconds = (timeLeft % 60).toString().padStart(2, '0'); const timeString = `${minutes}:${seconds}`; const timerDisplayEl = document.getElementById('timer-display'); if (timerDisplayEl) timerDisplayEl.textContent = timeString; }
        function startTimer(duration) { clearInterval(timerInterval); let timeLeft = duration; updateTimerDisplay(timeLeft); timerInterval = setInterval(() => { if (gameData.isGameOver) { clearInterval(timerInterval); return; } timeLeft--; gameData.timers[gameData.currentWordIndex] = timeLeft; saveGame(); updateTimerDisplay(timeLeft); if (timeLeft <= 0) { clearInterval(timerInterval); clearInterval(randomMessageInterval); failWord(); } }, 1000); }
        function renderActiveHints() {
            const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]];
            if (activeHints.text.length === 0 && activeHints.letterIndices.length === 0) {
                hintDisplayArea.innerHTML = '';
                hintDisplayArea.classList.remove('active');
                return;
            }
            let hintsHTML = '';
            activeHints.text.forEach((hintIndex, displayOrder) => {
                hintsHTML += `<strong>${displayOrder + 1}. tipp:</strong> ${wordObject.hints[hintIndex]}<br>`;
            });
            if (activeHints.letterIndices.length > 0) {
                if (hintsHTML !== '') hintsHTML += '<br>';
                 const autoRevealedCount = wordObject.word.length > 7 ? 2 : 0;
                 const playerRevealedCount = activeHints.letterIndices.length - autoRevealedCount;
                 let revealText = `🔍 <strong>Felfedett betűk:</strong> ${activeHints.letterIndices.length} db`;
                 if(autoRevealedCount > 0){
                    revealText += ` (${autoRevealedCount} ajándék, ${playerRevealedCount > 0 ? playerRevealedCount : 0} vásárolt)`;
                 }
                hintsHTML += revealText;
            }
            if (hintsHTML) {
                hintDisplayArea.innerHTML = hintsHTML;
                hintDisplayArea.classList.add('active');
                clearInterval(randomMessageInterval);
            }
        }
        function displayHint(isLetterHint) {
            clearInterval(randomMessageInterval);
            activeHints.usedCount++;
            if (isLetterHint) {
                revealRandomLetter();
            } else {
                const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]];
                const nextHintIndex = activeHints.text.length;
                if (nextHintIndex < wordObject.hints.length) {
                   revealTextHint(nextHintIndex);
                }
            }
            renderActiveHints();
            updateHintButtons();
        }
        function revealTextHint(hintIndex) { if (activeHints.text.includes(hintIndex)) return; activeHints.text.push(hintIndex); }
        function revealRandomLetter() { if (gameData.isGameOver) return; const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]]; const targetWord = wordObject.word.toUpperCase(); const revealedIndices = activeHints.letterIndices; const unrevealedWordIndices = []; for (let i = 0; i < targetWord.length; i++) { if (!revealedIndices.includes(i)) unrevealedWordIndices.push(i); } if (unrevealedWordIndices.length === 0) { requestLetterHintButton.disabled = true; return; } const indexToReveal = unrevealedWordIndices[Math.floor(Math.random() * unrevealedWordIndices.length)]; activeHints.letterIndices.push(indexToReveal); const letter = targetWord[indexToReveal]; for(let i=0; i<MAX_GUESSES; i++) { const cellFront = document.querySelector(`#row-${i} #cell-container-${i}-${indexToReveal} .cell-front`); if(cellFront) { cellFront.textContent = letter; cellFront.classList.add('cell-revealed'); } } updateKeyboard(letter, 'correct'); }
        function failWord() { gameData.isGameOver = true; gameData.progress[gameData.currentWordIndex].status = 'failed'; gameData.progress[gameData.currentWordIndex].failTimestamp = Date.now(); requestTextHintButton.disabled = true; requestLetterHintButton.disabled = true; keyboardContainer.classList.add('disabled'); showEndMessage(); saveGame(); renderWordTracker(); }
        
        function initializeGrid(wordLength) {
            gridContainer.innerHTML = '';
            gridContainer.style.height = `auto`;
            for (let i = 0; i < MAX_GUESSES; i++) {
                const row = document.createElement('div');
                row.className = 'grid-row';
                row.id = `row-${i}`;
                row.style.gridTemplateColumns = `repeat(${wordLength}, 1fr)`;
                for (let j = 0; j < wordLength; j++) {
                    row.innerHTML += `<div class="grid-cell" id="cell-container-${i}-${j}"><div class="cell-inner"><div class="cell-face cell-front"></div><div class="cell-face cell-back"></div></div></div>`;
                }
                gridContainer.appendChild(row);
            }
            if (activeHints.letterIndices && activeHints.letterIndices.length > 0) {
                const targetWord = wordData[gameData.hourlySet[gameData.currentWordIndex]].word.toUpperCase();
                activeHints.letterIndices.forEach(index => {
                    const letter = targetWord[index];
                    for (let i = 0; i < MAX_GUESSES; i++) {
                        const cellFront = document.querySelector(`#row-${i} #cell-container-${i}-${index} .cell-front`);
                        if (cellFront) {
                            cellFront.textContent = letter;
                            cellFront.classList.add('cell-revealed');
                        }
                    }
                    updateKeyboard(letter, 'correct');
                });
                renderActiveHints();
            }
        }
        function initializeKeyboard() { keyboardContainer.innerHTML = ''; KEY_LAYOUT.forEach(rowKeys => { const row = document.createElement('div'); row.className = 'keyboard-row'; rowKeys.forEach(key => { const button = document.createElement('button'); button.textContent = key; button.className = 'key'; button.dataset.key = key.toUpperCase(); if (key === 'Enter' || key === 'Backspace') button.classList.add('large'); button.addEventListener('click', (e) => { e.preventDefault(); handleKeyPress(key); }); row.appendChild(button); }); keyboardContainer.appendChild(row); }); }
        function handleKeyPress(key) { if (gameData.isGameOver || document.querySelector('.overlay.visible')) return; const upperKey = key.toUpperCase(); if (upperKey === 'ENTER') { submitGuess(); } else if (upperKey === 'BACKSPACE' || upperKey === 'BACK') { deleteLetter(); } else if (upperKey.length === 1 && FULL_ALPHABET.includes(upperKey)) { addLetter(upperKey); } }
        function addLetter(letter) { const wordLength = wordData[gameData.hourlySet[gameData.currentWordIndex]].word.length; if (gameData.currentCol >= wordLength) return; const cell = document.querySelector(`#row-${gameData.currentRow}`).children[gameData.currentCol]; if (cell.querySelector('.cell-front').classList.contains('cell-revealed')) { gameData.currentCol++; if (gameData.currentCol < wordLength) addLetter(letter); else gameData.currentCol = wordLength; return; } if (cell) { cell.querySelector('.cell-front').textContent = letter; cell.classList.add('filled'); gameData.currentCol++; } }
        function deleteLetter() { if (gameData.currentCol <= 0) return; gameData.currentCol--; const cell = document.querySelector(`#row-${gameData.currentRow}`).children[gameData.currentCol]; if (cell.querySelector('.cell-front').classList.contains('cell-revealed')) { if(gameData.currentCol > 0) deleteLetter(); return; } if (cell) { cell.querySelector('.cell-front').textContent = ''; cell.classList.remove('filled'); } }
        function renderInfoBarFront(isFailure = false) {
            infoBar.classList.remove('feedback-message');
            infoBar.innerHTML = '';
            const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]];
            const { word, category, difficulty } = wordObject;

            if (isFailure) {
                infoBar.innerHTML = `<div id="word-info-container"><span>Sajnos nem sikerült.</span></div><div id="reveal-solution-container"><button id="reveal-solution-button">Megoldás felfedése</button></div>`;
                document.getElementById('reveal-solution-button').addEventListener('click', () => {
                    gameData.progress[gameData.currentWordIndex].status = 'failed-revealed';
                    saveGame();
                    renderWordTracker();
                    showFeedbackMessage(`A megoldás: <strong>${wordObject.word}</strong>.`);
                });
            } else {
                const infoContainer = `<div id="word-info-container"><span id="word-info">${category} | ${word.length} betűs</span><span id="difficulty-display" class="difficulty-${difficulty.toLowerCase().replace(/ /g, '-')}">${difficulty}</span></div>`;

                if (gameData.modeLocked[gameData.currentWordIndex]) {
                    infoBar.innerHTML = `${infoContainer}<div id="game-mode-display"><span id="game-mode-label">${gameData.gameModes[gameData.currentWordIndex] === 'timed' ? 'Időfutam' : 'Relax'}</span><span id="timer-display"></span></div>`;
                    updateGameModeDisplay();
                } else {
                    infoBar.innerHTML = `${infoContainer}<div id="game-mode-choice"><button class="mode-choice-button" data-mode="relax">Relax</button><button class="mode-choice-button" data-mode="timed">Időfutam</button></div>`;
                    document.querySelectorAll('.mode-choice-button').forEach(button => button.addEventListener('click', (e) => setGameMode(e.target.dataset.mode)));
                }
            }
        }
        function showFeedbackMessage(message) { infoBar.classList.add('feedback-message'); infoBar.innerHTML = message; }
        function showEndMessage() { const progress = gameData.progress[gameData.currentWordIndex]; if (progress.status === 'failed') { renderInfoBarFront(true); } else if (progress.status === 'solved' && !gameData.progress[gameData.currentWordIndex].scored) { showFeedbackMessage(`🎉 Ügyes! A helyes szó: <strong>${wordData[gameData.hourlySet[gameData.currentWordIndex]].word}</strong>. 🎉`); }}
        function flipRow(guess, targetWord) { const targetLetters = targetWord.split(''); const guessLetters = guess.split(''); const letterStates = Array(targetWord.length).fill('absent'); const usedTargetIndexes = new Set(); guessLetters.forEach((letter, index) => { if (letter === targetLetters[index]) { letterStates[index] = 'correct'; usedTargetIndexes.add(index); }}); guessLetters.forEach((letter, index) => { if (letterStates[index] !== 'correct') { const presentIndex = targetLetters.findIndex((l, i) => l === letter && !usedTargetIndexes.has(i)); if (presentIndex !== -1) { letterStates[index] = 'present'; usedTargetIndexes.add(presentIndex); } } }); const rowEl = document.getElementById(`row-${gameData.currentRow}`); for (let i = 0; i < targetWord.length; i++) { const cell = rowEl.children[i]; setTimeout(() => { cell.querySelector('.cell-back').textContent = guessLetters[i]; cell.querySelector('.cell-back').classList.add(letterStates[i]); cell.classList.add('flip'); updateKeyboard(guessLetters[i], letterStates[i]); }, i * 200); } }
        function updateKeyboard(letter, state) { const key = document.querySelector(`.key[data-key="${letter}"]`); if (!key) return; const priorities = { 'correct': 3, 'present': 2, 'absent': 1 }; const currentClass = key.classList.contains('correct') ? 'correct' : key.classList.contains('present') ? 'present' : 'absent'; if (!currentClass || priorities[state] > (priorities[currentClass] || 0)) { key.classList.remove('correct', 'present', 'absent'); key.classList.add(state); } }
        function checkForNewHour() { if (newHourNotification.style.display === 'flex') return; const currentSeed = getCurrentHourSeed(); if (gameData.seed && currentSeed !== gameData.seed) { newHourNotification.style.display = 'flex'; } }
        
        function updateHintButtons() { 
            let stats = getDailyStats();
            if (gameData.isGameOver) { 
                requestTextHintButton.disabled = true; 
                requestLetterHintButton.disabled = true; 
                return; 
            } 
            
            const freebie = stats.activeLottoPrize && stats.activeLottoPrize.freeWheel;
            const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]]; 
            
            const textHintsAvailable = activeHints.text.length < wordObject.hints.length; 
            requestTextHintButton.disabled = !textHintsAvailable;

            requestLetterHintButton.disabled = false;
            
            const freeTextHints = stats.freeHints || 0;
            const textHintCost = calculateHintCost(false); 
            const letterHintCost = calculateHintCost(true); 

            if (freebie) {
                requestTextHintButton.textContent = `Szöveges segítség (INGYENES)`;
                requestLetterHintButton.textContent = `Betű felfedése (INGYENES)`;
                requestTextHintButton.disabled = !textHintsAvailable;
            } else {
                requestTextHintButton.textContent = `Szöveges segítség (${freeTextHints > 0 ? freeTextHints+' INGYENES' : textHintCost+'p'})`; 
                requestLetterHintButton.textContent = `Betű felfedése (${letterHintCost}p)`; 
            }
        }

        function checkForBonusGameUnlock() { 
            const allWordsSolved = gameData.progress.every(p => p.status === 'solved'); 
            if (allWordsSolved) { 
                gameData.bonusUnlocked = true; 
                saveGame(); 
                updateBonusUnlockUI(); 
            } 
        }
        function updateBonusUnlockUI() {
            const stats = getDailyStats();
            const freeAccess = stats.activeLottoPrize && stats.activeLottoPrize.freeWheel;

            if (freeAccess) {
                bonusUnlockContainer.style.display = 'none';
                playWheelButton.style.display = 'block';
                return;
            }

            bonusUnlockContainer.style.display = 'flex';

            if (gameData.bonusUnlocked) {
                playWheelButton.style.display = 'block';
            } else {
                playWheelButton.style.display = 'none';
            }
        }
        function seededRandom(seed) { let x = Math.sin(seed) * 10000; return x - Math.floor(x); }
        function getCurrentHourSeed() { const now = new Date(); return now.getFullYear() * 1000000 + (now.getMonth() + 1) * 10000 + now.getDate() * 100 + now.getHours(); }
        function getCurrentDaySeed() { const now = new Date(); return now.getFullYear() * 10000 + (now.getMonth() + 1) * 100 + now.getDate(); }
        function setGameMode(mode) {
            gameData.gameModes[gameData.currentWordIndex] = mode;
            gameData.modeLocked[gameData.currentWordIndex] = true;
            saveGame();
            renderInfoBarFront();
        }
        function updateGameModeDisplay() {
            const mode = gameData.gameModes[gameData.currentWordIndex];
            if (mode === 'timed') {
                startTimer(gameData.timers[gameData.currentWordIndex]);
            } else {
                clearInterval(timerInterval);
            }
        }
        function showRandomGameMessage() {
            if (gameData.isGameOver || document.querySelector('.overlay.visible') || hintDisplayArea.classList.contains('active') || checkAndDisplayIdleState()) {
                return;
            }
            const randomMessage = RANDOM_GAME_MESSAGES[Math.floor(Math.random() * RANDOM_GAME_MESSAGES.length)];
            showFeedbackMessage(`<i>${randomMessage}</i>`);
            setTimeout(() => {
                if (infoBar.classList.contains('feedback-message')) {
                    renderInfoBarFront();
                }
            }, 10000); 
        }
        function startRandomMessageTimer() { clearInterval(randomMessageInterval); randomMessageInterval = setInterval(showRandomGameMessage, 30000 + Math.random() * 15000); }
        function checkAndDisplayIdleState() { clearInterval(idleCountdownInterval); const allWordsCompleted = gameData.progress.every(p => p.status === 'solved' || p.status === 'failed-revealed' || (p.status === 'failed' && (Date.now() - (p.failTimestamp || 0)) < RETRY_COOLDOWN_MS)); if (allWordsCompleted) { gridContainer.style.display = 'none'; hintControls.style.display = 'none'; infoBar.style.display = 'none'; setKeyboardVisibility(false); clearInterval(randomMessageInterval); clearInterval(secretCodeFlasherInterval); let msg = FUNNY_IDLE_MESSAGES[getCurrentHourSeed() % FUNNY_IDLE_MESSAGES.length]; idleMessageContainer.innerHTML = `<h3>${msg.title}</h3><p>${msg.text}</p><span id="countdown-timer"></span>`; idleMessageContainer.style.display = 'block'; const countdownElement = document.getElementById('countdown-timer'); function updateCountdown() { const now = new Date(); const nextHour = new Date(now); nextHour.setHours(now.getHours() + 1); nextHour.setMinutes(0); nextHour.setSeconds(0); nextHour.setMilliseconds(0); const timeLeft = nextHour - now; if (timeLeft < 0) { clearInterval(idleCountdownInterval); countdownElement.textContent = "Bármelyik pillanatban!"; return; } const minutes = Math.floor((timeLeft / 1000 / 60) % 60).toString().padStart(2, '0'); const seconds = Math.floor((timeLeft / 1000) % 60).toString().padStart(2, '0'); countdownElement.textContent = `pontosan ${minutes} perc ${seconds} másodperc múlva érkeznek!`; } updateCountdown(); idleCountdownInterval = setInterval(updateCountdown, 1000); return true; } else { gridContainer.style.display = 'grid'; hintControls.style.display = 'flex'; infoBar.style.display = 'flex'; idleMessageContainer.style.display = 'none'; setKeyboardVisibility(keyboardToggleCheckbox.checked); return false; } }

        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT' && e.target.type !== 'checkbox' && e.target.id !== 'hidden-input') {
                return;
            }
            if (e.key === 'Enter') {
                e.preventDefault(); 
                if(document.getElementById('wheel-game-overlay').classList.contains('visible')){
                } else if(document.getElementById('lotto-game-overlay').classList.contains('visible')){
                     if(selectedLottoNumbers.length === 5) submitLottoTicketOverlay();
                } else {
                    submitGuess();
                }
            } else {
                handleKeyPress(e.key);
            }
        });
        hiddenInput.addEventListener('input', (e) => { if (e.target.value) { handleKeyPress(e.target.value.slice(-1)); e.target.value = ''; } });
        gridContainer.addEventListener('click', () => { if (keyboardToggleCheckbox.checked) { hiddenInput.focus(); } });
        document.getElementById('new-hour-refresh-button').addEventListener('click', () => location.reload());
        
        playWheelButton.addEventListener('click', () => { initWheelGame(); });

        codeInputs.forEach(input => {
            input.addEventListener('input', (e) => {
                const val = e.target.value;
                if(input.dataset.isFlashing === 'true') { e.target.value = e.target.dataset.originalValue || ''; return; }
                if (val && !/^\d$/.test(val)) { e.target.value = ''; return; }
                if (val && input.dataset.index < '3') {
                    codeInputs[parseInt(input.dataset.index) + 1].focus();
                }
            });
            input.addEventListener('keydown', (e) => {
                if(input.dataset.isFlashing === 'true') { e.preventDefault(); return; }
                if (e.key === 'Backspace' && !input.value && input.dataset.index > '0') {
                    codeInputs[parseInt(input.dataset.index) - 1].focus();
                }
            });
        });

        checkCodeButton.addEventListener('click', () => {
            const enteredCode = Array.from(codeInputs).map(input => input.value).join('');
            const correctCode = gameData.secretCode.join('');
            if (enteredCode === correctCode || enteredCode === '0000') {
                if (enteredCode === '0000') {
                    alert("Fejlesztői teszt kód aktiválva!");
                } else {
                    alert("Helyes kód! Feloldottad a Szerencsekereket!");
                }
                gameData.bonusUnlocked = true;
                saveGame();
                updateBonusUnlockUI();
                codeInputs.forEach(input => input.value = '');
            } else {
                alert("Hibás kód! Figyelj tovább a felvillanó számokra!");
                codeInputContainer.classList.add('shake');
                setTimeout(() => codeInputContainer.classList.remove('shake'), 500);
                codeInputs.forEach(input => input.value = '');
                codeInputs[0].focus();
            }
        });

        spinButton.addEventListener('click', togglePowerMeterAndSpin);
        powerMeterContainer.addEventListener('click', togglePowerMeterAndSpin);
        solveButton.addEventListener('click', solve);
        closeWheelButton.addEventListener('click', () => {
            wheelGameOverlay.classList.remove('visible');
            updateDailyScoreDisplay(getDailyScore());
            checkAndDisplayIdleState();
            updateBonusUnlockUI();
        });
        cashOutButton.addEventListener('click', cashOut);
        nextRoundButton.addEventListener('click', () => {
            startNewRound();
        });
        collectWinningsButton.addEventListener('click', () => { 
            cardGameOverlay.classList.remove('visible'); 
            cashOut();
        });
        requestTextHintButton.addEventListener('click', () => { 
            const wordObject = wordData[gameData.hourlySet[gameData.currentWordIndex]];
            if(activeHints.text.length >= wordObject.hints.length) {
                alert("Nincs több elérhető szöveges segítség ehhez a szóhoz!");
                return;
            }
            if(spendPointsForHint(false)) { 
                displayHint(false); 
            } 
        });
        requestLetterHintButton.addEventListener('click', () => { 
            if(spendPointsForHint(true)) { 
                displayHint(true); 
            } 
        });
        wheelHelpButton.addEventListener('click', () => {
            const currentScore = getDailyScore();
            if (currentScore <= 200) {
                alert(`Sajnos nincs elég pontod ehhez a segítséghez. A mai pontszámodnak (nem a bónusz nyereménynek) 200 pont felett kell lennie. Jelenlegi pontszámod: ${currentScore}.`);
                return;
            }
            if (confirm("Ez a végső segítség! Az összes pontodat levonja 200-ra, de cserébe felfedi az összes magánhangzót. Biztosan kéred?")) {
                const pointsToDeduct = currentScore - 200;
                addPointsToDailyScore(-pointsToDeduct);
                wheelHelpButton.style.display = 'none';
                wheelHelpButton.classList.remove('pulse-purple');
                VOWELS.split('').forEach(vowel => {
                    if (!wheelState.guessedLetters.includes(vowel) && wheelState.puzzle.puzzle.toUpperCase().includes(vowel)) {
                         guessLetter(vowel, true);
                    }
                });
            }
        });
        
        playLottoButton.addEventListener('click', openLottoOverlay);
        submitLottoButtonOverlay.addEventListener('click', submitLottoTicketOverlay);
        closeLottoOverlayButton.addEventListener('click', closeLottoOverlay);
        
        // --- INDÍTÁS ---
        populateThemePicker();
        loadTheme();
        initGame();
        setInterval(checkForNewHour, 1000 * 30);
        setInterval(() => { updateMainLottoView(); }, 60000);
    });
    </script>
</body>
</html>
