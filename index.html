<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Napi Szó - Szókereső Játék</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CSS STÍLUSOK --- */
        :root {
            --bg-color: #121213;
            --text-color: #FFFFFF;
            --border-color: #3a3a3c;
            --absent-color: #3a3a3c;
            --present-color: #b59f3b;
            --correct-color: #538d4e;
            --key-bg: #818384;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            height: 95vh;
            width: 100%;
            max-width: 500px;
            padding: 10px;
            box-sizing: border-box;
        }

        header {
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            width: 100%;
        }

        header h1 {
            margin: 0;
            font-size: 2.2rem;
            letter-spacing: 0.1em;
        }

        header p {
            margin-top: 5px;
            color: #a0a0a0;
        }

        #grid-container {
            display: grid;
            grid-template-rows: repeat(10, 1fr);
            grid-gap: 5px;
            padding: 10px;
            box-sizing: border-box;
            width: 350px;
            height: 420px;
        }

        .grid-row {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-gap: 5px;
        }

        .grid-cell {
            width: 100%;
            height: 100%;
            border: 2px solid var(--border-color);
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
            transition: transform 0.6s, background-color 0.6s, border-color 0.6s;
            transform-style: preserve-3d;
        }

        .grid-cell.filled {
            border-color: #565758;
            animation: pop 0.2s;
        }

        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .grid-cell .front { z-index: 2; transform: rotateY(0deg); }
        .grid-cell .back { transform: rotateY(180deg); }

        .grid-cell.flip { transform: rotateX(180deg); }
        .grid-cell.correct { background-color: var(--correct-color); border-color: var(--correct-color); }
        .grid-cell.present { background-color: var(--present-color); border-color: var(--present-color); }
        .grid-cell.absent { background-color: var(--absent-color); border-color: var(--absent-color); }

        #hint-container {
            border: 1px dashed var(--border-color);
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 8px;
            text-align: center;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 90%;
        }

        #hint-text {
            margin: 0;
            font-style: italic;
            color: #c0c0c0;
        }

        #keyboard-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 6px;
        }

        .key {
            font-family: inherit;
            font-weight: bold;
            background-color: var(--key-bg);
            color: var(--text-color);
            border: none;
            border-radius: 4px;
            padding: 0;
            height: 58px;
            flex-grow: 1;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s;
        }

        .key:hover { background-color: #939596; }
        .key.large { flex-grow: 1.5; font-size: 0.8rem; }
        .key.correct { background-color: var(--correct-color); }
        .key.present { background-color: var(--present-color); }
        .key.absent { background-color: var(--absent-color); }

        #message-container {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(255, 255, 255, 0.9);
            color: #121213;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: bold;
            z-index: 100;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }

        #message-container.show { opacity: 1; }
        .row-shake { animation: shake 0.5s; }

        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }
    </style>
</head>
<body>

    <div id="game-container">
        <header>
            <h1>Napi Szó</h1>
            <p>Találd ki a mai 6 betűs szót!</p>
        </header>

        <div id="message-container"></div>

        <main id="grid-container"></main>

        <div id="hint-container">
            <p id="hint-text">A segítség az első tipp után jelenik meg.</p>
        </div>

        <div id="keyboard-container"></div>
    </div>

    <script>
        // --- JÁTÉK LOGIKA (JAVASCRIPT) ---
        document.addEventListener('DOMContentLoaded', () => {

            // Szólista és segítségek
            const wordsWithHints = [
                { word: "ASZTAL", hint: "Bútor, aminél eszünk vagy dolgozunk." },
                { word: "ISKOLA", hint: "Oktatási intézmény gyerekeknek." },
                { word: "PALOTA", hint: "Fényűző, nagy épület, uralkodók lakhelye." },
                { word: "BARACK", hint: "Egy csonthéjas, szőrös héjú gyümölcs." },
                { word: "FALATO", hint: "Étterem, ahol gyorsan lehet enni." },
                { word: "KALAND", hint: "Izgalmas, veszélyes vagy szokatlan élmény." },
                { word: "KOVÁCS", hint: "Szakember, aki fémeket munkál meg." },
                { word: "LOVAGL", hint: "Lóháton való közlekedés vagy sport." },
                { word: "PÁLINKA", hint: "Híres magyar, gyümölcsből készült égetett szesz." },
                { word: "SZAPPAN", hint: "Tisztálkodási szer, ami habzik a víztől." },
                { word: "TEKNŐS", hint: "Páncéllal rendelkező, lassú hüllő." },
                { word: "VÁLLAL", hint: "Magára vesz egy feladatot vagy felelősséget." },
                { word: "ABLAKO", hint: "Egy épület nyílása, amin át kinézhetünk." },
                { word: "CSALOG", hint: "Szép énekével magához vonz." },
                { word: "DOROMB", hint: "Egy kis, fémből készült népi hangszer." },
                { word: "ECSETT", hint: "Eszköz, amivel festünk." },
                { word: "FOGOLY", hint: "Egy madárfaj, vagy akit fogságban tartanak." },
                { word: "GALAMB", hint: "Városokban gyakori, turbékoló madár." },
                { word: "HARANG", hint: "Templomtoronyban lakó, kongó hangszer." },
                { word: "ÍGÉRET", hint: "Szóbeli fogadalom, amit illik betartani." },
                { word: "JÁRMŰV", hint: "Közlekedési eszköz, például autó vagy busz." },
                { word: "KABÁTO", hint: "Hűvös időben viselt felsőruházat." },
                { word: "LAKATO", hint: "Eszköz, amivel ajtót vagy láncot zárunk le." },
                { word: "MALOMK", hint: "Gabona őrlésére használt kő." },
                { word: "NAPSUG", hint: "A Napból érkező fénynyaláb." },
                { word: "ORSZÁG", hint: "Politikai egység, saját kormánnyal." },
                { word: "PÁRNAF", hint: "Alváskor a fejünk alá tesszük." },
                { word: "RADÍRO", hint: "Eszköz, amivel a ceruza nyomát eltüntetjük." },
                { word: "SZÉKRE", hint: "Bútor, amire ráülünk." },
                { word: "TÁBLÁR", hint: "Felület, amire krétával vagy filccel írunk." },
                { word: "UDVARO", hint: "Kedveskedik valakinek, hogy elnyerje a tetszését." },
                { word: "VÁNDOR", hint: "Sokat utazó, helyét változtató személy." },
                { word: "ZÁPORO", hint: "Hirtelen, heves eső." },
                { word: "ÁLLOMÁ", hint: "Hely, ahol a vonatok, buszok megállnak." },
                { word: "BÁTORS", hint: "A félelem legyőzése, merészség." },
                { word: "CIMBOR", hint: "Jó barát, pajtás." },
                { word: "DUGÓHÚ", hint: "Eszköz a borosüvegek kinyitásához." },
                { word: "EJTŐER", hint: "Leesést lassító, kupola alakú eszköz." },
                { word: "FÜRDŐK", hint: "Helyiség, ahol mosakodunk." },
                { word: "GOMBÓC", hint: "Édes vagy sós, gömb alakú tésztaétel." },
                { word: "HINTAL", hint: "Játszótéri eszköz, amin előre-hátra lehet lengeni." },
                { word: "INGATL", hint: "Épület vagy telek, mint tulajdon." },
                { word: "JELLEM", hint: "Egy személy belső tulajdonságainak összessége." },
                { word: "KEDVES", hint: "Barátságos, szeretetteljes viselkedés." },
                { word: "LEPKEF", hint: "Repülő rovar, színes, hártyás szárnyakkal." },
                { word: "MÉZESK", hint: "Fűszeres, édes sütemény, gyakran karácsonyi." },
                { word: "NYAKLÁ", hint: "Nyakban viselt ékszer." },
                { word: "ÓCEÁNJ", hint: "Hatalmas, sós vizű tenger." },
                { word: "PÉNZTÁ", hint: "Hely, ahol a vásárolt árukért fizetünk." },
                { word: "RENDŐR", hint: "A közbiztonságért felelős egyenruhás személy." },
                { word: "SALÁTA", hint: "Zöldségekből készült, gyakran hideg étel." },
            ];
            
            const WORD_LENGTH = 6;
            const MAX_GUESSES = 10;
            let currentRow = 0;
            let currentCol = 0;
            let isGameOver = false;

            function getDailyWord() {
                const startDate = new Date("2024-01-01");
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const dayDifference = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
                const wordIndex = dayDifference % wordsWithHints.length;
                return wordsWithHints[wordIndex];
            }
            
            const { word: targetWord, hint: targetHint } = getDailyWord();
            const gridContainer = document.getElementById('grid-container');
            const keyboardContainer = document.getElementById('keyboard-container');
            const messageContainer = document.getElementById('message-container');
            const hintText = document.getElementById('hint-text');

            function initializeGame() {
                for (let i = 0; i < MAX_GUESSES; i++) {
                    const row = document.createElement('div');
                    row.classList.add('grid-row');
                    row.id = `row-${i}`;
                    for (let j = 0; j < WORD_LENGTH; j++) {
                        const cell = document.createElement('div');
                        cell.classList.add('grid-cell');
                        cell.id = `cell-${i}-${j}`;
                        row.appendChild(cell);
                    }
                    gridContainer.appendChild(row);
                }

                const keys = [
                    'Q', 'W', 'E', 'R', 'T', 'Z', 'U', 'I', 'O', 'P',
                    'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'É', 'Á', 'Ű',
                    'Enter', 'Y', 'X', 'C', 'V', 'B', 'N', 'M', 'Ö', 'Ü', 'Ó', 'Ő', 'Ú', 'Í', 'Backspace'
                ];
                
                const keyLayout = [
                    ['Q', 'W', 'E', 'R', 'T', 'Z', 'U', 'I', 'O', 'P', 'Ő', 'Ú'],
                    ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'É', 'Á', 'Ű'],
                    ['Enter', 'Y', 'X', 'C', 'V', 'B', 'N', 'M', 'Ö', 'Ü', 'Ó', 'Í', 'Backspace']
                ];
                
                keyLayout.forEach(rowKeys => {
                    const row = document.createElement('div');
                    row.classList.add('keyboard-row');
                    rowKeys.forEach(key => {
                        const button = document.createElement('button');
                        button.textContent = key;
                        button.classList.add('key');
                        button.dataset.key = key.toLowerCase();
                        if (key === 'Enter' || key === 'Backspace') {
                            button.classList.add('large');
                        }
                        button.addEventListener('click', () => handleKeyPress(key));
                        row.appendChild(button);
                    });
                    keyboardContainer.appendChild(row);
                });
            }

            function handleKeyPress(key) {
                if (isGameOver) return;
                
                const keyLower = key.toLowerCase();
                
                if (keyLower === 'enter') {
                    submitGuess();
                } else if (keyLower === 'backspace') {
                    deleteLetter();
                } else if (key.length === 1 && key.match(/^[a-zA-ZáéíóöőúüűÁÉÍÓÖŐÚÜŰ]$/)) {
                    addLetter(key.toUpperCase());
                }
            }

            function addLetter(letter) {
                if (currentCol < WORD_LENGTH) {
                    const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
                    cell.textContent = letter;
                    cell.classList.add('filled');
                    currentCol++;
                }
            }

            function deleteLetter() {
                if (currentCol > 0) {
                    currentCol--;
                    const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
                    cell.textContent = '';
                    cell.classList.remove('filled');
                }
            }

            function submitGuess() {
                if (currentCol !== WORD_LENGTH) {
                    showMessage("A szó túl rövid!");
                    shakeRow();
                    return;
                }

                const guess = Array.from({ length: WORD_LENGTH }, (_, i) => 
                    document.getElementById(`cell-${currentRow}-${i}`).textContent
                ).join('');

                flipRow(guess);
                
                if (guess === targetWord) {
                    showMessage("Sikeres megfejtés!", 5000);
                    isGameOver = true;
                    hintText.parentElement.style.borderColor = 'var(--correct-color)';
                    hintText.textContent = `Ügyes! A helyes szó: ${targetWord}.`;
                    return;
                }

                currentRow++;

                if (currentRow >= MAX_GUESSES) {
                    showMessage(`Sajnos nem sikerült. A szó: ${targetWord}`, 10000);
                    isGameOver = true;
                     hintText.parentElement.style.borderColor = '#d9534f';
                     hintText.textContent = `A helyes szó ez lett volna: ${targetWord}.`;
                } else {
                    hintText.textContent = `Segítség: ${targetHint}`;
                    currentCol = 0;
                }
            }

            function flipRow(guess) {
                const rowCells = document.querySelectorAll(`#row-${currentRow} .grid-cell`);
                const targetLetters = targetWord.split('');
                const guessLetters = guess.split('');
                const letterStates = Array(WORD_LENGTH).fill('absent');

                guessLetters.forEach((letter, index) => {
                    if (letter === targetLetters[index]) {
                        letterStates[index] = 'correct';
                        targetLetters[index] = null;
                    }
                });

                guessLetters.forEach((letter, index) => {
                    if (letterStates[index] !== 'correct' && targetLetters.includes(letter)) {
                        letterStates[index] = 'present';
                        targetLetters[targetLetters.indexOf(letter)] = null;
                    }
                });

                rowCells.forEach((cell, index) => {
                    setTimeout(() => {
                        cell.classList.add('flip');
                        cell.classList.add(letterStates[index]);
                        updateKeyboard(guessLetters[index], letterStates[index]);
                    }, index * 300);
                });
            }

            function updateKeyboard(letter, state) {
                const key = document.querySelector(`.key[data-key="${letter.toLowerCase()}"]`);
                if (!key) return;

                const currentState = key.classList.contains('correct') ? 'correct' : key.classList.contains('present') ? 'present' : 'absent';
                
                if (state === 'correct' || (state === 'present' && currentState !== 'correct')) {
                    key.classList.remove('present', 'absent');
                    key.classList.add(state);
                } else if (state === 'absent' && currentState === 'absent') {
                    key.classList.add(state);
                }
            }
            
            function showMessage(message, duration = 2000) {
                messageContainer.textContent = message;
                messageContainer.classList.add('show');
                setTimeout(() => {
                    messageContainer.classList.remove('show');
                }, duration);
            }

            function shakeRow() {
                const row = document.getElementById(`row-${currentRow}`);
                row.classList.add('row-shake');
                setTimeout(() => {
                    row.classList.remove('row-shake');
                }, 500);
            }
            
            document.addEventListener('keydown', (e) => handleKeyPress(e.key));

            initializeGame();
        });
    </script>
</body>
</html>